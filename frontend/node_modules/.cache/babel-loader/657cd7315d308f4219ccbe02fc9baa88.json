{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\PortfolioTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\PortfolioTable.vue","mtime":1600137340488},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxVc2Vyc1xcVXNlclxcRGVza3RvcFxcRmVlelxcZmVlelxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOwppbXBvcnQgQWRkUG9ydGZvbGlvTmFtZSBmcm9tICJAL2NvbXBvbmVudHMvQWRkUG9ydGZvbGlvTmFtZS52dWUiOwppbXBvcnQgRGVsZXRlT2JqIGZyb20gIkAvY29tcG9uZW50cy9EZWxldGVPYmoudnVlIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBJTlZFU1RNRU5UTkFNRV9BTEwgfSBmcm9tICJAL3N0b3JlL2FjdGlvbnMudHlwZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUG9ydGZvbGlvVGFibGUiLAogIHByb3BzOiB7CiAgICBwb3J0Zm9saW86IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2g6IG51bGwsCiAgICAgIHNlbGVjdGVkUG9ydGZvbGlvOiB7fSwKICAgICAgaW52ZXN0bWVudHM6IFtdLAogICAgICBhY3RpdmU6IGZhbHNlLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgcG9ydGZvbGlvczogW10sCiAgICAgIGNoYW5nZUxpc3Q6IFtdLAogICAgICBuZXdJbnZlc3RtZW50OiB7fSwKICAgICAgZWRpdFBvcnRmb2xpb05hbWU6IGZhbHNlLAogICAgICBuZXdQb3J0Zm9saW9OYW1lOiAnJwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIERlbGV0ZU9iajogRGVsZXRlT2JqLAogICAgQWRkUG9ydGZvbGlvTmFtZTogQWRkUG9ydGZvbGlvTmFtZQogIH0sCiAgd2F0Y2g6IHsKICAgIHBvcnRmb2xpbzogZnVuY3Rpb24gcG9ydGZvbGlvKCkgewogICAgICB0aGlzLmdldEludmVzdG1lbnRzKCk7CiAgICB9LAogICAgc2VsZWN0ZWRQb3J0Zm9saW86IGZ1bmN0aW9uIHNlbGVjdGVkUG9ydGZvbGlvKCkgewogICAgICB0aGlzLmdldEludmVzdG1lbnRzKCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImFjdGl2ZVVzZXIiLCAiaW52ZXN0bWVudE5hbWVzIl0pLCB7CiAgICBwb3J0Zm9saW9JRDogZnVuY3Rpb24gcG9ydGZvbGlvSUQoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUG9ydGZvbGlvICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFBvcnRmb2xpby5pZDsKICAgICAgfSBlbHNlIGlmICh0aGlzLnBvcnRmb2xpbykgewogICAgICAgIHJldHVybiB0aGlzLnBvcnRmb2xpby5pZDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGNhbkVkaXQ6IGZ1bmN0aW9uIGNhbkVkaXQoKSB7CiAgICAgIGlmICh0aGlzLmlzUHJhY3RpY2VBZG1pbiAmJiB0aGlzLmlzTm90QUZTTExpbWl0ZWQgJiYgdGhpcy5pc05vdE1hc3RlclRlbXBsYXRlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgaXNOb3RNYXN0ZXJUZW1wbGF0ZTogZnVuY3Rpb24gaXNOb3RNYXN0ZXJUZW1wbGF0ZSgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRQb3J0Zm9saW8uaWQpIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFBvcnRmb2xpby50ZW1wbGF0ZSAmJiB0aGlzLnNlbGVjdGVkUG9ydGZvbGlvLm1hc3Rlcl90ZW1wbGF0ZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBpc1ByYWN0aWNlQWRtaW46IGZ1bmN0aW9uIGlzUHJhY3RpY2VBZG1pbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUG9ydGZvbGlvLmlkKSB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRQb3J0Zm9saW8uYWN0aXZlX3ByYWN0aWNlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFBvcnRmb2xpby5hY3RpdmVfcHJhY3RpY2VzLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFjdGl2ZVVzZXIuYWRtaW5fcHJhY3RpY2VzLmluY2x1ZGVzKGl0ZW0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGlzTm90QUZTTExpbWl0ZWQ6IGZ1bmN0aW9uIGlzTm90QUZTTExpbWl0ZWQoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUG9ydGZvbGlvLmlkKSB7CiAgICAgICAgaWYgKHRoaXMuXy5pc0VtcHR5KHRoaXMuc2VsZWN0ZWRQb3J0Zm9saW8uYWZzbHMpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGZpbHRlck9iamVjdDogZnVuY3Rpb24gZmlsdGVyT2JqZWN0KGl0ZW0sIHF1ZXJ5VGV4dCkgewogICAgICB2YXIgdGV4dE9uZSA9IGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICB2YXIgc2VhcmNoVGV4dCA9IHF1ZXJ5VGV4dC50b0xvd2VyQ2FzZSgpOwoKICAgICAgaWYgKGl0ZW0uY29kZSkgewogICAgICAgIHZhciB0ZXh0VHdvID0gaXRlbS5jb2RlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuIHRleHRPbmUuaW5kZXhPZihzZWFyY2hUZXh0KSA+IC0xIHx8IHRleHRUd28uaW5kZXhPZihzZWFyY2hUZXh0KSA+IC0xOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0ZXh0T25lLmluZGV4T2Yoc2VhcmNoVGV4dCkgPiAtMTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrSGludDogZnVuY3Rpb24gY2hlY2tIaW50KCkgewogICAgICBpZiAoIXRoaXMuY2hlY2tDb21wbGV0ZSgpKSB7CiAgICAgICAgcmV0dXJuICJBbGxvY2F0aW9ucyBkbyBub3QgZXF1YWwgMTAwJSI7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja0NvbG9yOiBmdW5jdGlvbiBjaGVja0NvbG9yKCkgewogICAgICBpZiAoIXRoaXMuY2hlY2tDb21wbGV0ZSgpKSB7CiAgICAgICAgcmV0dXJuICJyZWQgbGlnaHRlbi00IjsKICAgICAgfQogICAgfSwKICAgIGNoZWNrQ29tcGxldGU6IGZ1bmN0aW9uIGNoZWNrQ29tcGxldGUoKSB7CiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuaW52ZXN0bWVudHMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEgKyBOdW1iZXIoYi5wZXJjZW50YWdlKTsKICAgICAgfSwgMCk7CgogICAgICBpZiAodmFsdWUgPT0gMSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVBvcnRmb2xpb05hbWU6IGZ1bmN0aW9uIHVwZGF0ZVBvcnRmb2xpb05hbWUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5lZGl0UG9ydGZvbGlvTmFtZSA9ICF0aGlzLmVkaXRQb3J0Zm9saW9OYW1lOwoKICAgICAgaWYgKHRoaXMubmV3UG9ydGZvbGlvTmFtZSAhPSAnJykgewogICAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3BvcnRmb2xpb3RlbXBsYXRlcy8iLmNvbmNhdCh0aGlzLnNlbGVjdGVkUG9ydGZvbGlvLmlkLCAiLyIpOwogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIHsKICAgICAgICAgIG5hbWU6IHRoaXMubmV3UG9ydGZvbGlvTmFtZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIF90aGlzMi5zZWxlY3RlZFBvcnRmb2xpbyA9IGRhdGE7CiAgICAgICAgICBfdGhpczIubmV3UG9ydGZvbGlvTmFtZSA9ICIiOwoKICAgICAgICAgIHZhciBpID0gX3RoaXMyLnBvcnRmb2xpb3MuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBkYXRhLmlkOwogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMyLnBvcnRmb2xpb3Muc3BsaWNlKGksIDAsIGRhdGEpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYWRkUG9ydGZvbGlvOiBmdW5jdGlvbiBhZGRQb3J0Zm9saW8oZGF0YSkgewogICAgICB0aGlzLnNlbGVjdGVkUG9ydGZvbGlvID0gZGF0YTsKICAgICAgdGhpcy5nZXRQb3J0Zm9saW9zKCk7CiAgICB9LAogICAgZGVsZXRlUG9ydGZvbGlvOiBmdW5jdGlvbiBkZWxldGVQb3J0Zm9saW8oZGF0YSkgewogICAgICB2YXIgaSA9IHRoaXMucG9ydGZvbGlvcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gZGF0YS5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLnBvcnRmb2xpb3MsIGkpOwogICAgICB0aGlzLmludmVzdG1lbnRzID0gW107CiAgICB9LAogICAgc2V0UGVyY2VudGFnZTogZnVuY3Rpb24gc2V0UGVyY2VudGFnZShldmVudCwgaW52ZXN0bWVudCkgewogICAgICBpZiAoaW52ZXN0bWVudC5pZCkgewogICAgICAgIC8vZm9yIGV4aXN0aW5nIGludmVzdG1lbnRzCiAgICAgICAgdmFyIGkgPSB0aGlzLmludmVzdG1lbnRzLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IGludmVzdG1lbnQuaWQ7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5pbnZlc3RtZW50c1tpXS5wZXJjZW50YWdlID0gZXZlbnQgLyAxMDA7CiAgICAgIH0gZWxzZSBpZiAoaW52ZXN0bWVudC5wZXJjZW50YWdlKSB7CiAgICAgICAgLy9mb3IgbmV3IGludmVzdG1lbnRzIHRoYXQgaGF2ZSBhIHBlcmNlbnRhZ2UgcHJvcGVydHkKICAgICAgICB0aGlzLm5ld0ludmVzdG1lbnQucGVyY2VudGFnZSA9IGV2ZW50IC8gMTAwOwogICAgICB9IGVsc2UgewogICAgICAgIC8vZm9yIG5ldyBpbnZlc3RtZW50cwogICAgICAgIHRoaXMuJHNldCh0aGlzLm5ld0ludmVzdG1lbnQsICdwZXJjZW50YWdlJywgZXZlbnQgLyAxMDApOwogICAgICB9CiAgICB9LAogICAgZ2V0UGVyY2VudGFnZTogZnVuY3Rpb24gZ2V0UGVyY2VudGFnZShpbnZlc3RtZW50KSB7CiAgICAgIGlmIChpbnZlc3RtZW50LnBlcmNlbnRhZ2UpIHsKICAgICAgICByZXR1cm4gKGludmVzdG1lbnQucGVyY2VudGFnZSAqIDEwMCkudG9GaXhlZCgyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGFkZFRvQ2hhbmdlZDogZnVuY3Rpb24gYWRkVG9DaGFuZ2VkKGludmVzdG1lbnQpIHsKICAgICAgaWYgKCF0aGlzLmNoYW5nZUxpc3QuaW5jbHVkZXMoaW52ZXN0bWVudCkpIHsKICAgICAgICB0aGlzLmNoYW5nZUxpc3QucHVzaChpbnZlc3RtZW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgaSA9IHRoaXMuY2hhbmdlTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBpbnZlc3RtZW50LmlkOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuY2hhbmdlTGlzdC5zcGxpY2UoaSwgMSk7CiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0LnB1c2goaW52ZXN0bWVudCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRQb3J0Zm9saW9zOiBmdW5jdGlvbiBnZXRQb3J0Zm9saW9zKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3BvcnRmb2xpb3RlbXBsYXRlcy8iOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMzLnBvcnRmb2xpb3MgPSBkYXRhLnJlc3VsdHM7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEludmVzdG1lbnRzOiBmdW5jdGlvbiBnZXRJbnZlc3RtZW50cygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5wb3J0Zm9saW9JRCAhPSBudWxsKSB7CiAgICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvcG9ydGZvbGlvdGVtcGxhdGVzLyIuY29uY2F0KHRoaXMucG9ydGZvbGlvSUQsICIvaW52ZXN0bWVudHMvIik7CiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgX3RoaXM0LmludmVzdG1lbnRzID0gZGF0YS5yZXN1bHRzOwogICAgICAgIH0pOwogICAgICB9CgogICAgICA7CiAgICB9LAogICAgYWRkSW52ZXN0bWVudDogZnVuY3Rpb24gYWRkSW52ZXN0bWVudCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5uZXdJbnZlc3RtZW50LmludmVzdG1lbnRfbmFtZSkgewogICAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3BvcnRmb2xpb3RlbXBsYXRlcy8iLmNvbmNhdCh0aGlzLnBvcnRmb2xpb0lELCAiL2ludmVzdG1lbnRzLyIpOwogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQT1NUIiwgewogICAgICAgICAgaW52ZXN0bWVudF9uYW1lX2lkOiB0aGlzLm5ld0ludmVzdG1lbnQuaW52ZXN0bWVudF9uYW1lLAogICAgICAgICAgcG9ydGZvbGlvOiB0aGlzLnBvcnRmb2xpb0lELAogICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5uZXdJbnZlc3RtZW50LnBlcmNlbnRhZ2UKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBfdGhpczUuaW52ZXN0bWVudHMucHVzaChkYXRhKTsKCiAgICAgICAgICBfdGhpczUubmV3SW52ZXN0bWVudC5pbnZlc3RtZW50X25hbWUgPSBudWxsOwogICAgICAgICAgX3RoaXM1Lm5ld0ludmVzdG1lbnQucGVyY2VudGFnZSA9IG51bGw7CiAgICAgICAgfSk7CgogICAgICAgIGlmICh0aGlzLmVycm9yKSB7CiAgICAgICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvciA9ICJZb3UgbXVzdCBlbnRlciBhIG5hbWUgYW5kIGFtb3VudCBmb3IgdGhlIG5ldyBpbnZlc3RtZW50IjsKICAgICAgfQogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgaWYgKHRoaXMuY2hhbmdlTGlzdCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFuZ2VMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9wb3J0Zm9saW90ZW1wbGF0ZXMvIi5jb25jYXQodGhpcy5wb3J0Zm9saW9JRCwgIi9pbnZlc3RtZW50cy8iKS5jb25jYXQodGhpcy5jaGFuZ2VMaXN0W2ldLmlkLCAiLyIpOwogICAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBBVENIIiwgewogICAgICAgICAgICBpbnZlc3RtZW50X25hbWVfaWQ6IHRoaXMuY2hhbmdlTGlzdFtpXS5pbnZlc3RtZW50X25hbWUsCiAgICAgICAgICAgIHBvcnRmb2xpbzogdGhpcy5wb3J0Zm9saW9JRCwKICAgICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5jaGFuZ2VMaXN0W2ldLnBlcmNlbnRhZ2UKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIDsKICAgICAgfQoKICAgICAgOwogICAgfSwKICAgIGdldEludmVzdG1lbnROYW1lczogZnVuY3Rpb24gZ2V0SW52ZXN0bWVudE5hbWVzKCkgewogICAgICBpZiAodGhpcy5fLmlzRW1wdHkodGhpcy5pbnZlc3RtZW50TmFtZXMpKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goSU5WRVNUTUVOVE5BTUVfQUxMKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0SW52ZXN0bWVudE5hbWVzKCk7CiAgICB0aGlzLmdldFBvcnRmb2xpb3MoKTsKICAgIHRoaXMuZ2V0SW52ZXN0bWVudHMoKTsKICB9Cn07"},{"version":3,"sources":["PortfolioTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n  <v-container>\r\n    <v-form  @submit.prevent=\"onSubmit\">\r\n      <v-row>\r\n        <v-col\r\n        :cols=\"6\">\r\n          <v-select\r\n            v-if=\"!editPortfolioName\"\r\n            :items=\"portfolios\"\r\n            item-text=\"name\"\r\n            return-object\r\n            v-model=\"selectedPortfolio\"\r\n            outlined dense hide-details>\r\n          </v-select>\r\n          <v-text-field\r\n            v-else\r\n            :value=\"selectedPortfolio.name\"\r\n            @change=\"newPortfolioName = $event\"\r\n            dense outlined\r\n            hide-details />\r\n        </v-col>\r\n        <v-col\r\n        :cols=\"1\" >\r\n          <template v-if=\"selectedPortfolio.id && canEdit\">\r\n            <v-btn\r\n              v-if=\"!editPortfolioName\"\r\n              color=\"green\" icon\r\n              @click=\"editPortfolioName = !editPortfolioName\">\r\n              <v-icon large>mdi-pencil-circle</v-icon>\r\n            </v-btn>\r\n            <v-btn\r\n              v-else\r\n              color=\"green\" icon\r\n              @click=\"updatePortfolioName()\">\r\n              <v-icon large>mdi-check-circle</v-icon>\r\n            </v-btn>\r\n          </template>\r\n        </v-col>\r\n        <v-col\r\n        :cols=\"2\">\r\n          <AddPortfolioName\r\n            :userID=\"activeUser.id\"\r\n            @add-portfolio=\"addPortfolio\"/>\r\n        </v-col>\r\n        <v-col :cols=\"2\">\r\n        <DeleteObj\r\n          v-if=\"canEdit\"\r\n          :objectType=\"'model portfolio'\"\r\n          :objectToDelete=\"selectedPortfolio\"\r\n          @delete-object=\"deletePortfolio($event)\"\r\n        />\r\n      </v-col>\r\n      </v-row>\r\n      <v-row dense>\r\n        <v-col\r\n        :cols=\"8\">\r\n          <v-card>\r\n            <v-card-text>\r\n              Description\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"3\">\r\n          <v-card\r\n          :color=\"checkColor()\"\r\n          :hint=\"checkHint()\"\r\n          persistent-hint>\r\n            <v-card-text>\r\n              Percentage\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"1\">\r\n        </v-col>\r\n      </v-row>\r\n      <v-row\r\n        v-for=\"investment in investments\"\r\n        :key=\"investment.id\"\r\n        dense>\r\n        <v-col\r\n          :cols=\"8\">\r\n            <v-autocomplete\r\n              v-model=\"investment.investment_name\"\r\n              :items=\"investmentNames\"\r\n              item-value=\"id\"\r\n              item-text=\"name\"\r\n              @change=\"addToChanged(investment)\"\r\n              :filter=\"filterObject\"\r\n              outlined dense hide-details>\r\n              <!-- <template v-slot:no-data>\r\n                <v-list-item>\r\n                  <v-list-item-content>\r\n                    <v-list-item-title>\r\n                      No investments match \"<strong>{{ search }}</strong>\". Press <kbd>enter</kbd> to create a custom investment.\r\n                    </v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n              </template> -->\r\n              <template v-slot:item='{ item }'>\r\n                <v-list-item-content class=\"pr-2\">\r\n                  <v-list-item-title v-text=\"item.name\"></v-list-item-title>\r\n                </v-list-item-content>\r\n                <v-spacer></v-spacer>\r\n                <v-chip v-if=\"item.code\" right outlined>\r\n                  {{ item.code }}\r\n                </v-chip>\r\n              </template>\r\n            </v-autocomplete>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"3\">\r\n            <v-text-field\r\n              type=\"number\"\r\n              :value = \"getPercentage(investment)\"\r\n              @blur = \"setPercentage($event.target.value, investment)\"\r\n              @change = \"addToChanged(investment)\"\r\n              dense outlined hide-details/>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"1\">\r\n          <DeleteObj\r\n            v-if=\"canEdit\"\r\n            :objectType=\"'modelInvestment'\"\r\n            :objectToDelete=\"investment\"\r\n            :portfolioID=\"portfolioID\"\r\n            @delete-object=\"getInvestments()\"\r\n            v-on=\"$listeners\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <v-row\r\n        dense\r\n        v-if=\"canEdit\">\r\n        <v-col\r\n          :cols=\"8\">\r\n          <v-autocomplete\r\n            v-model=\"newInvestment.investment_name\"\r\n            :items=\"investmentNames\"\r\n            item-text=\"name\"\r\n            item-value=\"id\"\r\n            outlined dense hide-details\r\n            :filter=\"filterObject\"\r\n            label=\"Add an investment by typing a name\">\r\n            <template v-slot:item='{ item }'>\r\n              <v-list-item-content class=\"pr-2\">\r\n                <v-list-item-title v-text=\"item.name\"></v-list-item-title>\r\n              </v-list-item-content>\r\n              <v-spacer></v-spacer>\r\n              <v-chip v-if=\"item.code\" right outlined>\r\n                {{ item.code }}\r\n              </v-chip>\r\n            </template>\r\n          </v-autocomplete>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"3\">\r\n            <v-text-field\r\n              type=\"number\"\r\n              :value = \"getPercentage(newInvestment)\"\r\n              @blur = \"setPercentage($event.target.value, newInvestment)\"\r\n              outlined dense hide-details/>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"1\">\r\n          <v-btn type=\"button\" color=\"green\" dark dense\r\n            @click=\"addInvestment\">\r\n            <v-icon>\r\n              mdi-plus\r\n            </v-icon>\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row v-if=\"investments.length && canEdit\">\r\n        <v-col>\r\n          <v-btn type=\"submit\" color=\"primary\" dark dense>Update All</v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport AddPortfolioName from \"@/components/AddPortfolioName.vue\";\r\nimport DeleteObj from \"@/components/DeleteObj.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport {\r\n  INVESTMENTNAME_ALL,\r\n} from \"@/store/actions.type\";\r\n\r\nexport default {\r\n  name: \"PortfolioTable\",\r\n  props: {\r\n    portfolio: {\r\n      type: Object,\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      search: null,\r\n      selectedPortfolio: {},\r\n      investments: [],\r\n      active: false,\r\n      error: null,\r\n      portfolios: [],\r\n      changeList: [],\r\n      newInvestment: {},\r\n      editPortfolioName: false,\r\n      newPortfolioName: '',\r\n    };\r\n  },\r\n  components: {\r\n    DeleteObj,\r\n    AddPortfolioName,\r\n  },\r\n  watch: {\r\n    portfolio: function () {\r\n      this.getInvestments();\r\n    },\r\n    selectedPortfolio: function () {\r\n      this.getInvestments();\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"activeUser\", \"investmentNames\"]),\r\n    portfolioID: function() {\r\n      if (this.selectedPortfolio != null) {\r\n        return this.selectedPortfolio.id;\r\n      } else if (this.portfolio){\r\n        return this.portfolio.id;\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n    canEdit() {\r\n      if (this.isPracticeAdmin && this.isNotAFSLLimited && this.isNotMasterTemplate ) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    isNotMasterTemplate() {\r\n      if (this.selectedPortfolio.id) {\r\n        if (this.selectedPortfolio.template && this.selectedPortfolio.master_template) {\r\n          return false\r\n        } else {\r\n          return true\r\n        }\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    isPracticeAdmin() {\r\n      if (this.selectedPortfolio.id) {\r\n        if (this.selectedPortfolio.active_practices.length > 0) {\r\n          return this.selectedPortfolio.active_practices.some(item => this.activeUser.admin_practices.includes(item));\r\n        } else {\r\n          return true\r\n        }\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    isNotAFSLLimited() {\r\n      if (this.selectedPortfolio.id) {\r\n        if (this._.isEmpty(this.selectedPortfolio.afsls)) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    filterObject(item, queryText) {\r\n        const textOne = item.name.toLowerCase()\r\n        const searchText = queryText.toLowerCase()\r\n\r\n        if (item.code) {\r\n          const textTwo = item.code.toLowerCase()\r\n          return textOne.indexOf(searchText) > -1 ||\r\n            textTwo.indexOf(searchText) > -1\r\n        } else {\r\n          return textOne.indexOf(searchText) > -1\r\n        }\r\n    },\r\n    checkHint() {\r\n      if (!this.checkComplete()) {\r\n        return \"Allocations do not equal 100%\"\r\n      }\r\n    },\r\n    checkColor(){\r\n      if (!this.checkComplete()) {\r\n        return \"red lighten-4\"\r\n      }\r\n    },\r\n    checkComplete() {\r\n      let value = this.investments.reduce( function (a,b) {\r\n        return a + Number(b.percentage);\r\n      }, 0);\r\n      if (value == 1) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    updatePortfolioName() {\r\n      this.editPortfolioName = !this.editPortfolioName;\r\n      if (this.newPortfolioName != '') {\r\n        let endpoint = `/api/portfoliotemplates/${this.selectedPortfolio.id}/`;\r\n        apiService(endpoint, \"PATCH\", {\r\n          name: this.newPortfolioName,\r\n        }).then(data => {\r\n          this.selectedPortfolio = data;\r\n          this.newPortfolioName = \"\";\r\n          const i = this.portfolios.findIndex(item => item.id === data.id);\r\n          this.portfolios.splice(i,0,data);\r\n        });\r\n      }\r\n    },\r\n    addPortfolio(data){\r\n      this.selectedPortfolio = data;\r\n      this.getPortfolios();\r\n    },\r\n    deletePortfolio(data) {\r\n      const i = this.portfolios.findIndex(item => item.id === data.id);\r\n      this.$delete(this.portfolios,i)\r\n      this.investments = [];\r\n    },\r\n    setPercentage(event, investment) {\r\n      if (investment.id) {\r\n        //for existing investments\r\n        const i = this.investments.findIndex(item => item.id === investment.id);\r\n        this.investments[i].percentage = event/100;\r\n      } else if (investment.percentage) {\r\n        //for new investments that have a percentage property\r\n        this.newInvestment.percentage = event/100\r\n      } else {\r\n        //for new investments\r\n        this.$set(this.newInvestment, 'percentage', event/100)\r\n      }\r\n    },\r\n    getPercentage(investment) {\r\n      if (investment.percentage) {\r\n        return (investment.percentage*100).toFixed(2);\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n    addToChanged(investment) {\r\n      if (!(this.changeList.includes(investment))) {\r\n        this.changeList.push(investment);\r\n      } else {\r\n        const i = this.changeList.findIndex(item => item.id === investment.id);\r\n        this.changeList.splice(i, 1);\r\n        this.changeList.push(investment);\r\n      }\r\n    },\r\n    getPortfolios() {\r\n      let endpoint = `/api/portfoliotemplates/`;\r\n      apiService(endpoint).then(data => {\r\n        this.portfolios = data.results;\r\n      });\r\n    },\r\n    getInvestments() {\r\n      if (this.portfolioID != null) {\r\n        let endpoint = `/api/portfoliotemplates/${this.portfolioID}/investments/`;\r\n        apiService(endpoint).then(data => {\r\n          this.investments = data.results;\r\n        });\r\n      };\r\n    },\r\n    addInvestment() {\r\n      if (this.newInvestment.investment_name) {\r\n        let endpoint = `/api/portfoliotemplates/${this.portfolioID}/investments/`;\r\n        apiService(endpoint, \"POST\", {\r\n          investment_name_id: this.newInvestment.investment_name,\r\n          portfolio: this.portfolioID,\r\n          percentage: this.newInvestment.percentage,\r\n        }).then(data => {\r\n          this.investments.push(data);\r\n          this.newInvestment.investment_name = null;\r\n          this.newInvestment.percentage = null;\r\n          });\r\n        if (this.error) {\r\n          this.error = null;\r\n        }\r\n      } else {\r\n        this.error = \"You must enter a name and amount for the new investment\";\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (this.changeList) {\r\n        for (let i=0; i < this.changeList.length; i++) {\r\n          let endpoint = `/api/portfoliotemplates/${this.portfolioID}/investments/${this.changeList[i].id}/`;\r\n          apiService(endpoint, \"PATCH\", {\r\n            investment_name_id: this.changeList[i].investment_name,\r\n            portfolio: this.portfolioID,\r\n            percentage: this.changeList[i].percentage,\r\n          }).then(data => {\r\n            console.log(data);\r\n          });\r\n        };\r\n      };\r\n    },\r\n    getInvestmentNames() {\r\n      if (this._.isEmpty(this.investmentNames)) {\r\n        this.$store.dispatch(INVESTMENTNAME_ALL)\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getInvestmentNames();\r\n    this.getPortfolios();\r\n    this.getInvestments();\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}