{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue","mtime":1581993007841},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkM6XFxVc2Vyc1xcVXNlclxcRGVza3RvcFxcRmVlelxcZmVlelxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZSI7CmltcG9ydCBEZWxldGVPYmogZnJvbSAiQC9jb21wb25lbnRzL0RlbGV0ZU9iai52dWUiOwppbXBvcnQgQWRkU2NlbmFyaW8gZnJvbSAiQC9jb21wb25lbnRzL0FkZFNjZW5hcmlvLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaG9tZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNjZW5hcmlvczogW10sCiAgICAgIG5leHQ6IG51bGwsCiAgICAgIGxvYWRpbmdTY2VuYXJpb3M6IGZhbHNlLAogICAgICByZXF1ZXN0VXNlcjogbnVsbCwKICAgICAgb2JqZWN0VG9EZWxldGU6IG51bGwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBEZWxldGVPYmo6IERlbGV0ZU9iaiwKICAgIEFkZFNjZW5hcmlvOiBBZGRTY2VuYXJpbwogIH0sCiAgbWV0aG9kczogewogICAgc2V0UmVxdWVzdFVzZXI6IGZ1bmN0aW9uIHNldFJlcXVlc3RVc2VyKCkgewogICAgICB0aGlzLnJlcXVlc3RVc2VyID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbWFpbCIpOwogICAgfSwKICAgIGdldFNjZW5hcmlvczogZnVuY3Rpb24gZ2V0U2NlbmFyaW9zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gbWFrZSBhIEdFVCBSZXF1ZXN0IHRvIHRoZSBxdWVzdGlvbnMgbGlzdCBlbmRwb2ludCBhbmQgcG9wdWxhdGUgdGhlIHF1ZXN0aW9ucyBhcnJheQogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9zY2VuYXJpb3MvIjsKCiAgICAgIGlmICh0aGlzLm5leHQpIHsKICAgICAgICBlbmRwb2ludCA9IHRoaXMubmV4dDsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkaW5nU2NlbmFyaW9zID0gdHJ1ZTsKICAgICAgYXBpU2VydmljZShlbmRwb2ludCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHZhciBfdGhpcyRzY2VuYXJpb3M7CgogICAgICAgIChfdGhpcyRzY2VuYXJpb3MgPSBfdGhpcy5zY2VuYXJpb3MpLnB1c2guYXBwbHkoX3RoaXMkc2NlbmFyaW9zLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YS5yZXN1bHRzKSk7CgogICAgICAgIF90aGlzLmxvYWRpbmdTY2VuYXJpb3MgPSBmYWxzZTsKCiAgICAgICAgaWYgKGRhdGEubmV4dCkgewogICAgICAgICAgX3RoaXMubmV4dCA9IGRhdGEubmV4dDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMubmV4dCA9IG51bGw7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZGRTY2VuYXJpbzogZnVuY3Rpb24gYWRkU2NlbmFyaW8obmV3U2NlbmFyaW8pIHsKICAgICAgdGhpcy5zY2VuYXJpb3MucHVzaChuZXdTY2VuYXJpbyk7CiAgICB9LAogICAgZGVsZXRlT2JqOiBmdW5jdGlvbiBkZWxldGVPYmoob2JqZWN0VG9EZWxldGUpIHsKICAgICAgdGhpcy4kZGVsZXRlKHRoaXMuc2NlbmFyaW9zLCB0aGlzLnNjZW5hcmlvcy5pbmRleE9mKG9iamVjdFRvRGVsZXRlKSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zZXRSZXF1ZXN0VXNlcigpOwogICAgdGhpcy5nZXRTY2VuYXJpb3MoKTsKICAgIGRvY3VtZW50LnRpdGxlID0gIkZlZXoiOwogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA,SAAA,UAAA,QAAA,sBAAA;AACA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,IAFA;AAGA,MAAA,gBAAA,EAAA,KAHA;AAIA,MAAA,WAAA,EAAA,IAJA;AAKA,MAAA,cAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAXA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,WAAA,WAAA,GAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AAAA;;AACA;AACA,UAAA,QAAA,GAAA,iBAAA;;AACA,UAAA,KAAA,IAAA,EAAA;AACA,QAAA,QAAA,GAAA,KAAA,IAAA;AACA;;AACA,WAAA,gBAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,QAAA,CAAA,CACA,IADA,CACA,UAAA,IAAA,EAAA;AAAA;;AACA,2BAAA,KAAA,CAAA,SAAA,EAAA,IAAA,2CAAA,IAAA,CAAA,OAAA;;AACA,QAAA,KAAA,CAAA,gBAAA,GAAA,KAAA;;AACA,YAAA,IAAA,CAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AACA;AACA,OATA;AAUA,KArBA;AAsBA,IAAA,WAtBA,uBAsBA,WAtBA,EAsBA;AACA,WAAA,SAAA,CAAA,IAAA,CAAA,WAAA;AACA,KAxBA;AAyBA,IAAA,SAzBA,qBAyBA,cAzBA,EAyBA;AACA,WAAA,OAAA,CAAA,KAAA,SAAA,EAAA,KAAA,SAAA,CAAA,OAAA,CAAA,cAAA,CAAA;AACA;AA3BA,GAfA;AA4CA,EAAA,OA5CA,qBA4CA;AACA,SAAA,cAAA;AACA,SAAA,YAAA;AACA,IAAA,QAAA,CAAA,KAAA,GAAA,MAAA;AACA;AAhDA,CAAA","sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"container\">\n      <div v-for=\"scenario in scenarios\"\n            :key=\"scenario.id\">\n        <router-link :to=\"{ name: 'scenario',\n                            params: { id: scenario.id} }\"\n                      class=\"scenario-link\">\n          <h2 class=\"mb-0\">\n            <span class=\"scenario-client\"> {{ scenario.client }}</span>\n          </h2>\n          <p>Created at: {{ scenario.created_at }}</p>\n          <p>Last modified: {{ scenario.updated_at }}</p>\n        </router-link>\n        <DeleteObj\n        :objectToDelete=\"scenario\"\n        :objectType=\"'scenario'\"\n        @delete-object=\"deleteObj\"/>\n        <hr>\n      </div>\n      <div class=\"my-4\">\n        <p v-show=\"loadingScenarios\">...loading...</p>\n        <button\n          v-show=\"next\"\n          @click=\"getScenarios\"\n          class=\"btn btn-sm btn-outline-success\">Load more</button>\n      </div>\n    </div>\n    <AddScenario\n    :requestUser=\"requestUser\"\n    @add-scenario=\"addScenario\"/>\n    <hr>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { apiService } from \"@/common/api.service\"\nimport DeleteObj from \"@/components/DeleteObj.vue\";\nimport AddScenario from \"@/components/AddScenario.vue\";\n\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      scenarios: [],\n      next: null,\n      loadingScenarios: false,\n      requestUser: null,\n      objectToDelete: null,\n    }\n  },\n  components: {\n    DeleteObj,\n    AddScenario,\n  },\n  methods: {\n    setRequestUser() {\n      this.requestUser = window.localStorage.getItem(\"email\")\n    },\n    getScenarios() {\n      // make a GET Request to the questions list endpoint and populate the questions array\n      let endpoint = \"/api/scenarios/\";\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loadingScenarios = true;\n      apiService(endpoint)\n        .then(data => {\n          this.scenarios.push(...data.results)\n          this.loadingScenarios = false;\n          if (data.next) {\n            this.next = data.next;\n          } else {\n            this.next = null;\n          }\n        })\n    },\n    addScenario(newScenario) {\n      this.scenarios.push(newScenario);\n    },\n    deleteObj(objectToDelete) {\n      this.$delete(this.scenarios, this.scenarios.indexOf(objectToDelete));\n    }\n  },\n  mounted() {\n    this.setRequestUser();\n    this.getScenarios()\n    document.title = \"Feez\";\n  }\n};\n</script>\n"],"sourceRoot":"src/views"}]}