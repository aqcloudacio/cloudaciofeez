{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\ThemeBuilder.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\ThemeBuilder.vue","mtime":1600077882928},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFxGZWV6XFxmZWV6XFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOwppbXBvcnQgU29ydGFibGUgZnJvbSAic29ydGFibGVqcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGhlbWVCdWlsZGVyIiwKICBwcm9wczogewogICAgY2FuRWRpdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHRoZW1lOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZFRhYmxlVHlwZTogbnVsbCwKICAgICAgY29udGVudDogW10sCiAgICAgIG5leHQ6IG51bGwsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogJycsCiAgICAgICAgdmFsdWU6ICdoYW5kbGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnSXRlbScsCiAgICAgICAgdmFsdWU6ICd0eXBlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ05hbWUnLAogICAgICAgIHZhbHVlOiAnbmFtZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdTdHlsZScsCiAgICAgICAgdmFsdWU6ICdlbGVtZW50JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1Zpc2libGUnLAogICAgICAgIHZhbHVlOiAndmlzaWJsZScKICAgICAgfV0sCiAgICAgIGVsZW1lbnRzOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNlbGVjdGVkQ29udGVudDogZnVuY3Rpb24gc2VsZWN0ZWRDb250ZW50KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRUYWJsZVR5cGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50LmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgICAgcmV0dXJuIGkudGFibGVfdHlwZSA9PT0gX3RoaXMuc2VsZWN0ZWRUYWJsZVR5cGVbMF07CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgdGFibGVUeXBlczogZnVuY3Rpb24gdGFibGVUeXBlcygpIHsKICAgICAgaWYgKHRoaXMuY29udGVudFswXSkgewogICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRbMF0uY29udGVudF90eXBlX2xpc3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBtZXRob2RzOiB7CiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBlbmRwb2ludCA9ICcnOwogICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuc2VsZWN0ZWRDb250ZW50W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkgewogICAgICAgICAgdmFyIGNvbnRlbnQgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGVuZHBvaW50ID0gIi9hcGkvdGhlbWVzLyIuY29uY2F0KHRoaXMudGhlbWUuaWQsICIvY29udGVudC8iKS5jb25jYXQoY29udGVudC5pZCwgIi8iKTsKICAgICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIGNvbnRlbnQpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZyaWVuZGx5RWxlbWVudE5hbWU6IGZ1bmN0aW9uIGZyaWVuZGx5RWxlbWVudE5hbWUoZWxlbWVudE5hbWUpIHsKICAgICAgaWYgKGVsZW1lbnROYW1lKSB7CiAgICAgICAgdmFyIGZyaWVuZGx5ID0gZWxlbWVudE5hbWUucmVwbGFjZSgncm93JywgJycpOwogICAgICAgIHJldHVybiBmcmllbmRseTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGdldENvbnRlbnREYXRhOiBmdW5jdGlvbiBnZXRDb250ZW50RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS90aGVtZXMvIi5jb25jYXQodGhpcy50aGVtZS5pZCwgIi9jb250ZW50LyIpOwoKICAgICAgaWYgKHRoaXMubmV4dCkgewogICAgICAgIGVuZHBvaW50ID0gdGhpcy5uZXh0OwogICAgICB9CgogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdmFyIF90aGlzMiRjb250ZW50OwoKICAgICAgICAoX3RoaXMyJGNvbnRlbnQgPSBfdGhpczIuY29udGVudCkucHVzaC5hcHBseShfdGhpczIkY29udGVudCwgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEucmVzdWx0cykpOwoKICAgICAgICBpZiAoZGF0YS5uZXh0KSB7CiAgICAgICAgICBfdGhpczIubmV4dCA9IGRhdGEubmV4dDsKCiAgICAgICAgICBfdGhpczIuZ2V0Q29udGVudERhdGEoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLm5leHQgPSBudWxsOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRDb250ZW50T3JkZXI6IGZ1bmN0aW9uIHJlc2V0Q29udGVudE9yZGVyKF9zZWxmKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkgewogICAgICAgIHZhciBpZHggPSBfdGhpczMuY29udGVudC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBfdGhpczMuc2VsZWN0ZWRDb250ZW50W2ldLmlkOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczMuY29udGVudFtpZHhdLm9yZGVyID0gaTsKICAgICAgfTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3NlbGYuc2VsZWN0ZWRDb250ZW50Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgX2xvb3AoaSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRTb3J0YWJsZTogZnVuY3Rpb24gc2V0U29ydGFibGUoKSB7CiAgICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi52LWRhdGEtdGFibGUgdGJvZHkiKTsKCiAgICAgIHZhciBfc2VsZiA9IHRoaXM7CgogICAgICBTb3J0YWJsZS5jcmVhdGUodGFibGUsIHsKICAgICAgICBoYW5kbGU6ICIuaGFuZGxlIiwKICAgICAgICBvbkVuZDogZnVuY3Rpb24gb25FbmQoX3JlZikgewogICAgICAgICAgdmFyIG5ld0luZGV4ID0gX3JlZi5uZXdJbmRleCwKICAgICAgICAgICAgICBvbGRJbmRleCA9IF9yZWYub2xkSW5kZXg7CgogICAgICAgICAgdmFyIHJvd1NlbGVjdGVkID0gX3NlbGYuc2VsZWN0ZWRDb250ZW50LnNwbGljZShvbGRJbmRleCwgMSlbMF07CgogICAgICAgICAgX3NlbGYuc2VsZWN0ZWRDb250ZW50LnNwbGljZShuZXdJbmRleCwgMCwgcm93U2VsZWN0ZWQpOwoKICAgICAgICAgIF9zZWxmLnJlc2V0Q29udGVudE9yZGVyKF9zZWxmKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldEVsZW1lbnREYXRhOiBmdW5jdGlvbiBnZXRFbGVtZW50RGF0YSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS90aGVtZXMvIi5jb25jYXQodGhpcy50aGVtZS5pZCwgIi9zdHlsZXMvIikuY29uY2F0KHRoaXMudGhlbWUuc3R5bGVzWzBdLCAiL2VsZW1lbnRzLyIpOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXM0LmVsZW1lbnRzID0gZGF0YS5yZXN1bHRzOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldENvbnRlbnREYXRhKCk7CiAgICB0aGlzLnNldFNvcnRhYmxlKCk7CiAgICB0aGlzLmdldEVsZW1lbnREYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["ThemeBuilder.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n  <v-form  @submit.prevent=\"onSubmit\">\r\n    <v-card class=\"pa-4\">\r\n      <v-row>\r\n        <v-col :cols=\"10\">\r\n          <v-select\r\n            :items=\"tableTypes\"\r\n            :item-value=\"[0]\"\r\n            return-object\r\n            v-model=\"selectedTableType\"\r\n            label=\"Select table to build\"\r\n            outlined dense hide-details>\r\n            <template v-slot:item=\"{ item }\">\r\n              {{item[1]}}\r\n            </template>\r\n            <template v-slot:selection=\"{ item }\">\r\n              {{item[1]}}\r\n            </template>\r\n          </v-select>\r\n        </v-col>\r\n        <v-col :cols=\"2\">\r\n          <v-btn\r\n            v-if=\"canEdit\"\r\n            @click=\"onSubmit\"\r\n            color=\"primary\">\r\n            Save\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n      <v-divider class=\"mt-5\"/>\r\n        <v-data-table\r\n          :disabled=\"!canEdit\"\r\n          :headers=\"headers\"\r\n          :items=\"selectedContent\"\r\n          hide-default-footer\r\n          disable-pagination\r\n          sort-by.sync=\"order\">\r\n          <template v-slot:item.handle>\r\n              <v-icon style=\"max-width: 28px;\" class=\"handle\" v-if=\"canEdit\">mdi-reorder-horizontal</v-icon>\r\n          </template>\r\n          <template v-slot:item.name=\"{item}\">\r\n              <v-text-field v-model=\"item.name\" :disabled=\"!canEdit\">\r\n              </v-text-field>\r\n          </template>\r\n          <template v-slot:item.element=\"{item}\">\r\n            <v-select\r\n              :disabled=\"!canEdit\"\r\n              :value=\"item.element_name\"\r\n              @change=\"item.element = $event.id\"\r\n              :items=\"elements\"\r\n              item-text=\"type\"\r\n              return-object>\r\n              <template v-slot:item=\"{item}\">\r\n                {{item.type.replace('row','')}}\r\n              </template>\r\n              <template v-slot:selection=\"{item}\">\r\n                {{item.type.replace('row','')}}\r\n              </template>\r\n            </v-select>\r\n          </template>\r\n          <template v-slot:item.visible=\"{item}\">\r\n              <v-checkbox :disabled=\"!canEdit\" v-model=\"item.visible\"/>\r\n          </template>\r\n      </v-data-table>\r\n    </v-card>\r\n  </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport Sortable from \"sortablejs\";\r\n\r\nexport default {\r\n  name: \"ThemeBuilder\",\r\n  props: {\r\n    canEdit: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    theme: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      selectedTableType: null,\r\n      content: [],\r\n      next: null,\r\n      headers: [\r\n          { text: '', value: 'handle'},\r\n          { text: 'Item', value: 'type' },\r\n          { text: 'Name', value: 'name' },\r\n          { text: 'Style', value: 'element' },\r\n          { text: 'Visible', value: 'visible' },\r\n        ],\r\n      elements: null,\r\n    };\r\n  },\r\n  computed: {\r\n    selectedContent() {\r\n      if (this.selectedTableType) {\r\n        return this.content.filter(i => i.table_type === this.selectedTableType[0])\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    tableTypes() {\r\n      if (this.content[0]) {\r\n        return this.content[0].content_type_list\r\n      } else {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      let endpoint = ''\r\n      for (let content of this.selectedContent) {\r\n        endpoint = `/api/themes/${this.theme.id}/content/${content.id}/`\r\n        apiService(endpoint, \"PATCH\", content)\r\n      }\r\n    },\r\n    friendlyElementName(elementName) {\r\n      if (elementName) {\r\n        let friendly = elementName.replace('row','')\r\n        return friendly\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n    getContentData() {\r\n      let endpoint = `/api/themes/${this.theme.id}/content/`;\r\n      if (this.next) {\r\n        endpoint = this.next;\r\n      }\r\n      apiService(endpoint).then(data => {\r\n        this.content.push(...data.results);\r\n        if (data.next) {\r\n          this.next = data.next;\r\n          this.getContentData()\r\n        } else {\r\n          this.next = null;\r\n        }\r\n      });\r\n    },\r\n    resetContentOrder(_self) {\r\n      for (let i = 0; i < _self.selectedContent.length; i++) {\r\n        const idx = this.content.findIndex(item => item.id === this.selectedContent[i].id);\r\n        this.content[idx].order = i\r\n      }\r\n    },\r\n    setSortable() {\r\n      let table = document.querySelector(\".v-data-table tbody\");\r\n      const _self = this;\r\n      Sortable.create (table,  {\r\n        handle: \".handle\",\r\n        onEnd({newIndex, oldIndex}) {\r\n          const rowSelected = _self.selectedContent.splice(oldIndex,1) [0]\r\n          _self.selectedContent.splice(newIndex, 0, rowSelected);\r\n          _self.resetContentOrder(_self)\r\n        }\r\n      });\r\n    },\r\n    getElementData() {\r\n      let endpoint = `/api/themes/${this.theme.id}/styles/${this.theme.styles[0]}/elements/`;\r\n      apiService(endpoint).then(data => {\r\n        this.elements = data.results;\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getContentData();\r\n    this.setSortable();\r\n    this.getElementData()\r\n  }\r\n};\r\n</script>\r\n <style>\r\n   .handle {\r\n    cursor: move !important;\r\n    cursor: -webkit-grabbing !important;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components"}]}