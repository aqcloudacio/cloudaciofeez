{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\AddPlatform.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\AddPlatform.vue","mtime":1589520788773},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXBpU2VydmljZSB9IGZyb20gIkAvY29tbW9uL2FwaS5zZXJ2aWNlLmpzIjsgLy8gaW1wb3J0IEFkZEN1c3RvbVBsYXRmb3JtIGZyb20gIkAvY29tcG9uZW50cy9BZGRDdXN0b21QbGF0Zm9ybS52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZGRQbGF0Zm9ybSIsCiAgaW5qZWN0OiBbInNjZW5hcmlvSWQiXSwKICBwcm9wczogewogICAgc3RhdHVzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgY3VycmVudFR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2g6IG51bGwsCiAgICAgIG5ld1BsYXRmb3JtOiBudWxsLAogICAgICBwbGF0Zm9ybUxpc3Q6IFtdLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgLy8gc3BvbnNvcmVkIHBsYXRmb3JtIGRldGFpbHMgYmVsb3cgc2hvdWxkIGJlIGNvbnRyb2xsZWQgdmlhIEFQSS4KICAgICAgLy8gZm9yIG5vdyB0aGV5IGFyZSBqdXN0IG1hbnVhbC4KICAgICAgc3BvbnNvcmVkU3VwZXI6IHsKICAgICAgICBpZDogMSwKICAgICAgICBuYW1lOiAiQlQgUGFub3JhbWEgU3VwZXIiLAogICAgICAgIHBsYXRmb3JtX3RlbXBsYXRlOiAxLAogICAgICAgIGxpbms6ICJodHRwczovL3d3dy5nb29nbGUuY29tIgogICAgICB9LAogICAgICBzcG9uc29yZWRJbnY6IHsKICAgICAgICBpZDogOCwKICAgICAgICBuYW1lOiAiQlQgV3JhcCIsCiAgICAgICAgcGxhdGZvcm1fdGVtcGxhdGU6IDIyMywKICAgICAgICBsaW5rOiAiaHR0cHM6Ly93d3cueWFob28uY29tIgogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNwb25zb3JlZEl0ZW06IGZ1bmN0aW9uIHNwb25zb3JlZEl0ZW0oKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRUeXBlID09ICJJbnZlc3RtZW50IikgewogICAgICAgIHJldHVybiB0aGlzLnNwb25zb3JlZEludjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5zcG9uc29yZWRTdXBlcjsKICAgICAgfQogICAgfSwKICAgIHBsYXRmb3JtU3RyaW5nczogZnVuY3Rpb24gcGxhdGZvcm1TdHJpbmdzKCkgewogICAgICB2YXIgbmFtZUxpc3QgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGF0Zm9ybUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBuYW1lTGlzdC5wdXNoKHRoaXMucGxhdGZvcm1MaXN0W2ldLm5hbWUpOwogICAgICB9CgogICAgICByZXR1cm4gbmFtZUxpc3Q7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RTcG9uc29yZWQ6IGZ1bmN0aW9uIHNlbGVjdFNwb25zb3JlZCgpIHsKICAgICAgdGhpcy5zZWFyY2ggPSB0aGlzLnNwb25zb3JlZFN1cGVyLm5hbWU7CiAgICAgIHRoaXMubmV3UGxhdGZvcm0gPSB0aGlzLnNwb25zb3JlZFN1cGVyLm5hbWU7CiAgICAgIHRoaXMuJHJlZnMuY29tYm9ib3guaXNNZW51QWN0aXZlID0gZmFsc2U7CiAgICB9LAogICAgZ2V0UGxhdGZvcm1MaXN0OiBmdW5jdGlvbiBnZXRQbGF0Zm9ybUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9wbGF0Zm9ybW5hbWVzLyI7CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJHRVQiKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMucGxhdGZvcm1MaXN0ID0gZGF0YS5yZXN1bHRzOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQbGF0Zm9ybUlEOiBmdW5jdGlvbiBnZXRQbGF0Zm9ybUlEKHBsYXRmb3JtKSB7CiAgICAgIGlmIChwbGF0Zm9ybS5pZCAhPSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHBsYXRmb3JtLmlkOwogICAgICB9IGVsc2UgaWYgKHRoaXMucGxhdGZvcm1TdHJpbmdzLmluY2x1ZGVzKHBsYXRmb3JtKSkgewogICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnBsYXRmb3JtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgcmV0dXJuIG9iai5uYW1lID09PSBwbGF0Zm9ybTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcmVzdWx0WzBdLmlkOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgZGVsYXlTdWJtaXQ6IGZ1bmN0aW9uIGRlbGF5U3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIFJlc29sdmVzIGEgd2VpcmQgY29tYm9ib3ggYnVnIHdoZXJlIGl0IGRvZXMgbm90IHVwZGF0ZSBwcm9wcyB1bnRpbCBibHVyCiAgICAgIHRoaXMuJHJlZnMuY29tYm9ib3guYmx1cigpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLm9uU3VibWl0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5uZXdQbGF0Zm9ybSAhPSBudWxsKSB7CiAgICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvc2NlbmFyaW9zLyIuY29uY2F0KHRoaXMuc2NlbmFyaW9JZCwgIi9wbGF0Zm9ybXMvIik7CgogICAgICAgIGlmICh0aGlzLnBsYXRmb3JtTGlzdC5pbmNsdWRlcyh0aGlzLm5ld1BsYXRmb3JtKSB8fCB0aGlzLnBsYXRmb3JtU3RyaW5ncy5pbmNsdWRlcyh0aGlzLm5ld1BsYXRmb3JtKSB8fCB0aGlzLnBsYXRmb3JtU3RyaW5ncy5pbmNsdWRlcyh0aGlzLm5ld1BsYXRmb3JtLm5hbWUpKSB7CiAgICAgICAgICB2YXIgbmFtZV9pZCA9IHRoaXMuZ2V0UGxhdGZvcm1JRCh0aGlzLm5ld1BsYXRmb3JtKTsKICAgICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQT1NUIiwgewogICAgICAgICAgICBuYW1lX2lkOiBuYW1lX2lkLAogICAgICAgICAgICBzY2VuYXJpbzogdGhpcy5zY2VuYXJpb0lkLAogICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIF90aGlzMy4kZW1pdCgiYWRkLXBsYXRmb3JtIiwgZGF0YSk7CgogICAgICAgICAgICBfdGhpczMubmV3UGxhdGZvcm0gPSAiIjsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmICh0aGlzLmVycm9yKSB7CiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUE9TVCIsIHsKICAgICAgICAgICAgbmFtZV9pZDogbnVsbCwKICAgICAgICAgICAgY3VzdG9tX25hbWU6IHRoaXMubmV3UGxhdGZvcm0sCiAgICAgICAgICAgIHNjZW5hcmlvOiB0aGlzLnNjZW5hcmlvSWQsCiAgICAgICAgICAgIGVkaXRlZDogdHJ1ZSwKICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBfdGhpczMuJGVtaXQoImFkZC1wbGF0Zm9ybSIsIGRhdGEpOwoKICAgICAgICAgICAgX3RoaXMzLm5ld1BsYXRmb3JtID0gIiI7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAodGhpcy5lcnJvcikgewogICAgICAgICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvciA9ICJZb3UgbXVzdCBzZWxlY3QgYSBwbGF0Zm9ybSI7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFBsYXRmb3JtTGlzdCgpOwogIH0KfTs="},{"version":3,"sources":["AddPlatform.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n  <v-card fluid>\r\n    <v-form class=\"px-4 py-2\">\r\n      <v-combobox\r\n        v-model=\"newPlatform\"\r\n        :items=\"platformList\"\r\n        @keyup.enter=\"delaySubmit\"\r\n        label=\"Add a new platform\"\r\n        item-text=\"name\"\r\n        no-data-text=\"Create a custom platform\"\r\n        ref=\"combobox\"\r\n        :search-input.sync=\"search\"\r\n        allow-overflow>\r\n\r\n        <template v-slot:prepend-item v-if=\"status=='Recommended'\">\r\n          <v-list-item @click=\"selectSponsored\">\r\n            <v-tooltip left>\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-list-item-icon class=\"my-3 mr-2\"  v-on=\"on\">\r\n                  <v-icon color=\"yellow\">mdi-star</v-icon>\r\n                </v-list-item-icon>\r\n              </template>\r\n              <span>Sponsored Product</span>\r\n            </v-tooltip>\r\n            <v-list-item-content>\r\n              <v-list-item-title>{{sponsoredItem.name}}</v-list-item-title>\r\n            </v-list-item-content>\r\n            <v-list-item-action class=\"ml-2 my-2\">\r\n              <v-btn icon @click.stop :href=\"sponsoredItem.link\" target=\"_blank\">\r\n                <v-icon color=\"grey lighten-1\">mdi-information</v-icon>\r\n              </v-btn>\r\n            </v-list-item-action>\r\n          </v-list-item>\r\n        </template>\r\n\r\n        <template v-slot:append-outer>\r\n          <v-icon\r\n            :color=\"'success'\"\r\n            @click=\"delaySubmit\">\r\n            mdi-check-outline\r\n          </v-icon>\r\n        </template>\r\n\r\n        <template v-slot:no-data>\r\n        <v-list-item>\r\n          <v-list-item-content>\r\n            <v-list-item-title>\r\n              No platforms match \"<strong>{{ search }}</strong>\". Press <kbd>enter</kbd> to create a custom platform.\r\n            </v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </template>\r\n      </v-combobox>\r\n        </v-form>\r\n\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\n// import AddCustomPlatform from \"@/components/AddCustomPlatform.vue\";\r\n\r\nexport default {\r\n  name: \"AddPlatform\",\r\n  inject: [\"scenarioId\"],\r\n  props: {\r\n    status: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n    currentType: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n  },\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      search: null,\r\n      newPlatform: null,\r\n      platformList: [],\r\n      error: null,\r\n      // sponsored platform details below should be controlled via API.\r\n      // for now they are just manual.\r\n      sponsoredSuper: {\r\n        id: 1,\r\n        name: \"BT Panorama Super\",\r\n        platform_template: 1,\r\n        link: \"https://www.google.com\",\r\n      },\r\n      sponsoredInv: {\r\n        id: 8,\r\n        name: \"BT Wrap\",\r\n        platform_template: 223,\r\n        link: \"https://www.yahoo.com\",\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    sponsoredItem() {\r\n      if (this.currentType == \"Investment\") {\r\n        return this.sponsoredInv;\r\n      } else {\r\n        return this.sponsoredSuper;\r\n      }\r\n    },\r\n    platformStrings() {\r\n      let nameList = [];\r\n      for (let i=0; i < this.platformList.length; i++){\r\n        nameList.push(this.platformList[i].name)\r\n      }\r\n      return nameList\r\n    }\r\n  },\r\n  methods: {\r\n    selectSponsored(){\r\n      this.search = this.sponsoredSuper.name;\r\n      this.newPlatform = this.sponsoredSuper.name;\r\n      this.$refs.combobox.isMenuActive = false;\r\n    },\r\n    getPlatformList() {\r\n      let endpoint = `/api/platformnames/`;\r\n      apiService(endpoint, \"GET\").then(data => {\r\n        this.platformList = data.results;\r\n      });\r\n    },\r\n    getPlatformID(platform) {\r\n      if (platform.id != null) {\r\n        return platform.id\r\n      } else if (this.platformStrings.includes(platform)){\r\n        let result = this.platformList.filter(obj => {\r\n          return obj.name === platform;\r\n        })\r\n        return result[0].id;\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n    delaySubmit() {\r\n      // Resolves a weird combobox bug where it does not update props until blur\r\n      this.$refs.combobox.blur();\r\n      this.$nextTick(() => {\r\n        this.onSubmit();\r\n      })\r\n    },\r\n    onSubmit() {\r\n      if (this.newPlatform != null) {\r\n        let endpoint = `/api/scenarios/${this.scenarioId}/platforms/`;\r\n        if (this.platformList.includes(this.newPlatform)\r\n            || this.platformStrings.includes(this.newPlatform)\r\n            || this.platformStrings.includes(this.newPlatform.name)) {\r\n              let name_id = this.getPlatformID(this.newPlatform);\r\n          apiService(endpoint, \"POST\", {\r\n            name_id: name_id,\r\n            scenario: this.scenarioId,\r\n            status: this.status,\r\n          }).then(data => {\r\n            this.$emit(\"add-platform\", data);\r\n            this.newPlatform = \"\";\r\n          });\r\n          if (this.error) {\r\n            this.error = null;\r\n          }\r\n        } else {\r\n          apiService(endpoint, \"POST\", {\r\n            name_id: null,\r\n            custom_name: this.newPlatform,\r\n            scenario: this.scenarioId,\r\n            edited: true,\r\n            status: this.status,\r\n          }).then(data => {\r\n            this.$emit(\"add-platform\", data);\r\n            this.newPlatform = \"\";\r\n\r\n          });\r\n          if (this.error) {\r\n            this.error = null;\r\n          }\r\n        }\r\n      } else {\r\n        this.error = \"You must select a platform\";      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getPlatformList();\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}