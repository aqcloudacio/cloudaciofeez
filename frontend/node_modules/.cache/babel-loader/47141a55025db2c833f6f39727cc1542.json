{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\store\\user.module.js","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\store\\user.module.js","mtime":1599797823899},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFxGZWV6XFxmZWV6XFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOlxcVXNlcnNcXFVzZXJcXERlc2t0b3BcXEZlZXpcXGZlZXpcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKCnZhciBfYWN0aW9ucywgX211dGF0aW9uczsKCi8vIGltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IHsgVXNlclNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZSI7CmltcG9ydCB7IFVTRVJfRkVUQ0gsIFVTRVJfVVBEQVRFLCBQUkFDVElDRV9JTlZJVEVfQUNDRVBUIH0gZnJvbSAiLi9hY3Rpb25zLnR5cGUiOwppbXBvcnQgeyBTRVRfQUNUSVZFX1VTRVIsIFJFTU9WRV9BQ1RJVkVfVVNFUl9GUk9NX1BSQUNUSUNFLCBBRERfQUNUSVZFX1VTRVJfVE9fUFJBQ1RJQ0UsIFNFVF9BQ1RJVkVfVVNFUl9QUk9QIH0gZnJvbSAiLi9tdXRhdGlvbnMudHlwZSI7CnZhciBpbml0aWFsU3RhdGUgPSB7CiAgYWN0aXZlVXNlcjoge30KfTsKZXhwb3J0IHZhciBzdGF0ZSA9IF9vYmplY3RTcHJlYWQoe30sIGluaXRpYWxTdGF0ZSk7CmV4cG9ydCB2YXIgYWN0aW9ucyA9IChfYWN0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFVTRVJfRkVUQ0gsIGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgcmV0dXJuIFVzZXJTZXJ2aWNlLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgIGNvbnRleHQuY29tbWl0KFNFVF9BQ1RJVkVfVVNFUiwgZGF0YS5yZXN1bHRzWzBdKTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgUFJBQ1RJQ0VfSU5WSVRFX0FDQ0VQVCwgZnVuY3Rpb24gKGNvbnRleHQsIG5vdGlmaWNhdGlvbikgewogIGNvbnRleHQuY29tbWl0KEFERF9BQ1RJVkVfVVNFUl9UT19QUkFDVElDRSwgewogICAgJ3R5cGUnOiAncHJhY3RpY2UnLAogICAgJ3ByYWN0aWNlJzogbm90aWZpY2F0aW9uLnByYWN0aWNlCiAgfSk7CiAgY29udGV4dC5jb21taXQoUkVNT1ZFX0FDVElWRV9VU0VSX0ZST01fUFJBQ1RJQ0UsIHsKICAgICd0eXBlJzogJ3BlbmRpbmcnLAogICAgJ3ByYWN0aWNlJzogbm90aWZpY2F0aW9uLnByYWN0aWNlCiAgfSk7CgogIGlmIChub3RpZmljYXRpb24uYWN0aXZlX3ByYWN0aWNlKSB7CiAgICBjb250ZXh0LmNvbW1pdChTRVRfQUNUSVZFX1VTRVJfUFJPUCwgewogICAgICAncHJvcCc6ICdhY3RpdmVfcHJhY3RpY2UnLAogICAgICAndmFsdWUnOiBub3RpZmljYXRpb24ucHJhY3RpY2UKICAgIH0pOwogIH0KCiAgOwogIGNvbnRleHQuZGlzcGF0Y2goVVNFUl9VUERBVEUpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBVU0VSX1VQREFURSwgZnVuY3Rpb24gKGNvbnRleHQpIHsKICByZXR1cm4gVXNlclNlcnZpY2UudXBkYXRlKGNvbnRleHQuZ2V0dGVycy5hY3RpdmVVc2VyKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICBjb250ZXh0LmNvbW1pdChTRVRfQUNUSVZFX1VTRVIsIGRhdGEpOwogIH0pOwp9KSwgX2FjdGlvbnMpOwovKiBlc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246IFsiZXJyb3IiLCB7ICJwcm9wcyI6IGZhbHNlIH1dICovCgpleHBvcnQgdmFyIG11dGF0aW9ucyA9IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfQUNUSVZFX1VTRVIsIGZ1bmN0aW9uIChzdGF0ZSwgdXNlcikgewogIHN0YXRlLmFjdGl2ZVVzZXIgPSB1c2VyOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFJFTU9WRV9BQ1RJVkVfVVNFUl9GUk9NX1BSQUNUSUNFLCBmdW5jdGlvbiAoc3RhdGUsIF9yZWYpIHsKICB2YXIgdHlwZSA9IF9yZWYudHlwZSwKICAgICAgcHJhY3RpY2UgPSBfcmVmLnByYWN0aWNlOwoKICBpZiAodHlwZSA9PT0gJ3BlbmRpbmcnKSB7CiAgICB2YXIgcmVzdWx0ID0gc3RhdGUuYWN0aXZlVXNlci5wZW5kaW5nX3ByYWN0aWNlcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgcmV0dXJuIGkgIT0gcHJhY3RpY2U7CiAgICB9KTsKICAgIHN0YXRlLmFjdGl2ZVVzZXIucGVuZGluZ19wcmFjdGljZXMgPSByZXN1bHQ7CiAgfQp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFERF9BQ1RJVkVfVVNFUl9UT19QUkFDVElDRSwgZnVuY3Rpb24gKHN0YXRlLCBfcmVmMikgewogIHZhciB0eXBlID0gX3JlZjIudHlwZSwKICAgICAgcHJhY3RpY2UgPSBfcmVmMi5wcmFjdGljZTsKCiAgaWYgKHR5cGUgPT09ICdwcmFjdGljZScpIHsKICAgIHN0YXRlLmFjdGl2ZVVzZXIucHJhY3RpY2VzLnB1c2gocHJhY3RpY2UpOwogIH0KfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfQUNUSVZFX1VTRVJfUFJPUCwgZnVuY3Rpb24gKHN0YXRlLCBfcmVmMykgewogIHZhciBwcm9wID0gX3JlZjMucHJvcCwKICAgICAgdmFsdWUgPSBfcmVmMy52YWx1ZTsKCiAgaWYgKHByb3AuaW5jbHVkZXMoJy4nKSkgewogICAgdmFyIHNwbGl0cHJvcCA9IHByb3Auc3BsaXQoJy4nKTsKICAgIHZhciBvYmogPSBzcGxpdHByb3BbMF07CiAgICB2YXIgYXR0ciA9IHNwbGl0cHJvcFsxXTsKCiAgICBpZiAoIXN0YXRlLmFjdGl2ZVVzZXJbb2JqXSkgewogICAgICBzdGF0ZS5hY3RpdmVVc2VyW29ial0gPSBuZXcgT2JqZWN0KCk7CiAgICB9CgogICAgc3RhdGUuYWN0aXZlVXNlcltvYmpdW2F0dHJdID0gdmFsdWU7CiAgfSBlbHNlIHsKICAgIHN0YXRlLmFjdGl2ZVVzZXJbcHJvcF0gPSB2YWx1ZTsKICB9Cn0pLCBfbXV0YXRpb25zKTsKdmFyIGdldHRlcnMgPSB7CiAgYWN0aXZlVXNlcjogZnVuY3Rpb24gYWN0aXZlVXNlcihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmFjdGl2ZVVzZXI7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["C:/Users/User/Desktop/Feez/feez/frontend/src/store/user.module.js"],"names":["UserService","USER_FETCH","USER_UPDATE","PRACTICE_INVITE_ACCEPT","SET_ACTIVE_USER","REMOVE_ACTIVE_USER_FROM_PRACTICE","ADD_ACTIVE_USER_TO_PRACTICE","SET_ACTIVE_USER_PROP","initialState","activeUser","state","actions","context","get","then","data","commit","results","notification","practice","active_practice","dispatch","update","getters","mutations","user","type","result","pending_practices","filter","i","practices","push","prop","value","includes","splitprop","split","obj","attr","Object"],"mappings":"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","sourcesContent":["// import Vue from \"vue\";\r\nimport {\r\n  UserService\r\n} from \"@/common/api.service\";\r\nimport {\r\n  USER_FETCH,\r\n  USER_UPDATE,\r\n  PRACTICE_INVITE_ACCEPT\r\n} from \"./actions.type\";\r\nimport {\r\n  SET_ACTIVE_USER,\r\n  REMOVE_ACTIVE_USER_FROM_PRACTICE,\r\n  ADD_ACTIVE_USER_TO_PRACTICE,\r\n  SET_ACTIVE_USER_PROP\r\n} from \"./mutations.type\";\r\n\r\nconst initialState = {\r\n  activeUser: {},\r\n};\r\n\r\nexport const state = { ...initialState };\r\n\r\nexport const actions = {\r\n  [USER_FETCH](context) {\r\n      return UserService.get().then(data => {\r\n        context.commit(SET_ACTIVE_USER, data.results[0])\r\n      });\r\n  },\r\n  // [SCENARIO_UPDATE_PROP](context, payload) {\r\n  //   context.commit(SET_ACTIVE_SCENARIO_PROP, payload);\r\n  //   context.dispatch(SCENARIO_UPDATE);\r\n  // },\r\n  [PRACTICE_INVITE_ACCEPT](context, notification) {\r\n    context.commit(ADD_ACTIVE_USER_TO_PRACTICE, {\r\n      'type': 'practice',\r\n      'practice': notification.practice\r\n    });\r\n    context.commit(REMOVE_ACTIVE_USER_FROM_PRACTICE, {\r\n      'type': 'pending',\r\n      'practice': notification.practice\r\n    });\r\n    if (notification.active_practice) {\r\n      context.commit(SET_ACTIVE_USER_PROP, {\r\n        'prop': 'active_practice',\r\n        'value': notification.practice\r\n      });\r\n    };\r\n    context.dispatch(USER_UPDATE);\r\n  },\r\n  [USER_UPDATE](context) {\r\n    return UserService.update(context.getters.activeUser).then(data => {\r\n      context.commit(SET_ACTIVE_USER, data)\r\n    });\r\n  },\r\n};\r\n\r\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\r\nexport const mutations = {\r\n  [SET_ACTIVE_USER](state, user) {\r\n    state.activeUser = user;\r\n  },\r\n  [REMOVE_ACTIVE_USER_FROM_PRACTICE](state, {type, practice}){\r\n    if (type === 'pending') {\r\n      const result = state.activeUser.pending_practices.filter(i => i != practice);\r\n      state.activeUser.pending_practices = result;\r\n    }\r\n  },\r\n  [ADD_ACTIVE_USER_TO_PRACTICE](state, {type, practice}){\r\n    if (type === 'practice') {\r\n      state.activeUser.practices.push(practice)\r\n    }\r\n  },\r\n  [SET_ACTIVE_USER_PROP](state, {prop, value}) {\r\n    if (prop.includes('.')) {\r\n        let splitprop = prop.split('.');\r\n        let obj = splitprop[0];\r\n        let attr = splitprop[1];\r\n        if (!state.activeUser[obj]) {\r\n            state.activeUser[obj] = new Object();\r\n        }\r\n        state.activeUser[obj][attr] = value;\r\n    } else {\r\n    state.activeUser[prop] = value;\r\n    }\r\n  },\r\n};\r\n\r\nconst getters = {\r\n  activeUser(state) {\r\n    return state.activeUser;\r\n  },\r\n};\r\n\r\nexport default {\r\n  state,\r\n  actions,\r\n  mutations,\r\n  getters\r\n};\r\n"]}]}