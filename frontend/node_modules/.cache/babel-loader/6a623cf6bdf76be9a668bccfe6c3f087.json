{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Platform.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Platform.vue","mtime":1586499549703},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmltcG9ydCBQbGF0Zm9ybURldGFpbCBmcm9tICJAL2NvbXBvbmVudHMvUGxhdGZvcm1EZXRhaWwudnVlIjsKaW1wb3J0IFBsYXRmb3JtRmVlU3VtbWFyeSBmcm9tICJAL2NvbXBvbmVudHMvUGxhdGZvcm1GZWVTdW1tYXJ5LnZ1ZSI7CmltcG9ydCBJbnZlc3RtZW50U3VtbWFyeSBmcm9tICJAL2NvbXBvbmVudHMvSW52ZXN0bWVudFN1bW1hcnkudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQbGF0Zm9ybSIsCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBsYXRmb3JtSWQ6IHRoaXMuaWQsCiAgICAgIHNjZW5hcmlvSWQ6IHRoaXMuc2NlbmFyaW9JZAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBzY2VuYXJpb0lkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGxhdGZvcm06IHt9LAogICAgICBwbGF0Zm9ybUZlZXM6IFtdLAogICAgICBlcnJvcjogbnVsbAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFBsYXRmb3JtRmVlU3VtbWFyeTogUGxhdGZvcm1GZWVTdW1tYXJ5LAogICAgSW52ZXN0bWVudFN1bW1hcnk6IEludmVzdG1lbnRTdW1tYXJ5LAogICAgUGxhdGZvcm1EZXRhaWw6IFBsYXRmb3JtRGV0YWlsCiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRQYWdlVGl0bGU6IGZ1bmN0aW9uIHNldFBhZ2VUaXRsZSh0aXRsZSkgewogICAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlOwogICAgfSwKICAgIGdldFBsYXRmb3JtRGF0YTogZnVuY3Rpb24gZ2V0UGxhdGZvcm1EYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvc2NlbmFyaW9zLyIuY29uY2F0KHRoaXMuc2NlbmFyaW9JZCwgIi9wbGF0Zm9ybXMvIikuY29uY2F0KHRoaXMuaWQsICIvIik7CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpcy5wbGF0Zm9ybSA9IGRhdGE7CgogICAgICAgIGlmIChkYXRhLm5hbWUgIT0gbnVsbCkgewogICAgICAgICAgX3RoaXMuc2V0UGFnZVRpdGxlKGRhdGEubmFtZS5uYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuc2V0UGFnZVRpdGxlKGRhdGEuY3VzdG9tX25hbWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0UGxhdGZvcm1GZWVEYXRhOiBmdW5jdGlvbiBnZXRQbGF0Zm9ybUZlZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvc2NlbmFyaW9zLyIuY29uY2F0KHRoaXMuc2NlbmFyaW9JZCwgIi9wbGF0Zm9ybXMvIikuY29uY2F0KHRoaXMuaWQsICIvcGxhdGZvcm1mZWVzLyIpOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLnBsYXRmb3JtRmVlcyA9IGRhdGEucmVzdWx0czsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRQbGF0Zm9ybURhdGEoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFBsYXRmb3JtRmVlRGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["Platform.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAsBA,SAAA,UAAA,QAAA,yBAAA;AACA,OAAA,cAAA,MAAA,iCAAA;AACA,OAAA,kBAAA,MAAA,qCAAA;AACA,OAAA,iBAAA,MAAA,oCAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,OAFA,qBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KAAA,EADA;AAEA,MAAA,UAAA,EAAA,KAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GARA;AAkBA,EAAA,IAlBA,kBAkBA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAxBA;AAyBA,EAAA,UAAA,EAAA;AACA,IAAA,kBAAA,EAAA,kBADA;AAEA,IAAA,iBAAA,EAAA,iBAFA;AAGA,IAAA,cAAA,EAAA;AAHA,GAzBA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA;AACA,MAAA,QAAA,CAAA,KAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,eAJA,6BAIA;AAAA;;AACA,UAAA,QAAA,4BAAA,KAAA,UAAA,wBAAA,KAAA,EAAA,MAAA;AACA,MAAA,UAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,IAAA;;AACA,YAAA,IAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,WAAA;AACA;AACA,OAPA;AAQA,KAdA;AAeA,IAAA,kBAfA,gCAeA;AAAA;;AACA,UAAA,QAAA,4BAAA,KAAA,UAAA,wBAAA,KAAA,EAAA,mBAAA;AACA,MAAA,UAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,IAAA,CAAA,OAAA;AACA,OAFA;AAGA;AApBA,GA9BA;AAoDA,EAAA,OApDA,qBAoDA;AACA,SAAA,eAAA;AACA,GAtDA;AAuDA,EAAA,OAvDA,qBAuDA;AACA,SAAA,kBAAA;AACA;AAzDA,CAAA","sourcesContent":["<template>\r\n    <v-container v-if=\"platform\" >\r\n      <PlatformDetail\r\n        :platform=\"platform\"\r\n      />\r\n      <template\r\n        v-for=\"platformFee in platformFees\"\r\n        >\r\n        <PlatformFeeSummary\r\n          @modify-fees=\"getPlatformFeeData\"\r\n          :platformFee=\"platformFee\"\r\n          :key=\"platformFee.id\"\r\n        />\r\n      </template>\r\n      <InvestmentSummary\r\n        @add-investment=\"getPlatformData\"\r\n        @add-portfolio=\"getPlatformData\"\r\n        @delete-object=\"getPlatformData\"      />\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport PlatformDetail from \"@/components/PlatformDetail.vue\";\r\nimport PlatformFeeSummary from \"@/components/PlatformFeeSummary.vue\";\r\nimport InvestmentSummary from \"@/components/InvestmentSummary.vue\";\r\n\r\n\r\nexport default {\r\n  name: \"Platform\",\r\n  provide() {\r\n    return {\r\n      platformId: this.id,\r\n      scenarioId: this.scenarioId\r\n    };\r\n  },\r\n  props: {\r\n    scenarioId: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      platform: {},\r\n      platformFees: [],\r\n      error: null,\r\n    };\r\n  },\r\n  components: {\r\n    PlatformFeeSummary,\r\n    InvestmentSummary,\r\n    PlatformDetail,\r\n  },\r\n  methods: {\r\n    setPageTitle(title) {\r\n      document.title = title;\r\n    },\r\n    getPlatformData() {\r\n      let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.id}/`;\r\n      apiService(endpoint).then(data => {\r\n        this.platform = data;\r\n        if (data.name != null) {\r\n          this.setPageTitle(data.name.name);\r\n        } else {\r\n          this.setPageTitle(data.custom_name);\r\n        }\r\n      });\r\n    },\r\n    getPlatformFeeData() {\r\n      let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.id}/platformfees/`;\r\n      apiService(endpoint).then(data => {\r\n        this.platformFees = data.results;\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getPlatformData();\r\n  },\r\n  mounted() {\r\n    this.getPlatformFeeData();\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views"}]}