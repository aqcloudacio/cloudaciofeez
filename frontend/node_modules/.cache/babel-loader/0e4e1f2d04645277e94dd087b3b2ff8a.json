{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Platform.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Platform.vue","mtime":1599025369021},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmltcG9ydCBQbGF0Zm9ybURldGFpbCBmcm9tICJAL2NvbXBvbmVudHMvUGxhdGZvcm1EZXRhaWwudnVlIjsKaW1wb3J0IEludmVzdG1lbnRTdW1tYXJ5IGZyb20gIkAvY29tcG9uZW50cy9JbnZlc3RtZW50U3VtbWFyeS52dWUiOwppbXBvcnQgUGxhdGZvcm1BQUNoYXJ0U3VtbWFyeSBmcm9tICJAL2NvbXBvbmVudHMvUGxhdGZvcm1BQUNoYXJ0U3VtbWFyeS52dWUiOwppbXBvcnQgeyBDTEVBUl9BQ1RJVkVfUExBVEZPUk0sIENMRUFSX0FDVElWRV9TQ0VOQVJJTyB9IGZyb20gIkAvc3RvcmUvbXV0YXRpb25zLnR5cGUiOwppbXBvcnQgeyBTQ0VOQVJJT19GRVRDSCwgUExBVEZPUk1fRkVUQ0ggfSBmcm9tICJAL3N0b3JlL2FjdGlvbnMudHlwZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUGxhdGZvcm0iLAogIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICBwbGF0Zm9ybUlkOiB0aGlzLmlkLAogICAgICBzY2VuYXJpb0lkOiB0aGlzLnNjZW5hcmlvSWQKICAgIH07CiAgfSwKICBwcm9wczogewogICAgc2NlbmFyaW9JZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBsYXRmb3JtOiB7fSwKICAgICAgcGxhdGZvcm1GZWVzOiBbXSwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIGZlZUNvbG9yczogWydyZWQnLCAndGVhbCcsICdncmVlbicsICdvcmFuZ2UnLCAneWVsbG93J10KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBJbnZlc3RtZW50U3VtbWFyeTogSW52ZXN0bWVudFN1bW1hcnksCiAgICBQbGF0Zm9ybURldGFpbDogUGxhdGZvcm1EZXRhaWwsCiAgICBQbGF0Zm9ybUFBQ2hhcnRTdW1tYXJ5OiBQbGF0Zm9ybUFBQ2hhcnRTdW1tYXJ5CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRQYWdlVGl0bGU6IGZ1bmN0aW9uIHNldFBhZ2VUaXRsZSh0aXRsZSkgewogICAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlOwogICAgfSwKICAgIGdldEJvdGg6IGZ1bmN0aW9uIGdldEJvdGgoKSB7CiAgICAgIHRoaXMuZ2V0UGxhdGZvcm1EYXRhKCk7CiAgICAgIHRoaXMuZ2V0UGxhdGZvcm1GZWVEYXRhKCk7CiAgICB9LAogICAgZ2V0UGxhdGZvcm1EYXRhOiBmdW5jdGlvbiBnZXRQbGF0Zm9ybURhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9zY2VuYXJpb3MvIi5jb25jYXQodGhpcy5zY2VuYXJpb0lkLCAiL3BsYXRmb3Jtcy8iKS5jb25jYXQodGhpcy5pZCwgIi8iKTsKICAgICAgYXBpU2VydmljZShlbmRwb2ludCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzLnBsYXRmb3JtID0gZGF0YTsKCiAgICAgICAgaWYgKGRhdGEubmFtZSAhPSBudWxsKSB7CiAgICAgICAgICBfdGhpcy5zZXRQYWdlVGl0bGUoZGF0YS5uYW1lLm5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5zZXRQYWdlVGl0bGUoZGF0YS5jdXN0b21fbmFtZSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5nZXRQbGF0Zm9ybUZlZURhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UGxhdGZvcm1GZWVEYXRhOiBmdW5jdGlvbiBnZXRQbGF0Zm9ybUZlZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvc2NlbmFyaW9zLyIuY29uY2F0KHRoaXMuc2NlbmFyaW9JZCwgIi9wbGF0Zm9ybXMvIikuY29uY2F0KHRoaXMuaWQsICIvcGxhdGZvcm1mZWVzLyIpOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLnBsYXRmb3JtRmVlcyA9IGRhdGEucmVzdWx0czsKICAgICAgfSk7CiAgICB9LAogICAgc2V0QWN0aXZlU2NlbmFyaW86IGZ1bmN0aW9uIHNldEFjdGl2ZVNjZW5hcmlvKCkgewogICAgICBpZiAoXy5pc0VtcHR5KHRoaXMuYWN0aXZlU2NlbmFyaW8pKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goU0NFTkFSSU9fRkVUQ0gsIHRoaXMuc2NlbmFyaW9JZCk7CiAgICAgIH0KCiAgICAgIGlmIChfLmlzRW1wdHkodGhpcy5hY3RpdmVQbGF0Zm9ybSkpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChQTEFURk9STV9GRVRDSCwgewogICAgICAgICAgJ3NjZW5hcmlvSWQnOiB0aGlzLnNjZW5hcmlvSWQsCiAgICAgICAgICAncGxhdGZvcm1JZCc6IHRoaXMuaWQKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UGxhdGZvcm1EYXRhKCk7CiAgICB0aGlzLnNldEFjdGl2ZVNjZW5hcmlvKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy4kc3RvcmUuY29tbWl0KENMRUFSX0FDVElWRV9QTEFURk9STSk7CiAgfSwKICBiZWZvcmVSb3V0ZUxlYXZlOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZUxlYXZlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBpZiAodG8ubmFtZSAhPSAic2NlbmFyaW8iKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdChDTEVBUl9BQ1RJVkVfU0NFTkFSSU8pOwogICAgfQoKICAgIG5leHQoKTsKICB9Cn07"},{"version":3,"sources":["Platform.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <v-container class=\"pa-0\" v-if=\"platform\" >\r\n      <v-row>\r\n        <v-col>\r\n          <v-row>\r\n            <v-col>\r\n      <PlatformDetail\r\n        :platform=\"platform\"\r\n        :platformFees=\"platformFees\"\r\n        @modify-platform=\"getPlatformData\"\r\n        @add-portfolio=\"getPlatformData\"\r\n        @modify-fees=\"getBoth\"\r\n\r\n      />\r\n    </v-col>\r\n  </v-row>\r\n\r\n      </v-col>\r\n          <v-col>\r\n            <PlatformAAChartSummary\r\n              :platform=\"platform\"\r\n      />\r\n          </v-col>\r\n</v-row>\r\n<v-row>\r\n  <v-col v-if=\"platform.platform_total != null\">\r\n    <!-- <template\r\n      v-for=\"platformFee in platformFees\"\r\n      >\r\n\r\n      </template> -->\r\n      <InvestmentSummary\r\n        @add-investment=\"getPlatformData\"\r\n        @delete-object=\"getPlatformData\"\r\n        :platformTotal=\"platform.platform_total\"      />\r\n      </v-col>\r\n        </v-row>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport PlatformDetail from \"@/components/PlatformDetail.vue\";\r\nimport InvestmentSummary from \"@/components/InvestmentSummary.vue\";\r\nimport PlatformAAChartSummary from \"@/components/PlatformAAChartSummary.vue\";\r\nimport {\r\n  CLEAR_ACTIVE_PLATFORM,\r\n  CLEAR_ACTIVE_SCENARIO,\r\n} from \"@/store/mutations.type\";\r\nimport {\r\n  SCENARIO_FETCH,\r\n  PLATFORM_FETCH\r\n} from \"@/store/actions.type\";\r\n\r\n\r\n\r\nexport default {\r\n  name: \"Platform\",\r\n  provide() {\r\n    return {\r\n      platformId: this.id,\r\n      scenarioId: this.scenarioId\r\n    };\r\n  },\r\n  props: {\r\n    scenarioId: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      platform: {},\r\n      platformFees: [],\r\n      error: null,\r\n      feeColors: [\r\n        'red',\r\n        'teal',\r\n        'green',\r\n        'orange',\r\n        'yellow',\r\n      ]\r\n    };\r\n  },\r\n  components: {\r\n    InvestmentSummary,\r\n    PlatformDetail,\r\n    PlatformAAChartSummary,\r\n  },\r\n  methods: {\r\n    setPageTitle(title) {\r\n      document.title = title;\r\n    },\r\n    getBoth() {\r\n      this.getPlatformData();\r\n      this.getPlatformFeeData();\r\n    },\r\n    getPlatformData() {\r\n      let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.id}/`;\r\n      apiService(endpoint).then(data => {\r\n        this.platform = data;\r\n        if (data.name != null) {\r\n          this.setPageTitle(data.name.name);\r\n        } else {\r\n          this.setPageTitle(data.custom_name);\r\n        }\r\n        this.getPlatformFeeData();\r\n      });\r\n    },\r\n    getPlatformFeeData() {\r\n      let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.id}/platformfees/`;\r\n      apiService(endpoint).then(data => {\r\n        this.platformFees = data.results;\r\n      });\r\n    },\r\n    setActiveScenario(){\r\n      if (_.isEmpty(this.activeScenario)) {\r\n        this.$store.dispatch(SCENARIO_FETCH, this.scenarioId)\r\n      }\r\n      if (_.isEmpty(this.activePlatform)) {\r\n        this.$store.dispatch(PLATFORM_FETCH, {\r\n          'scenarioId': this.scenarioId,\r\n          'platformId': this.id\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getPlatformData();\r\n    this.setActiveScenario();\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.commit(CLEAR_ACTIVE_PLATFORM);\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    if (to.name != \"scenario\") {\r\n      this.$store.commit(CLEAR_ACTIVE_SCENARIO);\r\n    }\r\n    next()\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views"}]}