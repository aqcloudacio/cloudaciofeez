{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentSummary.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentSummary.vue","mtime":1585798369178},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOwppbXBvcnQgQWRkSW52ZXN0bWVudCBmcm9tICJAL2NvbXBvbmVudHMvQWRkSW52ZXN0bWVudC52dWUiOwppbXBvcnQgQWRkUG9ydGZvbGlvIGZyb20gIkAvY29tcG9uZW50cy9BZGRQb3J0Zm9saW8udnVlIjsKaW1wb3J0IEludmVzdG1lbnREZXRhaWwgZnJvbSAiQC9jb21wb25lbnRzL0ludmVzdG1lbnREZXRhaWwudnVlIjsKaW1wb3J0IERlbGV0ZU9iaiBmcm9tICJAL2NvbXBvbmVudHMvRGVsZXRlT2JqLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW52ZXN0bWVudFN1bW1hcnkiLAogIGluamVjdDogWyJwbGF0Zm9ybUlkIiwgInNjZW5hcmlvSWQiXSwKICBwcm9wczoge30sCiAgY29tcG9uZW50czogewogICAgQWRkSW52ZXN0bWVudDogQWRkSW52ZXN0bWVudCwKICAgIEFkZFBvcnRmb2xpbzogQWRkUG9ydGZvbGlvLAogICAgRGVsZXRlT2JqOiBEZWxldGVPYmosCiAgICBJbnZlc3RtZW50RGV0YWlsOiBJbnZlc3RtZW50RGV0YWlsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIGludmVzdG1lbnRzOiBbXSwKICAgICAgcG9ydGZvbGlvOiB7fSwKICAgICAgbmFtZUxpc3Q6IFtdLAogICAgICBjaGFuZ2VMaXN0OiBbXSwKICAgICAgaW52ZXN0bWVudENsYXNzTGlzdDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRJbnZlc3RtZW50RGF0YTogZnVuY3Rpb24gZ2V0SW52ZXN0bWVudERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9zY2VuYXJpb3MvIi5jb25jYXQodGhpcy5zY2VuYXJpb0lkLCAiL3BsYXRmb3Jtcy8iKS5jb25jYXQodGhpcy5wbGF0Zm9ybUlkLCAiL2ludmVzdG1lbnRzLyIpOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMuaW52ZXN0bWVudHMgPSBkYXRhLnJlc3VsdHM7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEludmVzdG1lbnRDbGFzc0xpc3Q6IGZ1bmN0aW9uIGdldEludmVzdG1lbnRDbGFzc0xpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvaW52ZXN0bWVudGNsYXNzLyI7CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJHRVQiKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLmludmVzdG1lbnRDbGFzc0xpc3QgPSBkYXRhLnJlc3VsdHM7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFJQTmFtZURhdGE6IGZ1bmN0aW9uIGdldFJQTmFtZURhdGEoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvYWN0aXZlcmlza3Byb2ZpbGVuYW1lcy8iOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMzLm5hbWVMaXN0ID0gZGF0YS5yZXN1bHRzOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRJbnZlc3RtZW50OiBmdW5jdGlvbiBhZGRJbnZlc3RtZW50KGludmVzdG1lbnQpIHsKICAgICAgdGhpcy5pbnZlc3RtZW50cy5wdXNoKGludmVzdG1lbnQpOwogICAgfSwKICAgIGFkZFBvcnRmb2xpbzogZnVuY3Rpb24gYWRkUG9ydGZvbGlvKHBvcnRmb2xpbykgewogICAgICB0aGlzLnBvcnRmb2xpbyA9IHBvcnRmb2xpbzsKICAgIH0sCiAgICBkZWxldGVPYmo6IGZ1bmN0aW9uIGRlbGV0ZU9iaihvYmplY3RUb0RlbGV0ZSkgewogICAgICB0aGlzLiRkZWxldGUodGhpcy5pbnZlc3RtZW50cywgdGhpcy5pbnZlc3RtZW50cy5pbmRleE9mKG9iamVjdFRvRGVsZXRlKSk7CiAgICB9LAogICAgYWRkVG9DaGFuZ2VkOiBmdW5jdGlvbiBhZGRUb0NoYW5nZWQoaW52ZXN0bWVudCkgewogICAgICBpZiAoIXRoaXMuY2hhbmdlTGlzdC5pbmNsdWRlcyhpbnZlc3RtZW50KSkgewogICAgICAgIHRoaXMuY2hhbmdlTGlzdC5wdXNoKGludmVzdG1lbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpID0gdGhpcy5jaGFuZ2VMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IGludmVzdG1lbnQuaWQ7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0LnNwbGljZShpLCAxKTsKICAgICAgICB0aGlzLmNoYW5nZUxpc3QucHVzaChpbnZlc3RtZW50KTsKICAgICAgfQogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jaGFuZ2VMaXN0KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoYW5nZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3NjZW5hcmlvcy8iLmNvbmNhdCh0aGlzLnNjZW5hcmlvSWQsICIvcGxhdGZvcm1zLyIpLmNvbmNhdCh0aGlzLnBsYXRmb3JtSWQsICIvaW52ZXN0bWVudHMvIikuY29uY2F0KHRoaXMuY2hhbmdlTGlzdFtpXS5pZCwgIi8iKTsKICAgICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIHsKICAgICAgICAgICAgY3VzdG9tX25hbWU6IHRoaXMuY2hhbmdlTGlzdFtpXS5jdXN0b21fbmFtZSwKICAgICAgICAgICAgYW1vdW50OiB0aGlzLmNoYW5nZUxpc3RbaV0uYW1vdW50CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIF90aGlzNC5nZXRJbnZlc3RtZW50RGF0YSgpOwoKICAgICAgICAgICAgX3RoaXM0LiRlbWl0KCJhZGQtaW52ZXN0bWVudCIsIGRhdGEpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICA7CiAgICAgIH0KCiAgICAgIDsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEludmVzdG1lbnREYXRhKCk7CiAgICB0aGlzLmdldEludmVzdG1lbnRDbGFzc0xpc3QoKTsKICAgIHRoaXMuZ2V0UlBOYW1lRGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["InvestmentSummary.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n  <v-form @submit.prevent=\"onSubmit\">\r\n    <v-container>\r\n        <v-row v-for=\"investment in investments\"\r\n                :key=\"investment.id\"\r\n                dense>\r\n          <v-col\r\n            :cols=\"5\">\r\n            <v-text-field\r\n              @change=\"addToChanged(investment)\"\r\n              :value=\"investment.custom_name ? investment.custom_name : investment.name.name\"\r\n              @input=\"investment.custom_name = $event\"\r\n              hide-details=\"auto\"\r\n              dense solo />\r\n          </v-col>\r\n          <v-col\r\n            :cols=\"3\">\r\n            <v-currency-field\r\n              @change=\"addToChanged(investment)\"\r\n              v-model=\"investment.amount\"\r\n              hide-details=\"auto\"\r\n              prefix=\"$\"\r\n              :decimal-length=\"0\"\r\n              dense solo />\r\n          </v-col>\r\n          <v-col>\r\n            <v-card>\r\n\r\n            </v-card>\r\n          </v-col>\r\n          <v-col>\r\n            <InvestmentDetail\r\n              @add-investment=\"getInvestmentData\"\r\n              v-on=\"$listeners\"\r\n              :custom=\"false\"\r\n              :investment=\"investment\"\r\n              :nameList=\"nameList\"\r\n              :investmentClassList=\"investmentClassList\"\r\n            />\r\n          </v-col>\r\n          <v-col>\r\n            <DeleteObj\r\n              :objectType=\"'investment'\"\r\n              :objectToDelete=\"investment\"\r\n              :portfolioId=\"investment.portfolio\"\r\n              @delete-object=\"getInvestmentData\"\r\n              v-on=\"$listeners\"\r\n            />\r\n          </v-col>\r\n      </v-row>\r\n      <v-row v-if=\"investments.length\">\r\n        <v-col>\r\n          <v-btn type=\"submit\" color=\"primary\" dark dense>Update</v-btn>\r\n        </v-col>\r\n      </v-row>\r\n      <InvestmentDetail\r\n        @add-investment=\"getInvestmentData\"\r\n        v-on=\"$listeners\"\r\n        :custom=\"true\"\r\n        :nameList=\"nameList\"\r\n        :investmentClassList=\"investmentClassList\"\r\n      />\r\n\r\n      <AddInvestment @add-investment=\"getInvestmentData\" v-on=\"$listeners\" />\r\n      <AddPortfolio @add-portfolio=\"getInvestmentData\" v-on=\"$listeners\" />\r\n    </v-container>\r\n  </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport AddInvestment from \"@/components/AddInvestment.vue\";\r\nimport AddPortfolio from \"@/components/AddPortfolio.vue\";\r\nimport InvestmentDetail from \"@/components/InvestmentDetail.vue\";\r\nimport DeleteObj from \"@/components/DeleteObj.vue\";\r\n\r\nexport default {\r\n  name: \"InvestmentSummary\",\r\n  inject: [\"platformId\", \"scenarioId\"],\r\n  props: {},\r\n  components: {\r\n    AddInvestment,\r\n    AddPortfolio,\r\n    DeleteObj,\r\n    InvestmentDetail\r\n  },\r\n  data() {\r\n    return {\r\n      error: null,\r\n      investments: [],\r\n      portfolio: {},\r\n      nameList: [],\r\n      changeList: [],\r\n      investmentClassList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    getInvestmentData() {\r\n        let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/`;\r\n        apiService(endpoint).then(data => {\r\n          this.investments = data.results;\r\n        });\r\n    },\r\n    getInvestmentClassList() {\r\n      let endpoint = `/api/investmentclass/`;\r\n      apiService(endpoint, \"GET\").then(data => {\r\n        this.investmentClassList = data.results;\r\n      });\r\n    },\r\n    getRPNameData() {\r\n      let endpoint = `/api/activeriskprofilenames/`;\r\n      apiService(endpoint).then(data => {\r\n        this.nameList = data.results;\r\n      });\r\n    },\r\n    addInvestment(investment) {\r\n      this.investments.push(investment);\r\n    },\r\n    addPortfolio(portfolio) {\r\n      this.portfolio = portfolio;\r\n    },\r\n    deleteObj(objectToDelete) {\r\n      this.$delete(this.investments, this.investments.indexOf(objectToDelete));\r\n    },\r\n    addToChanged(investment) {\r\n      if (!(this.changeList.includes(investment))) {\r\n        this.changeList.push(investment);\r\n      } else {\r\n        const i = this.changeList.findIndex(item => item.id === investment.id);\r\n        this.changeList.splice(i, 1);\r\n        this.changeList.push(investment);\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (this.changeList) {\r\n        for (let i=0; i < this.changeList.length; i++) {\r\n          let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.changeList[i].id}/`;\r\n          apiService(endpoint, \"PATCH\", {\r\n            custom_name: this.changeList[i].custom_name,\r\n            amount: this.changeList[i].amount,\r\n          }).then(data => {\r\n            this.getInvestmentData()\r\n            this.$emit(\"add-investment\", data);\r\n          });\r\n        };\r\n      };\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getInvestmentData();\r\n    this.getInvestmentClassList();\r\n    this.getRPNameData();\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}