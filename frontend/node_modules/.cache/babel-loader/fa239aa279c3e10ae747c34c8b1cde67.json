{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\VerifyReset.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\VerifyReset.vue","mtime":1605070515071},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcVXNlcnNcXFVzZXJcXERlc2t0b3BcXEZlZXpcXGZlZXpcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxVc2Vyc1xcVXNlclxcRGVza3RvcFxcRmVlelxcZmVlelxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHJ1bGVQYXNzd29yZCB9IGZyb20gIkAvY29tcG9uZW50cy9taXhpbnMvUnVsZXMuanMiOwppbXBvcnQgeyBVU0VSX1ZFUklGWSwgVVNFUl9SRVNFTkRfVkVSSUZJQ0FUSU9OX1RPS0VOLCBVU0VSX0NIQU5HRV9QQVNTV09SRCB9IGZyb20gIkAvc3RvcmUvYWN0aW9ucy50eXBlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJWZXJpZnkiLAogIG1peGluczogW3J1bGVQYXNzd29yZF0sCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2tlbjogdGhpcy4kcm91dGUucGFyYW1zLnRva2VuLAogICAgICB1c2VyOiB0aGlzLiRyb3V0ZS5wYXJhbXMudXNlciwKICAgICAgd3JvbmdDcmVkOiB0cnVlLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgc25hY2tiYXI6IGZhbHNlLAogICAgICBzbmFja2JhclRleHQ6ICcnLAogICAgICB2ZXJpZmllZDogZmFsc2UsCiAgICAgIHBhc3N3b3JkMTogbnVsbCwKICAgICAgcGFzc3dvcmQyOiBudWxsLAogICAgICBzaG93cHc6IGZhbHNlLAogICAgICB1c2VyT2JqOiBudWxsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJhY3RpdmVVc2VyIiwgImxvZ2dlZEluIl0pLCB7CiAgICByZXBlYXRQYXNzd29yZDogZnVuY3Rpb24gcmVwZWF0UGFzc3dvcmQoKSB7CiAgICAgIHZhciByZXQgPSBbdGhpcy5wYXNzd29yZDEgPT09IHRoaXMucGFzc3dvcmQyIHx8ICdQYXNzd29yZHMgbXVzdCBtYXRjaC4nXTsKICAgICAgcmV0LnB1c2guYXBwbHkocmV0LCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy4kcnVsZVBhc3N3b3JkKSk7CiAgICAgIHJldHVybiByZXQ7CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJlZnMudmVyaWZ5Rm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goVVNFUl9WRVJJRlksIHsKICAgICAgICAgICdpZCc6IHRoaXMudXNlciwKICAgICAgICAgICd2ZXJpZnlfdG9rZW4nOiB0aGlzLnRva2VuCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy52ZXJpZmllZCA9IHRydWU7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuZXJyb3IgPSAnVmVyaWZpY2F0aW9uIGNvZGUgaXMgaW52YWxpZCc7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZXNlbmRDb2RlOiBmdW5jdGlvbiByZXNlbmRDb2RlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKFVTRVJfUkVTRU5EX1ZFUklGSUNBVElPTl9UT0tFTiwgewogICAgICAgICdpZCc6IHRoaXMudXNlcgogICAgICB9KTsKICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgIHRoaXMuc25hY2tiYXJUZXh0ID0gIlZlcmlmaWNhdGlvbiBjb2RlIGhhcyBiZWVuIHNlbnQgdG8geW91ciBlbWFpbC4iOwogICAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIF90aGlzMi5zbmFja2JhciA9IGZhbHNlOwogICAgICAgIF90aGlzMi5zbmFja2JhclRleHQgPSAiIjsgLy9jbGVhciB0aW1lcgogICAgICB9LCA2MDAwKTsKICAgIH0sCiAgICBjaGFuZ2VQYXNzd29yZDogZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuJHJlZnMuY2hhbmdlRm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goVVNFUl9DSEFOR0VfUEFTU1dPUkQsIHsKICAgICAgICAgICdpZCc6IHRoaXMudXNlciwKICAgICAgICAgICdwYXNzd29yZCc6IHRoaXMucGFzc3dvcmQxCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMuc25hY2tiYXIgPSB0cnVlOwogICAgICAgICAgX3RoaXMzLnNuYWNrYmFyVGV4dCA9ICJQYXNzd29yZCBjaGFuZ2VkLiBQbGVhc2UgbG9naW4gd2l0aCB5b3VyIG5ldyBwYXNzd29yZC4gUmVkaXJlY3RpbmcuLi4iOwogICAgICAgICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7CgogICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAnbG9naW4nCiAgICAgICAgICAgIH0pOyAvL2NsZWFyIHRpbWVyCgogICAgICAgICAgfSwgNDAwMCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrTG9nZ2VkSW46IGZ1bmN0aW9uIGNoZWNrTG9nZ2VkSW4oKSB7CiAgICAgIGlmICh0aGlzLmxvZ2dlZEluKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNoZWNrTG9nZ2VkSW4oKTsKICB9Cn07"},{"version":3,"sources":["VerifyReset.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n  <v-container\r\n  fluid\r\n    class=\"justify-center align-center flex d-flex\">\r\n    <v-card\r\n      v-if=\"!verified\"\r\n      min-width=\"500px\"\r\n      min-height=\"600px\"\r\n      class=\"pa-12\">\r\n      <v-form submit.prevent=\"onSubmit\" ref=\"verifyForm\">\r\n        <v-img\r\n          src=\"http://127.0.0.1:8000/media/logo.PNG\"\r\n          position=\"center\"\r\n          width=\"300px\"\r\n          class=\"mx-auto\"\r\n          />\r\n        <v-card-subtitle\r\n          class=\"text-center\">\r\n          The King of Product Recommendations\r\n        </v-card-subtitle>\r\n        <v-card-title\r\n          class=\"justify-center\">\r\n          Verify Password Reset\r\n        </v-card-title>\r\n        <v-text-field\r\n          outlined\r\n          class=\"mx-8 mb-3\"\r\n          v-model=\"token\"\r\n          hide-details=\"auto\"\r\n          :rules=\"[v => !!(v) || 'Please enter a code']\"\r\n          placeholder=\"Verification Code\"\r\n          validate-on-blur\r\n          :error-messages=\"error ? error : null\"\r\n          @change=\"error = null\"\r\n        />\r\n        <v-row justify=\"center\">\r\n          <v-col\r\n          class=\"mx-8\"\r\n            align=\"center\"\r\n          >\r\n            <v-btn\r\n              v-if=\"!error\"\r\n              @click=\"onSubmit()\"\r\n              color=\"primary\"\r\n              width=\"100%\" >\r\n              Continue\r\n            </v-btn>\r\n            <v-btn\r\n              v-else\r\n              @click=\"resendCode()\"\r\n              color=\"warning\"\r\n              width=\"100%\" >\r\n              Resend Verification Code\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n      </v-form>\r\n    </v-card>\r\n    <v-card\r\n      v-if=\"verified\"\r\n      min-width=\"500px\"\r\n      min-height=\"600px\"\r\n      class=\"pa-12\">\r\n      <v-form submit.prevent=\"changePassword\" ref=\"changeForm\">\r\n        <v-img\r\n          src=\"http://127.0.0.1:8000/media/logo.PNG\"\r\n          position=\"center\"\r\n          width=\"300px\"\r\n          class=\"mx-auto\"\r\n          />\r\n        <v-card-subtitle\r\n          class=\"text-center\">\r\n          The King of Product Recommendations\r\n        </v-card-subtitle>\r\n        <v-card-title\r\n          class=\"justify-center\">\r\n          Enter New password\r\n        </v-card-title>\r\n        <v-text-field\r\n          outlined\r\n          class=\"mx-8 mb-3\"\r\n          v-model=\"password1\"\r\n          hide-details=\"auto\"\r\n          :rules=\"$rulePassword\"\r\n          placeholder=\"Password\"\r\n          :append-icon=\"showpw ? 'mdi-eye' : 'mdi-eye-off'\"\r\n          :type=\"showpw ? 'text' : 'password'\"\r\n          @click:append=\"showpw = !showpw\"\r\n          autocomplete=\"new-password\"\r\n          validate-on-blur\r\n        />\r\n        <v-text-field\r\n          outlined\r\n          class=\"mx-8 mb-3\"\r\n          v-model=\"password2\"\r\n          hide-details=\"auto\"\r\n          :rules=\"repeatPassword\"\r\n          placeholder=\"Confirm password\"\r\n          :append-icon=\"showpw ? 'mdi-eye' : 'mdi-eye-off'\"\r\n          :type=\"showpw ? 'text' : 'password'\"\r\n          @click:append=\"showpw = !showpw\"\r\n          autocomplete=\"new-password\"\r\n          validate-on-blur\r\n        />\r\n        <v-row justify=\"center\">\r\n          <v-col\r\n          class=\"mx-8\"\r\n            align=\"center\"\r\n          >\r\n            <v-btn\r\n              @click=\"changePassword()\"\r\n              color=\"primary\"\r\n              width=\"100%\" >\r\n              Set Password\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n      </v-form>\r\n    </v-card>\r\n    <v-snackbar\r\n      v-model=\"snackbar\"\r\n      >\r\n      {{snackbarText}}\r\n    </v-snackbar>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { rulePassword } from \"@/components/mixins/Rules.js\"\r\n\r\nimport {\r\n  USER_VERIFY,\r\n  USER_RESEND_VERIFICATION_TOKEN,\r\n  USER_CHANGE_PASSWORD,\r\n } from \"@/store/actions.type\";\r\n\r\nexport default {\r\n  name: \"Verify\",\r\n  mixins: [rulePassword],\r\n  props: {\r\n  },\r\n  data() {\r\n    return {\r\n      token: this.$route.params.token,\r\n      user: this.$route.params.user,\r\n      wrongCred: true,\r\n      error: null,\r\n      snackbar: false,\r\n      snackbarText: '',\r\n      verified: false,\r\n      password1: null,\r\n      password2: null,\r\n      showpw: false,\r\n      userObj: null\r\n    };\r\n  },\r\n  components: {\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"activeUser\", \"loggedIn\"]),\r\n    repeatPassword() {\r\n      let ret = [this.password1 === this.password2 || 'Passwords must match.'];\r\n      ret.push(...this.$rulePassword);\r\n      return ret\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      if (this.$refs.verifyForm.validate()) {\r\n        this.error = null;\r\n        this.$store.dispatch(USER_VERIFY, {\r\n          'id': this.user,\r\n          'verify_token': this.token,\r\n        }).then(() => {\r\n          this.verified = true;\r\n        }).catch(() => {\r\n          this.error = 'Verification code is invalid';\r\n        })\r\n      }\r\n    },\r\n    resendCode() {\r\n      this.$store.dispatch(USER_RESEND_VERIFICATION_TOKEN, {\r\n        'id': this.user,\r\n      })\r\n      this.snackbar = true;\r\n      this.snackbarText = \"Verification code has been sent to your email.\"\r\n      let timer = setTimeout(() => {\r\n        clearTimeout(timer);\r\n        this.snackbar = false;\r\n        this.snackbarText = \"\"\r\n        //clear timer\r\n      }, 6000)\r\n    },\r\n    changePassword() {\r\n      if (this.$refs.changeForm.validate()) {\r\n        this.$store.dispatch(USER_CHANGE_PASSWORD, {\r\n          'id': this.user,\r\n          'password': this.password1,\r\n        }).then(() => {\r\n          this.snackbar = true;\r\n          this.snackbarText = \"Password changed. Please login with your new password. Redirecting...\"\r\n          let timer = setTimeout(() => {\r\n            clearTimeout(timer);\r\n            this.$router.push({ name: 'login' })\r\n            //clear timer\r\n          }, 4000)\r\n        }).catch((err) => {\r\n          console.log(err);\r\n        })\r\n      }\r\n    },\r\n    checkLoggedIn() {\r\n      if (this.loggedIn) {\r\n        this.$router.push({ name: 'home' })\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.checkLoggedIn();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n</style>\r\n"],"sourceRoot":"src/views"}]}