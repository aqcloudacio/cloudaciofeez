{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\store\\user.module.js","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\store\\user.module.js","mtime":1605241173266},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcVXNlcnNcXFVzZXJcXERlc2t0b3BcXEZlZXpcXGZlZXpcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxVc2Vyc1xcVXNlclxcRGVza3RvcFxcRmVlelxcZmVlelxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwoKdmFyIF9hY3Rpb25zLCBfbXV0YXRpb25zOwoKLy8gaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgand0X2RlY29kZSBmcm9tICJqd3QtZGVjb2RlIjsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXguanMnOwppbXBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gIkAvY29tbW9uL2FwaS5zZXJ2aWNlIjsKaW1wb3J0IHsgVVNFUl9GRVRDSCwgVVNFUl9VUERBVEUsIFBSQUNUSUNFX0lOVklURV9BQ0NFUFQsIFVTRVJfTE9HSU4sIFVTRVJfTE9HT1VULCBVU0VSX1JFR0lTVEVSLCBVU0VSX1JFR0lTVEVSX0RFVEFJTFMsIFVTRVJfUkVTRVRfUEFTU1dPUkQsIFVTRVJfQ0hBTkdFX1BBU1NXT1JELCBVU0VSX1ZFUklGWSwgVVNFUl9SRVNFTkRfVkVSSUZJQ0FUSU9OX1RPS0VOLCBVU0VSX0NIRUNLX0NSRURFTlRJQUxTLCBSRUZSRVNIX0FDQ0VTU19UT0tFTiwgQVVUT19SRUZSRVNIX1RJTUVSLCBVUERBVEVfTE9DQUxfU1RPUkFHRSB9IGZyb20gIi4vYWN0aW9ucy50eXBlIjsKaW1wb3J0IHsgU0VUX0FDVElWRV9VU0VSLCBSRU1PVkVfQUNUSVZFX1VTRVJfRlJPTV9QUkFDVElDRSwgQUREX0FDVElWRV9VU0VSX1RPX1BSQUNUSUNFLCBTRVRfQUNUSVZFX1VTRVJfUFJPUCwgVVBEQVRFX0FDQ0VTU19UT0tFTiwgREVTVFJPWV9UT0tFTlMsIENMRUFSX0FDVElWRV9VU0VSIH0gZnJvbSAiLi9tdXRhdGlvbnMudHlwZSI7CnZhciBpbml0aWFsU3RhdGUgPSB7CiAgYWN0aXZlVXNlcjoge30sCiAgYWNjZXNzVG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKSB8fCBudWxsLAogIHJlZnJlc2hUb2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlZnJlc2hfdG9rZW4nKSB8fCBudWxsCn07CmV4cG9ydCB2YXIgc3RhdGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBpbml0aWFsU3RhdGUpOwpleHBvcnQgdmFyIGFjdGlvbnMgPSAoX2FjdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBVU0VSX0ZFVENILCBmdW5jdGlvbiAoY29udGV4dCkgewogIGlmIChjb250ZXh0LmdldHRlcnMucmVmcmVzaFRva2VuSXNWYWxpZCkgewogICAgcmV0dXJuIFVzZXJTZXJ2aWNlLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgY29udGV4dC5jb21taXQoU0VUX0FDVElWRV9VU0VSLCBkYXRhLnJlc3VsdHNbMF0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIGNvbnRleHQuZGlzcGF0Y2goVVNFUl9MT0dPVVQpOwogIH0KfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgUFJBQ1RJQ0VfSU5WSVRFX0FDQ0VQVCwgZnVuY3Rpb24gKGNvbnRleHQsIG5vdGlmaWNhdGlvbikgewogIGNvbnRleHQuY29tbWl0KEFERF9BQ1RJVkVfVVNFUl9UT19QUkFDVElDRSwgewogICAgJ3R5cGUnOiAncHJhY3RpY2UnLAogICAgJ3ByYWN0aWNlJzogbm90aWZpY2F0aW9uLnByYWN0aWNlCiAgfSk7CiAgY29udGV4dC5jb21taXQoUkVNT1ZFX0FDVElWRV9VU0VSX0ZST01fUFJBQ1RJQ0UsIHsKICAgICd0eXBlJzogJ3BlbmRpbmcnLAogICAgJ3ByYWN0aWNlJzogbm90aWZpY2F0aW9uLnByYWN0aWNlCiAgfSk7CgogIGlmIChub3RpZmljYXRpb24uYWN0aXZlX3ByYWN0aWNlKSB7CiAgICBjb250ZXh0LmNvbW1pdChTRVRfQUNUSVZFX1VTRVJfUFJPUCwgewogICAgICAncHJvcCc6ICdhY3RpdmVfcHJhY3RpY2UnLAogICAgICAndmFsdWUnOiBub3RpZmljYXRpb24ucHJhY3RpY2UKICAgIH0pOwogIH0KCiAgOwogIGNvbnRleHQuZGlzcGF0Y2goVVNFUl9VUERBVEUpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBVU0VSX1VQREFURSwgZnVuY3Rpb24gKGNvbnRleHQpIHsKICByZXR1cm4gVXNlclNlcnZpY2UudXBkYXRlKGNvbnRleHQuZ2V0dGVycy5hY3RpdmVVc2VyKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICBjb250ZXh0LmNvbW1pdChTRVRfQUNUSVZFX1VTRVIsIGRhdGEpOwogIH0pOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBVU0VSX1JFR0lTVEVSLCBmdW5jdGlvbiAoY29udGV4dCwgcGF5bG9hZCkgewogIHJldHVybiBVc2VyU2VydmljZS5yZWdpc3RlcihwYXlsb2FkKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgVVNFUl9SRUdJU1RFUl9ERVRBSUxTLCBmdW5jdGlvbiAoY29udGV4dCwgcGF5bG9hZCkgewogIHJldHVybiBVc2VyU2VydmljZS5yZWdpc3RlckRldGFpbHMocGF5bG9hZCk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFVTRVJfVkVSSUZZLCBmdW5jdGlvbiAoY29udGV4dCwgcGF5bG9hZCkgewogIHJldHVybiBVc2VyU2VydmljZS52ZXJpZnkocGF5bG9hZCk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFVTRVJfUkVTRU5EX1ZFUklGSUNBVElPTl9UT0tFTiwgZnVuY3Rpb24gKGNvbnRleHQsIHVzZXIpIHsKICByZXR1cm4gVXNlclNlcnZpY2UucmVzZW5kVmVyaWZpY2F0aW9uVG9rZW4odXNlcikudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgY29uc29sZS5sb2coZGF0YSk7CiAgfSk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFVTRVJfUkVTRVRfUEFTU1dPUkQsIGZ1bmN0aW9uIChjb250ZXh0LCBwYXlsb2FkKSB7CiAgcmV0dXJuIFVzZXJTZXJ2aWNlLnJlc2V0UGFzc3dvcmQocGF5bG9hZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgY29uc29sZS5sb2coZGF0YSk7CiAgfSk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFVTRVJfQ0hBTkdFX1BBU1NXT1JELCBmdW5jdGlvbiAoY29udGV4dCwgcGF5bG9hZCkgewogIHJldHVybiBVc2VyU2VydmljZS5jaGFuZ2VQYXNzd29yZChwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICBjb25zb2xlLmxvZyhkYXRhKTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgVVNFUl9MT0dJTiwgZnVuY3Rpb24gKGNvbnRleHQsIGNyZWRlbnRpYWxzKSB7CiAgcmV0dXJuIFVzZXJTZXJ2aWNlLmxvZ2luKGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAvLyBTdG9yZXMgdGhlIGFjY2VzcyBhbmQgcmVmcmVzaCB0b2tlbnMgaW4gbG9jYWxzdG9yYWdlCiAgICBjb250ZXh0LmRpc3BhdGNoKFVQREFURV9MT0NBTF9TVE9SQUdFLCB7CiAgICAgIGFjY2VzczogZGF0YS5hY2Nlc3MsCiAgICAgIHJlZnJlc2g6IGRhdGEucmVmcmVzaAogICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnRleHQuZGlzcGF0Y2goVVNFUl9GRVRDSCk7CiAgICAgIGNvbnRleHQuZGlzcGF0Y2goQVVUT19SRUZSRVNIX1RJTUVSLCBkYXRhLmFjY2Vzcyk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgVVNFUl9DSEVDS19DUkVERU5USUFMUywgZnVuY3Rpb24gKGNvbnRleHQsIGNyZWRlbnRpYWxzKSB7CiAgcmV0dXJuIFVzZXJTZXJ2aWNlLmxvZ2luKGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICBjb25zb2xlLmxvZyhkYXRhKTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgVVBEQVRFX0xPQ0FMX1NUT1JBR0UsIGZ1bmN0aW9uIChjb250ZXh0LCBfcmVmKSB7CiAgdmFyIGFjY2VzcyA9IF9yZWYuYWNjZXNzLAogICAgICByZWZyZXNoID0gX3JlZi5yZWZyZXNoOwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NfdG9rZW4nLCBhY2Nlc3MpOwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoX3Rva2VuJywgcmVmcmVzaCk7CiAgY29udGV4dC5zdGF0ZS5hY2Nlc3NUb2tlbiA9IGFjY2VzczsKICBjb250ZXh0LnN0YXRlLnJlZnJlc2hUb2tlbiA9IHJlZnJlc2g7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFVTRVJfTE9HT1VULCBmdW5jdGlvbiAoY29udGV4dCkgewogIC8vIE5PVEU6IFRoaXMgZnVuY3Rpb24gc2hvdWxkIGFsc28gb3B0aW1hbGx5IGJsYWNrbGlzdCB0b2tlbnMgdGhhdAogIC8vIGhhdmUgYmVlbiBsb2dnZWQgb3V0LiBIYXZuZSd0IGltcGxlbWVudGVkIHRoaXMgbG9naWMgeWV0LCBkb24ndCBrbm93IGlmCiAgLy8gSSB3aWxsLgogIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaF90b2tlbicpOwogIGNvbnRleHQuY29tbWl0KENMRUFSX0FDVElWRV9VU0VSKTsKICBjb250ZXh0LmNvbW1pdChERVNUUk9ZX1RPS0VOUyk7CgogIGlmIChyb3V0ZXIuY3VycmVudFJvdXRlLm5hbWUgIT0gJ2xvZ2luJykgewogICAgcm91dGVyLnB1c2goewogICAgICBuYW1lOiAnbG9naW4nCiAgICB9KTsKICB9Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFJFRlJFU0hfQUNDRVNTX1RPS0VOLCBmdW5jdGlvbiAoY29udGV4dCkgewogIC8vIHNlbmQgdGhlIHN0b3JlZCByZWZyZXNoIHRva2VuIHRvIHRoZSBBUEkKICBpZiAoY29udGV4dC5nZXR0ZXJzLnJlZnJlc2hUb2tlbklzVmFsaWQpIHsKICAgIHJldHVybiBVc2VyU2VydmljZS5yZWZyZXNoVG9rZW4oewogICAgICAncmVmcmVzaCc6IGNvbnRleHQuZ2V0dGVycy5yZWZyZXNoVG9rZW4KICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgLy8gaWYgQVBJIHNlbmRzIGJhY2sgbmV3IGFjY2VzcyB0b2tlbiwgdXBkYXRlIHRoZSBzdG9yZQogICAgICBjb250ZXh0LmNvbW1pdChVUERBVEVfQUNDRVNTX1RPS0VOLCBkYXRhLmFjY2Vzcyk7CiAgICAgIGNvbnRleHQuZGlzcGF0Y2goQVVUT19SRUZSRVNIX1RJTUVSLCBkYXRhLmFjY2Vzcyk7CiAgICAgIHJldHVybiBkYXRhLmFjY2VzczsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coIkVycm9yIHJlZnJlc2hpbmcgYWNjZXNzIHRva2VuIC0gbG9nZ2luZyBvdXQiKTsKICAgICAgY29udGV4dC5kaXNwYXRjaChVU0VSX0xPR09VVCk7CiAgICB9KTsKICB9IGVsc2UgewogICAgY29udGV4dC5kaXNwYXRjaChVU0VSX0xPR09VVCk7CiAgfQp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBVVRPX1JFRlJFU0hfVElNRVIsIGZ1bmN0aW9uIChjb250ZXh0LCBhY2Nlc3N0b2tlbikgewogIC8vIGdldCBjdXJyZW50IGRhdGV0aW1lCiAgdmFyIGN1cnJlbnREYXRldGltZSA9IG5ldyBEYXRlKCk7IC8vIElmIHJlZnJlc2ggdG9rZW4gaXMgbm90IGV4cGlyZWQsIGdldCBhIG5ldyBhY2Nlc3MgdG9rZW4uCgogIHZhciBkZWNvZGVkQWNjZXNzVG9rZW4gPSBqd3RfZGVjb2RlKGFjY2Vzc3Rva2VuKTsgLy8gZ2V0IGV4cGlyeSBvZiBuZXdseSBpc3N1ZWQgSldUCgogIHZhciBhY2Nlc3NUb2tlbkV4cGlyeSA9IG5ldyBEYXRlKGRlY29kZWRBY2Nlc3NUb2tlbi5leHAgKiAxMDAwKTsgLy8gZ2V0IGRlbHRhIGxlc3MgNjAgbXMKCiAgdmFyIHRpbWVUb0V4cGlyZSA9IGFjY2Vzc1Rva2VuRXhwaXJ5IC0gY3VycmVudERhdGV0aW1lIC0gNjAwMDA7IC8vIFNldCBhIHRpbWVyIHRvIGZpcmUgNjAgc2Vjb25kcyBiZWZvcmUgdG9rZW4gZXhwaXJ5CgogIHZhciB0b2tlblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAvL2NhbGwgZnVuY3QgdG8gcmVmcmVzaCB0b2tlbgogICAgY29udGV4dC5kaXNwYXRjaChSRUZSRVNIX0FDQ0VTU19UT0tFTikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIGNsZWFyVGltZW91dCh0b2tlblRpbWVyKTsKICAgIH0pOyAvL2NsZWFyIHRpbWVyCiAgfSwgdGltZVRvRXhwaXJlKTsKfSksIF9hY3Rpb25zKTsKLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiBbImVycm9yIiwgeyAicHJvcHMiOiBmYWxzZSB9XSAqLwoKZXhwb3J0IHZhciBtdXRhdGlvbnMgPSAoX211dGF0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgU0VUX0FDVElWRV9VU0VSLCBmdW5jdGlvbiAoc3RhdGUsIHVzZXIpIHsKICBzdGF0ZS5hY3RpdmVVc2VyID0gdXNlcjsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBDTEVBUl9BQ1RJVkVfVVNFUiwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuYWN0aXZlVXNlciA9IGluaXRpYWxTdGF0ZS5hY3RpdmVVc2VyOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFJFTU9WRV9BQ1RJVkVfVVNFUl9GUk9NX1BSQUNUSUNFLCBmdW5jdGlvbiAoc3RhdGUsIF9yZWYyKSB7CiAgdmFyIHR5cGUgPSBfcmVmMi50eXBlLAogICAgICBwcmFjdGljZSA9IF9yZWYyLnByYWN0aWNlOwoKICBpZiAodHlwZSA9PT0gJ3BlbmRpbmcnKSB7CiAgICB2YXIgcmVzdWx0ID0gc3RhdGUuYWN0aXZlVXNlci5wZW5kaW5nX3ByYWN0aWNlcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsKICAgICAgcmV0dXJuIGkgIT0gcHJhY3RpY2U7CiAgICB9KTsKICAgIHN0YXRlLmFjdGl2ZVVzZXIucGVuZGluZ19wcmFjdGljZXMgPSByZXN1bHQ7CiAgfQp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFERF9BQ1RJVkVfVVNFUl9UT19QUkFDVElDRSwgZnVuY3Rpb24gKHN0YXRlLCBfcmVmMykgewogIHZhciB0eXBlID0gX3JlZjMudHlwZSwKICAgICAgcHJhY3RpY2UgPSBfcmVmMy5wcmFjdGljZTsKCiAgaWYgKHR5cGUgPT09ICdwcmFjdGljZScpIHsKICAgIHN0YXRlLmFjdGl2ZVVzZXIucHJhY3RpY2VzLnB1c2gocHJhY3RpY2UpOwogIH0KfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfQUNUSVZFX1VTRVJfUFJPUCwgZnVuY3Rpb24gKHN0YXRlLCBfcmVmNCkgewogIHZhciBwcm9wID0gX3JlZjQucHJvcCwKICAgICAgdmFsdWUgPSBfcmVmNC52YWx1ZTsKCiAgaWYgKHByb3AuaW5jbHVkZXMoJy4nKSkgewogICAgdmFyIHNwbGl0cHJvcCA9IHByb3Auc3BsaXQoJy4nKTsKICAgIHZhciBvYmogPSBzcGxpdHByb3BbMF07CiAgICB2YXIgYXR0ciA9IHNwbGl0cHJvcFsxXTsKCiAgICBpZiAoIXN0YXRlLmFjdGl2ZVVzZXJbb2JqXSkgewogICAgICBzdGF0ZS5hY3RpdmVVc2VyW29ial0gPSBuZXcgT2JqZWN0KCk7CiAgICB9CgogICAgc3RhdGUuYWN0aXZlVXNlcltvYmpdW2F0dHJdID0gdmFsdWU7CiAgfSBlbHNlIHsKICAgIHN0YXRlLmFjdGl2ZVVzZXJbcHJvcF0gPSB2YWx1ZTsKICB9Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgVVBEQVRFX0FDQ0VTU19UT0tFTiwgZnVuY3Rpb24gKHN0YXRlLCBhY2Nlc3MpIHsKICBzdGF0ZS5hY2Nlc3NUb2tlbiA9IGFjY2VzczsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzX3Rva2VuJywgYWNjZXNzKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBERVNUUk9ZX1RPS0VOUywgZnVuY3Rpb24gKHN0YXRlKSB7CiAgc3RhdGUuYWNjZXNzVG9rZW4gPSBudWxsOwogIHN0YXRlLnJlZnJlc2hUb2tlbiA9IG51bGw7Cn0pLCBfbXV0YXRpb25zKTsKdmFyIGdldHRlcnMgPSB7CiAgYWN0aXZlVXNlcjogZnVuY3Rpb24gYWN0aXZlVXNlcihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmFjdGl2ZVVzZXI7CiAgfSwKICBhY2Nlc3NUb2tlbjogZnVuY3Rpb24gYWNjZXNzVG9rZW4oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5hY2Nlc3NUb2tlbjsKICB9LAogIHJlZnJlc2hUb2tlbjogZnVuY3Rpb24gcmVmcmVzaFRva2VuKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucmVmcmVzaFRva2VuOwogIH0sCiAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuYWNjZXNzVG9rZW4gIT0gbnVsbDsKICB9LAogIHJlZnJlc2hUb2tlbklzVmFsaWQ6IGZ1bmN0aW9uIHJlZnJlc2hUb2tlbklzVmFsaWQoc3RhdGUpIHsKICAgIGlmIChzdGF0ZS5yZWZyZXNoVG9rZW4pIHsKICAgICAgdmFyIGN1cnJlbnREYXRldGltZSA9IG5ldyBEYXRlKCk7IC8vZ2V0IGV4cGlyeSBvZiByZWZyZXNoIHRva2VuCgogICAgICB2YXIgZGVjb2RlZFJlZnJlc2hUb2tlbiA9IGp3dF9kZWNvZGUoc3RhdGUucmVmcmVzaFRva2VuKTsgLy9nZXQgZXhwaXJ5IG9mIHJlZnJlc2ggdG9rZW4KCiAgICAgIHZhciByZWZyZXNoVG9rZW5FeHBpcnkgPSBuZXcgRGF0ZShkZWNvZGVkUmVmcmVzaFRva2VuLmV4cCAqIDEwMDApOwogICAgICByZXR1cm4gcmVmcmVzaFRva2VuRXhwaXJ5ID4gY3VycmVudERhdGV0aW1lOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sCiAgYWNjZXNzVG9rZW5Jc1ZhbGlkOiBmdW5jdGlvbiBhY2Nlc3NUb2tlbklzVmFsaWQoc3RhdGUpIHsKICAgIGlmIChzdGF0ZS5hY2Nlc3NUb2tlbikgewogICAgICB2YXIgY3VycmVudERhdGV0aW1lID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGRlY29kZWRUb2tlbiA9IGp3dF9kZWNvZGUoc3RhdGUuYWNjZXNzVG9rZW4pOyAvL2dldCBleHBpcnkgb2YgcmVmcmVzaCB0b2tlbgoKICAgICAgdmFyIHRva2VuRXhwaXJ5ID0gbmV3IERhdGUoZGVjb2RlZFRva2VuLmV4cCAqIDEwMDApOwogICAgICByZXR1cm4gdG9rZW5FeHBpcnkgPiBjdXJyZW50RGF0ZXRpbWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["C:/Users/User/Desktop/Feez/feez/frontend/src/store/user.module.js"],"names":["jwt_decode","router","UserService","USER_FETCH","USER_UPDATE","PRACTICE_INVITE_ACCEPT","USER_LOGIN","USER_LOGOUT","USER_REGISTER","USER_REGISTER_DETAILS","USER_RESET_PASSWORD","USER_CHANGE_PASSWORD","USER_VERIFY","USER_RESEND_VERIFICATION_TOKEN","USER_CHECK_CREDENTIALS","REFRESH_ACCESS_TOKEN","AUTO_REFRESH_TIMER","UPDATE_LOCAL_STORAGE","SET_ACTIVE_USER","REMOVE_ACTIVE_USER_FROM_PRACTICE","ADD_ACTIVE_USER_TO_PRACTICE","SET_ACTIVE_USER_PROP","UPDATE_ACCESS_TOKEN","DESTROY_TOKENS","CLEAR_ACTIVE_USER","initialState","activeUser","accessToken","localStorage","getItem","refreshToken","state","actions","context","getters","refreshTokenIsValid","get","then","data","commit","results","catch","err","console","log","dispatch","notification","practice","active_practice","update","payload","register","registerDetails","verify","user","resendVerificationToken","resetPassword","changePassword","credentials","login","access","refresh","error","Promise","reject","setItem","removeItem","currentRoute","name","push","accesstoken","currentDatetime","Date","decodedAccessToken","accessTokenExpiry","exp","timeToExpire","tokenTimer","setTimeout","clearTimeout","mutations","type","result","pending_practices","filter","i","practices","prop","value","includes","splitprop","split","obj","attr","Object","loggedIn","decodedRefreshToken","refreshTokenExpiry","accessTokenIsValid","decodedToken","tokenExpiry"],"mappings":"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","sourcesContent":["// import Vue from \"vue\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport router from '../router/index.js'\r\n\r\nimport {\r\n  UserService\r\n} from \"@/common/api.service\";\r\nimport {\r\n  USER_FETCH,\r\n  USER_UPDATE,\r\n  PRACTICE_INVITE_ACCEPT,\r\n  USER_LOGIN,\r\n  USER_LOGOUT,\r\n  USER_REGISTER,\r\n  USER_REGISTER_DETAILS,\r\n  USER_RESET_PASSWORD,\r\n  USER_CHANGE_PASSWORD,\r\n  USER_VERIFY,\r\n  USER_RESEND_VERIFICATION_TOKEN,\r\n  USER_CHECK_CREDENTIALS,\r\n  REFRESH_ACCESS_TOKEN,\r\n  AUTO_REFRESH_TIMER,\r\n  UPDATE_LOCAL_STORAGE,\r\n} from \"./actions.type\";\r\nimport {\r\n  SET_ACTIVE_USER,\r\n  REMOVE_ACTIVE_USER_FROM_PRACTICE,\r\n  ADD_ACTIVE_USER_TO_PRACTICE,\r\n  SET_ACTIVE_USER_PROP,\r\n  UPDATE_ACCESS_TOKEN,\r\n  DESTROY_TOKENS,\r\n  CLEAR_ACTIVE_USER,\r\n} from \"./mutations.type\";\r\n\r\nconst initialState = {\r\n  activeUser: {},\r\n  accessToken: localStorage.getItem('access_token') || null,\r\n  refreshToken: localStorage.getItem('refresh_token') || null,\r\n};\r\n\r\nexport const state = { ...initialState };\r\n\r\nexport const actions = {\r\n  [USER_FETCH](context) {\r\n    if (context.getters.refreshTokenIsValid) {\r\n      return UserService.get().then(data => {\r\n        context.commit(SET_ACTIVE_USER, data.results[0])\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n    } else {\r\n      context.dispatch(USER_LOGOUT);\r\n    }\r\n  },\r\n  [PRACTICE_INVITE_ACCEPT](context, notification) {\r\n    context.commit(ADD_ACTIVE_USER_TO_PRACTICE, {\r\n      'type': 'practice',\r\n      'practice': notification.practice\r\n    });\r\n    context.commit(REMOVE_ACTIVE_USER_FROM_PRACTICE, {\r\n      'type': 'pending',\r\n      'practice': notification.practice\r\n    });\r\n    if (notification.active_practice) {\r\n      context.commit(SET_ACTIVE_USER_PROP, {\r\n        'prop': 'active_practice',\r\n        'value': notification.practice\r\n      });\r\n    };\r\n    context.dispatch(USER_UPDATE);\r\n  },\r\n  [USER_UPDATE](context) {\r\n    return UserService.update(context.getters.activeUser).then(data => {\r\n      context.commit(SET_ACTIVE_USER, data)\r\n    });\r\n  },\r\n  [USER_REGISTER](context, payload){\r\n    return UserService.register(payload)\r\n  },\r\n  [USER_REGISTER_DETAILS](context, payload) {\r\n    return UserService.registerDetails(payload)\r\n  },\r\n  [USER_VERIFY](context, payload){\r\n    return UserService.verify(payload)\r\n  },\r\n  [USER_RESEND_VERIFICATION_TOKEN](context, user){\r\n    return UserService.resendVerificationToken(user).then(data => {\r\n      console.log(data);\r\n    })\r\n  },\r\n  [USER_RESET_PASSWORD](context, payload){\r\n    return UserService.resetPassword(payload).then(data => {\r\n      console.log(data);\r\n    })\r\n  },\r\n  [USER_CHANGE_PASSWORD](context, payload){\r\n    return UserService.changePassword(payload).then(data => {\r\n      console.log(data);\r\n    })\r\n  },\r\n  [USER_LOGIN](context, credentials){\r\n    return UserService.login(credentials).then(data => {\r\n      // Stores the access and refresh tokens in localstorage\r\n      context.dispatch(UPDATE_LOCAL_STORAGE, {\r\n        access: data.access,\r\n        refresh: data.refresh\r\n      }).then(() => {\r\n        context.dispatch(USER_FETCH);\r\n        context.dispatch(AUTO_REFRESH_TIMER, data.access);\r\n      }).catch(error => {\r\n        return Promise.reject(error);\r\n      })\r\n    }).catch(error => {\r\n      return Promise.reject(error);\r\n    })\r\n  },\r\n  [USER_CHECK_CREDENTIALS](context, credentials) {\r\n    return UserService.login(credentials).then(data => {\r\n      console.log(data);\r\n    }).catch((err) => {\r\n      return Promise.reject(err);\r\n    })\r\n  },\r\n  [UPDATE_LOCAL_STORAGE](context, {access, refresh}) {\r\n    localStorage.setItem('access_token', access);\r\n    localStorage.setItem('refresh_token', refresh);\r\n    context.state.accessToken = access;\r\n    context.state.refreshToken = refresh;\r\n  },\r\n  [USER_LOGOUT](context) {\r\n    // NOTE: This function should also optimally blacklist tokens that\r\n    // have been logged out. Havne't implemented this logic yet, don't know if\r\n    // I will.\r\n    localStorage.removeItem('access_token');\r\n    localStorage.removeItem('refresh_token');\r\n    context.commit(CLEAR_ACTIVE_USER);\r\n    context.commit(DESTROY_TOKENS);\r\n\r\n    if (router.currentRoute.name != 'login') {\r\n      router.push({ name: 'login' });\r\n    }\r\n  },\r\n  [REFRESH_ACCESS_TOKEN](context){\r\n    // send the stored refresh token to the API\r\n    if (context.getters.refreshTokenIsValid) {\r\n      return UserService.refreshToken({\r\n        'refresh': context.getters.refreshToken\r\n      }).then(data => {\r\n        // if API sends back new access token, update the store\r\n        context.commit(UPDATE_ACCESS_TOKEN, data.access);\r\n        context.dispatch(AUTO_REFRESH_TIMER, data.access);\r\n        return data.access\r\n      }).catch(() => {\r\n        console.log(`Error refreshing access token - logging out`);\r\n        context.dispatch(USER_LOGOUT);\r\n      })\r\n    } else {\r\n      context.dispatch(USER_LOGOUT);\r\n    }\r\n  },\r\n  [AUTO_REFRESH_TIMER](context, accesstoken){\r\n    // get current datetime\r\n    let currentDatetime = new Date();\r\n    // If refresh token is not expired, get a new access token.\r\n    let decodedAccessToken = jwt_decode(accesstoken);\r\n    // get expiry of newly issued JWT\r\n    let accessTokenExpiry = new Date(decodedAccessToken.exp * 1000);\r\n    // get delta less 60 ms\r\n    let timeToExpire = ((accessTokenExpiry-currentDatetime)-60000)\r\n\r\n    // Set a timer to fire 60 seconds before token expiry\r\n    let tokenTimer = setTimeout(() => {\r\n      //call funct to refresh token\r\n      context.dispatch(REFRESH_ACCESS_TOKEN).then(()=> {\r\n        clearTimeout(tokenTimer);\r\n      })\r\n      //clear timer\r\n    }, timeToExpire);\r\n  }\r\n};\r\n\r\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\r\nexport const mutations = {\r\n  [SET_ACTIVE_USER](state, user) {\r\n    state.activeUser = user;\r\n  },\r\n  [CLEAR_ACTIVE_USER](state) {\r\n    state.activeUser = initialState.activeUser;\r\n  },\r\n  [REMOVE_ACTIVE_USER_FROM_PRACTICE](state, {type, practice}){\r\n    if (type === 'pending') {\r\n      const result = state.activeUser.pending_practices.filter(i => i != practice);\r\n      state.activeUser.pending_practices = result;\r\n    }\r\n  },\r\n  [ADD_ACTIVE_USER_TO_PRACTICE](state, {type, practice}){\r\n    if (type === 'practice') {\r\n      state.activeUser.practices.push(practice)\r\n    }\r\n  },\r\n  [SET_ACTIVE_USER_PROP](state, {prop, value}) {\r\n    if (prop.includes('.')) {\r\n        let splitprop = prop.split('.');\r\n        let obj = splitprop[0];\r\n        let attr = splitprop[1];\r\n        if (!state.activeUser[obj]) {\r\n            state.activeUser[obj] = new Object();\r\n        }\r\n        state.activeUser[obj][attr] = value;\r\n    } else {\r\n    state.activeUser[prop] = value;\r\n    }\r\n  },\r\n  [UPDATE_ACCESS_TOKEN] (state, access) {\r\n    state.accessToken = access;\r\n    localStorage.setItem('access_token', access);\r\n  },\r\n  [DESTROY_TOKENS] (state) {\r\n    state.accessToken = null;\r\n    state.refreshToken = null;\r\n  },\r\n};\r\n\r\nconst getters = {\r\n  activeUser(state) {\r\n    return state.activeUser;\r\n  },\r\n  accessToken (state) {\r\n    return state.accessToken;\r\n  },\r\n  refreshToken (state) {\r\n    return state.refreshToken;\r\n  },\r\n  loggedIn (state) {\r\n    return state.accessToken != null;\r\n  },\r\n  refreshTokenIsValid (state) {\r\n    if (state.refreshToken) {\r\n      let currentDatetime = new Date();\r\n      //get expiry of refresh token\r\n      let decodedRefreshToken = jwt_decode(state.refreshToken);\r\n      //get expiry of refresh token\r\n      let refreshTokenExpiry = new Date(decodedRefreshToken.exp * 1000);\r\n      return refreshTokenExpiry > currentDatetime\r\n    } else {\r\n      return false\r\n    }\r\n  },\r\n  accessTokenIsValid (state) {\r\n    if (state.accessToken) {\r\n      let currentDatetime = new Date();\r\n      let decodedToken = jwt_decode(state.accessToken);\r\n      //get expiry of refresh token\r\n      let tokenExpiry = new Date(decodedToken.exp * 1000);\r\n      return tokenExpiry > currentDatetime\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n};\r\n\r\nexport default {\r\n  state,\r\n  actions,\r\n  mutations,\r\n  getters\r\n};\r\n"]}]}