{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\common\\api.service.js","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\common\\api.service.js","mtime":1601975993668},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCB7IENTUkZfVE9LRU4gfSBmcm9tICIuL2NzcmZfdG9rZW4uanMiOwoKZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHsKICAgIHJldHVybiAiIjsKICB9IGVsc2UgewogICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChqc29uKSB7CiAgICAgIHJldHVybiByZXNwb25zZS5vayA/IGpzb24gOiBQcm9taXNlLnJlamVjdChqc29uKTsKICAgIH0pOwogIH0KfQoKZnVuY3Rpb24gYXBpU2VydmljZShlbmRwb2ludCwgbWV0aG9kLCBkYXRhKSB7CiAgdmFyIGNvbmZpZyA9IHsKICAgIG1ldGhvZDogbWV0aG9kIHx8ICJHRVQiLAogICAgYm9keTogZGF0YSAhPT0gdW5kZWZpbmVkID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBudWxsLAogICAgaGVhZGVyczogewogICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAiWC1DU1JGVE9LRU4iOiBDU1JGX1RPS0VOCiAgICB9CiAgfTsKICByZXR1cm4gZmV0Y2goZW5kcG9pbnQsIGNvbmZpZykudGhlbihoYW5kbGVSZXNwb25zZSk7IC8vIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogIC8vICAgY29uc29sZS5sb2coIk8iKQogIC8vICAgY29uc29sZS5sb2coZXJyb3IpCiAgLy8gICByZXR1cm4gZXJyb3IKICAvLyAgfSk7Cn0KCmV4cG9ydCB7IGFwaVNlcnZpY2UgfTsKZXhwb3J0IHZhciBTY2VuYXJpb1NlcnZpY2UgPSB7CiAgLy8gbGlzdCgpIHsKICAvLyAgIHJldHVybiBhcGlTZXJ2aWNlKGAvYXBpL3NjZW5hcmlvcy9gLCAiR0VUIik7CiAgLy8gfSwKICBnZXQ6IGZ1bmN0aW9uIGdldChzY2VuYXJpb0lkKSB7CiAgICByZXR1cm4gYXBpU2VydmljZSgiL2FwaS9zY2VuYXJpb3MvIi5jb25jYXQoc2NlbmFyaW9JZCwgIi8iKSwgIkdFVCIpOwogIH0sCiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoc2NlbmFyaW8pIHsKICAgIHJldHVybiBhcGlTZXJ2aWNlKCIvYXBpL3NjZW5hcmlvcy8iLCAiUE9TVCIsIHNjZW5hcmlvKTsKICB9LAogIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHNjZW5hcmlvKSB7CiAgICByZXR1cm4gYXBpU2VydmljZSgiL2FwaS9zY2VuYXJpb3MvIi5jb25jYXQoc2NlbmFyaW8uaWQsICIvIiksICJQQVRDSCIsIHNjZW5hcmlvKTsKICB9IC8vIGRlc3Ryb3koc2NlbmFyaW9JZCkgewogIC8vICAgcmV0dXJuIGFwaVNlcnZpY2UoYC9hcGkvc2NlbmFyaW9zLyR7c2NlbmFyaW9JZH0vYCwgIkRFTEVURSIpOwogIC8vIH0KCn07CmV4cG9ydCB2YXIgQWR2ZXJ0U2VydmljZSA9IHsKICBsaXN0OiBmdW5jdGlvbiBsaXN0KCkgewogICAgcmV0dXJuIGFwaVNlcnZpY2UoIi9hcGkvY3VycmVudGFkdmVydC8iLCAiR0VUIik7CiAgfQp9OwpleHBvcnQgdmFyIEludmVzdG1lbnROYW1lU2VydmljZSA9IHsKICBsaXN0OiBmdW5jdGlvbiBsaXN0KCkgewogICAgcmV0dXJuIGFwaVNlcnZpY2UoIi9hcGkvdW5saW5rZWRpbnZlc3RtZW50bmFtZS8iLCAiR0VUIik7CiAgfQp9OwpleHBvcnQgdmFyIFBsYXRmb3JtU2VydmljZSA9IHsKICAvLyBsaXN0KCkgewogIC8vICAgcmV0dXJuIGFwaVNlcnZpY2UoYC9hcGkvc2NlbmFyaW9zL2AsICJHRVQiKTsKICAvLyB9LAogIGdldDogZnVuY3Rpb24gZ2V0KF9yZWYpIHsKICAgIHZhciBzY2VuYXJpb0lkID0gX3JlZi5zY2VuYXJpb0lkLAogICAgICAgIHBsYXRmb3JtSWQgPSBfcmVmLnBsYXRmb3JtSWQ7CiAgICByZXR1cm4gYXBpU2VydmljZSgiL2FwaS9zY2VuYXJpb3MvIi5jb25jYXQoc2NlbmFyaW9JZCwgIi9wbGF0Zm9ybXMvIikuY29uY2F0KHBsYXRmb3JtSWQsICIvIiksICJHRVQiKTsKICB9LAogIC8vIGNyZWF0ZShzY2VuYXJpbykgewogIC8vICAgcmV0dXJuIGFwaVNlcnZpY2UoYC9hcGkvc2NlbmFyaW9zL2AsICJQT1NUIiwgc2NlbmFyaW8pOwogIC8vIH0sCiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoc3RhdGUsIHJvb3RTdGF0ZSkgewogICAgcmV0dXJuIGFwaVNlcnZpY2UoIi9hcGkvc2NlbmFyaW9zLyIuY29uY2F0KHJvb3RTdGF0ZS5zY2VuYXJpby5hY3RpdmVTY2VuYXJpby5pZCwgIi9wbGF0Zm9ybXMvIikuY29uY2F0KHN0YXRlLmFjdGl2ZVBsYXRmb3JtLmlkLCAiLyIpLCAiUEFUQ0giLCBzdGF0ZS5hY3RpdmVQbGF0Zm9ybSk7CiAgfSAvLyBkZXN0cm95KHNjZW5hcmlvSWQpIHsKICAvLyAgIHJldHVybiBhcGlTZXJ2aWNlKGAvYXBpL3NjZW5hcmlvcy8ke3NjZW5hcmlvSWR9L2AsICJERUxFVEUiKTsKICAvLyB9Cgp9OwpleHBvcnQgdmFyIFBsYXRmb3JtQUFTZXJ2aWNlID0gewogIGxpc3Q6IGZ1bmN0aW9uIGxpc3QoX3JlZjIpIHsKICAgIHZhciBzY2VuYXJpb0lkID0gX3JlZjIuc2NlbmFyaW9JZCwKICAgICAgICBwbGF0Zm9ybUlkID0gX3JlZjIucGxhdGZvcm1JZDsKICAgIHJldHVybiBhcGlTZXJ2aWNlKCIvYXBpL3NjZW5hcmlvcy8iLmNvbmNhdChzY2VuYXJpb0lkLCAiL3BsYXRmb3Jtcy8iKS5jb25jYXQocGxhdGZvcm1JZCwgIi9hYXN1bW1hcnkvIiksICJHRVQiKTsKICB9Cn07CmV4cG9ydCB2YXIgUGxhdGZvcm1OYW1lU2VydmljZSA9IHsKICBsaXN0OiBmdW5jdGlvbiBsaXN0KGVuZHBvaW50KSB7CiAgICBpZiAoZW5kcG9pbnQpIHsKICAgICAgcmV0dXJuIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJHRVQiKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBhcGlTZXJ2aWNlKCIvYXBpL3BsYXRmb3JtbmFtZXMvIiwgIkdFVCIpOwogICAgfQogIH0KfTsKZXhwb3J0IHZhciBVc2VyU2VydmljZSA9IHsKICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgIHJldHVybiBhcGlTZXJ2aWNlKCIvYXBpL3VzZXIvIiwgIkdFVCIpOwogIH0sCiAgLy8gY3JlYXRlKHNjZW5hcmlvKSB7CiAgLy8gICByZXR1cm4gYXBpU2VydmljZShgL2FwaS9zY2VuYXJpb3MvYCwgIlBPU1QiLCBzY2VuYXJpbyk7CiAgLy8gfSwKICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh1c2VyKSB7CiAgICByZXR1cm4gYXBpU2VydmljZSgiL2FwaS91c2VyLyIuY29uY2F0KHVzZXIuaWQsICIvIiksICJQQVRDSCIsIHVzZXIpOwogIH0gLy8gZGVzdHJveShzY2VuYXJpb0lkKSB7CiAgLy8gICByZXR1cm4gYXBpU2VydmljZShgL2FwaS9zY2VuYXJpb3MvJHtzY2VuYXJpb0lkfS9gLCAiREVMRVRFIik7CiAgLy8gfQoKfTs="},{"version":3,"sources":["C:/Users/User/Desktop/Feez/feez/frontend/src/common/api.service.js"],"names":["CSRF_TOKEN","handleResponse","response","status","json","then","ok","Promise","reject","apiService","endpoint","method","data","config","body","undefined","JSON","stringify","headers","fetch","ScenarioService","get","scenarioId","create","scenario","update","id","AdvertService","list","InvestmentNameService","PlatformService","platformId","state","rootState","activeScenario","activePlatform","PlatformAAService","PlatformNameService","UserService","user"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,iBAA3B;;AAEA,SAASC,cAAT,CAAwBC,QAAxB,EAAkC;AAChC,MAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,WAAO,EAAP;AACD,GAFD,MAEO;AACL,WAAOD,QAAQ,CAACE,IAAT,GAAgBC,IAAhB,CAAqB,UAAAD,IAAI,EAAI;AAClC,aAAOF,QAAQ,CAACI,EAAT,GAAcF,IAAd,GAAqBG,OAAO,CAACC,MAAR,CAAeJ,IAAf,CAA5B;AACD,KAFM,CAAP;AAGD;AACF;;AAED,SAASK,UAAT,CAAoBC,QAApB,EAA8BC,MAA9B,EAAsCC,IAAtC,EAA4C;AAC1C,MAAMC,MAAM,GAAG;AACbF,IAAAA,MAAM,EAAEA,MAAM,IAAI,KADL;AAEbG,IAAAA,IAAI,EAAEF,IAAI,KAAKG,SAAT,GAAqBC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAArB,GAA4C,IAFrC;AAGbM,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,qBAAelB;AAFR;AAHI,GAAf;AAQA,SAAOmB,KAAK,CAACT,QAAD,EAAWG,MAAX,CAAL,CACJR,IADI,CACCJ,cADD,CAAP,CAT0C,CAWxC;AACA;AACA;AACA;AACA;AACH;;AAED,SAASQ,UAAT;AAEA,OAAO,IAAMW,eAAe,GAAG;AAC7B;AACA;AACA;AACAC,EAAAA,GAJ6B,eAIzBC,UAJyB,EAIb;AACd,WAAOb,UAAU,0BAAmBa,UAAnB,QAAkC,KAAlC,CAAjB;AACD,GAN4B;AAO7BC,EAAAA,MAP6B,kBAOtBC,QAPsB,EAOZ;AACf,WAAOf,UAAU,oBAAoB,MAApB,EAA4Be,QAA5B,CAAjB;AACD,GAT4B;AAU7BC,EAAAA,MAV6B,kBAUtBD,QAVsB,EAUZ;AACf,WAAOf,UAAU,0BAAmBe,QAAQ,CAACE,EAA5B,QAAmC,OAAnC,EAA4CF,QAA5C,CAAjB;AACD,GAZ4B,CAa7B;AACA;AACA;;AAf6B,CAAxB;AAkBP,OAAO,IAAMG,aAAa,GAAG;AAC3BC,EAAAA,IAD2B,kBACpB;AACL,WAAOnB,UAAU,wBAAwB,KAAxB,CAAjB;AACD;AAH0B,CAAtB;AAMP,OAAO,IAAMoB,qBAAqB,GAAG;AACnCD,EAAAA,IADmC,kBAC5B;AACL,WAAOnB,UAAU,iCAAiC,KAAjC,CAAjB;AACD;AAHkC,CAA9B;AAMP,OAAO,IAAMqB,eAAe,GAAG;AAC7B;AACA;AACA;AACAT,EAAAA,GAJ6B,qBAIC;AAAA,QAAzBC,UAAyB,QAAzBA,UAAyB;AAAA,QAAbS,UAAa,QAAbA,UAAa;AAC5B,WAAOtB,UAAU,0BAAmBa,UAAnB,wBAA2CS,UAA3C,QAA0D,KAA1D,CAAjB;AACD,GAN4B;AAO7B;AACA;AACA;AACAN,EAAAA,MAV6B,kBAUtBO,KAVsB,EAUfC,SAVe,EAUJ;AACvB,WAAOxB,UAAU,0BAAmBwB,SAAS,CAACT,QAAV,CAAmBU,cAAnB,CAAkCR,EAArD,wBAAqEM,KAAK,CAACG,cAAN,CAAqBT,EAA1F,QAAiG,OAAjG,EAA0GM,KAAK,CAACG,cAAhH,CAAjB;AACD,GAZ4B,CAa7B;AACA;AACA;;AAf6B,CAAxB;AAiBP,OAAO,IAAMC,iBAAiB,GAAG;AAC/BR,EAAAA,IAD+B,uBACA;AAAA,QAAzBN,UAAyB,SAAzBA,UAAyB;AAAA,QAAbS,UAAa,SAAbA,UAAa;AAC7B,WAAOtB,UAAU,0BAAmBa,UAAnB,wBAA2CS,UAA3C,kBAAoE,KAApE,CAAjB;AACD;AAH8B,CAA1B;AAMP,OAAO,IAAMM,mBAAmB,GAAG;AACjCT,EAAAA,IADiC,gBAC5BlB,QAD4B,EAClB;AACb,QAAIA,QAAJ,EAAc;AACZ,aAAOD,UAAU,CAACC,QAAD,EAAW,KAAX,CAAjB;AACD,KAFD,MAEO;AACL,aAAOD,UAAU,wBAAwB,KAAxB,CAAjB;AACD;AACF;AAPgC,CAA5B;AAUP,OAAO,IAAM6B,WAAW,GAAG;AACzBjB,EAAAA,GADyB,iBACnB;AACJ,WAAOZ,UAAU,eAAe,KAAf,CAAjB;AACD,GAHwB;AAIzB;AACA;AACA;AACAgB,EAAAA,MAPyB,kBAOlBc,IAPkB,EAOZ;AACX,WAAO9B,UAAU,qBAAc8B,IAAI,CAACb,EAAnB,QAA0B,OAA1B,EAAmCa,IAAnC,CAAjB;AACD,GATwB,CAUzB;AACA;AACA;;AAZyB,CAApB","sourcesContent":["import { CSRF_TOKEN } from \"./csrf_token.js\";\r\n\r\nfunction handleResponse(response) {\r\n  if (response.status === 204) {\r\n    return \"\";\r\n  } else {\r\n    return response.json().then(json => {\r\n      return response.ok ? json : Promise.reject(json);\r\n    })\r\n  }\r\n}\r\n\r\nfunction apiService(endpoint, method, data) {\r\n  const config = {\r\n    method: method || \"GET\",\r\n    body: data !== undefined ? JSON.stringify(data) : null,\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n      \"X-CSRFTOKEN\": CSRF_TOKEN\r\n    }\r\n  };\r\n  return fetch(endpoint, config)\r\n    .then(handleResponse)\r\n    // .catch(function(error) {\r\n    //   console.log(\"O\")\r\n    //   console.log(error)\r\n    //   return error\r\n    //  });\r\n}\r\n\r\nexport { apiService };\r\n\r\nexport const ScenarioService = {\r\n  // list() {\r\n  //   return apiService(`/api/scenarios/`, \"GET\");\r\n  // },\r\n  get(scenarioId) {\r\n    return apiService(`/api/scenarios/${scenarioId}/`, \"GET\");\r\n  },\r\n  create(scenario) {\r\n    return apiService(`/api/scenarios/`, \"POST\", scenario);\r\n  },\r\n  update(scenario) {\r\n    return apiService(`/api/scenarios/${scenario.id}/`, \"PATCH\", scenario);\r\n  },\r\n  // destroy(scenarioId) {\r\n  //   return apiService(`/api/scenarios/${scenarioId}/`, \"DELETE\");\r\n  // }\r\n};\r\n\r\nexport const AdvertService = {\r\n  list() {\r\n    return apiService(`/api/currentadvert/`, \"GET\");\r\n  },\r\n};\r\n\r\nexport const InvestmentNameService = {\r\n  list() {\r\n    return apiService(`/api/unlinkedinvestmentname/`, \"GET\");\r\n  },\r\n};\r\n\r\nexport const PlatformService = {\r\n  // list() {\r\n  //   return apiService(`/api/scenarios/`, \"GET\");\r\n  // },\r\n  get({scenarioId, platformId}) {\r\n    return apiService(`/api/scenarios/${scenarioId}/platforms/${platformId}/`, \"GET\");\r\n  },\r\n  // create(scenario) {\r\n  //   return apiService(`/api/scenarios/`, \"POST\", scenario);\r\n  // },\r\n  update(state, rootState) {\r\n    return apiService(`/api/scenarios/${rootState.scenario.activeScenario.id}/platforms/${state.activePlatform.id}/`, \"PATCH\", state.activePlatform);\r\n  },\r\n  // destroy(scenarioId) {\r\n  //   return apiService(`/api/scenarios/${scenarioId}/`, \"DELETE\");\r\n  // }\r\n};\r\nexport const PlatformAAService = {\r\n  list({scenarioId, platformId}) {\r\n    return apiService(`/api/scenarios/${scenarioId}/platforms/${platformId}/aasummary/`, \"GET\");\r\n  },\r\n};\r\n\r\nexport const PlatformNameService = {\r\n  list(endpoint) {\r\n    if (endpoint) {\r\n      return apiService(endpoint, \"GET\");\r\n    } else {\r\n      return apiService(`/api/platformnames/`, \"GET\");\r\n    }\r\n  },\r\n};\r\n\r\nexport const UserService = {\r\n  get() {\r\n    return apiService(`/api/user/`, \"GET\");\r\n  },\r\n  // create(scenario) {\r\n  //   return apiService(`/api/scenarios/`, \"POST\", scenario);\r\n  // },\r\n  update(user) {\r\n    return apiService(`/api/user/${user.id}/`, \"PATCH\", user);\r\n  },\r\n  // destroy(scenarioId) {\r\n  //   return apiService(`/api/scenarios/${scenarioId}/`, \"DELETE\");\r\n  // }\r\n};\r\n"]}]}