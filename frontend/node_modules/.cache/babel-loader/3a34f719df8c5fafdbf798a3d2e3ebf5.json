{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue","mtime":1590489458428},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXBpU2VydmljZSB9IGZyb20gIkAvY29tbW9uL2FwaS5zZXJ2aWNlIjsKaW1wb3J0IFNjZW5hcmlvU3VtbWFyeSBmcm9tICJAL2NvbXBvbmVudHMvU2NlbmFyaW9TdW1tYXJ5LnZ1ZSI7CmltcG9ydCBBZGRTY2VuYXJpbyBmcm9tICJAL2NvbXBvbmVudHMvQWRkU2NlbmFyaW8udnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJob21lIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2NlbmFyaW9zOiBbXSwKICAgICAgbmV4dDogbnVsbCwKICAgICAgbG9hZGluZ1NjZW5hcmlvczogZmFsc2UsCiAgICAgIHJlcXVlc3RVc2VyOiBudWxsLAogICAgICBvYmplY3RUb0RlbGV0ZTogbnVsbCwKICAgICAgdXNlckRldGFpbDogbnVsbCwKICAgICAgcmlza1Byb2ZpbGVzOiBbXSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgdGltZUxpbWl0OiAwLAogICAgICB0aW1lTWF4OiA1MDAwLAogICAgICBpbnRlcnZhbDogMCwKICAgICAgY2xvc2VEaXNhYmxlZDogdHJ1ZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFkZFNjZW5hcmlvOiBBZGRTY2VuYXJpbywKICAgIFNjZW5hcmlvU3VtbWFyeTogU2NlbmFyaW9TdW1tYXJ5CiAgfSwKICAvLyBjb21wdXRlZDogewogIC8vICAgdGltZUxlZnQoKSB7CiAgLy8gICAgIHJldHVybiB0aGlzLnRpbWVMaW1pdCAtIHRoaXMudGltZVBhc3NlZAogIC8vICAgfQogIC8vIH0sCiAgbWV0aG9kczogewogICAgZW1pdFNjZW5hcmlvOiBmdW5jdGlvbiBlbWl0U2NlbmFyaW8oc2NlbmFyaW8pIHsKICAgICAgdGhpcy4kZW1pdCgnc2NlbmFyaW8tYWN0aXZhdGVkJywgc2NlbmFyaW8pOwogICAgfSwKICAgIHNldFJlcXVlc3RVc2VyOiBmdW5jdGlvbiBzZXRSZXF1ZXN0VXNlcigpIHsKICAgICAgdGhpcy5yZXF1ZXN0VXNlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW1haWwiKTsKICAgIH0sCiAgICBnZXRTY2VuYXJpb3M6IGZ1bmN0aW9uIGdldFNjZW5hcmlvcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3NjZW5hcmlvcy8iOwoKICAgICAgaWYgKHRoaXMubmV4dCkgewogICAgICAgIGVuZHBvaW50ID0gdGhpcy5uZXh0OwogICAgICB9CgogICAgICB0aGlzLmxvYWRpbmdTY2VuYXJpb3MgPSB0cnVlOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMuc2NlbmFyaW9zID0gZGF0YS5yZXN1bHRzOwogICAgICAgIF90aGlzLmxvYWRpbmdTY2VuYXJpb3MgPSBmYWxzZTsKCiAgICAgICAgaWYgKGRhdGEubmV4dCkgewogICAgICAgICAgX3RoaXMubmV4dCA9IGRhdGEubmV4dDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMubmV4dCA9IG51bGw7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRVc2VyRGF0YTogZnVuY3Rpb24gZ2V0VXNlckRhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gIi9hcGkvdXNlci8iOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLnVzZXJEZXRhaWwgPSBkYXRhLnJlc3VsdHNbMF07CgogICAgICAgIF90aGlzMi5nZXRSaXNrUHJvZmlsZXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Umlza1Byb2ZpbGVzOiBmdW5jdGlvbiBnZXRSaXNrUHJvZmlsZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudXNlckRldGFpbC5hY3RpdmVfcnApIHsKICAgICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9yaXNrcHJvZmlsZWdyb3Vwcy8iLmNvbmNhdCh0aGlzLnVzZXJEZXRhaWwuYWN0aXZlX3JwLCAiL3Jpc2twcm9maWxlcy8iKTsKICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBfdGhpczMucmlza1Byb2ZpbGVzID0gZGF0YS5yZXN1bHRzOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYWRkU2NlbmFyaW86IGZ1bmN0aW9uIGFkZFNjZW5hcmlvKG5ld1NjZW5hcmlvKSB7CiAgICAgIHRoaXMuc2NlbmFyaW9zLnVuc2hpZnQobmV3U2NlbmFyaW8pOwogICAgfSwKICAgIHN0YXJ0VGltZXI6IGZ1bmN0aW9uIHN0YXJ0VGltZXIoKSB7CiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMudGltZUxpbWl0IDwgMTAwKSB7CiAgICAgICAgICB0aGlzLnRpbWVMaW1pdCArPSAwLjU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9LmJpbmQodGhpcyksIDI1KTsKICAgIH0sCiAgICBsb2FkTW9kYWw6IGZ1bmN0aW9uIGxvYWRNb2RhbCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgbmV4dFBvcHVwID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25leHRNb2RhbEFkJyk7CgogICAgICBpZiAobmV4dFBvcHVwID4gbmV3IERhdGUoKSkgewogICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIFN0b3JlIHRoZSBleHBpcmF0aW9uIGRhdGUgb2YgdGhlIGN1cnJlbnQgcG9wdXAgaW4gbG9jYWxTdG9yYWdlLgogICAgICAgICAgdmFyIGV4cGlyZXMgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgZXhwaXJlcyA9IGV4cGlyZXMuc2V0SG91cnMoZXhwaXJlcy5nZXRIb3VycygpICsgMjQpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25leHRNb2RhbEFkJywgZXhwaXJlcyk7CiAgICAgICAgICBfdGhpczQuY2xvc2VEaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIH0sIHRoaXMudGltZU1heCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldFJlcXVlc3RVc2VyKCk7CiAgICB0aGlzLmdldFNjZW5hcmlvcygpOwogICAgdGhpcy5nZXRVc2VyRGF0YSgpOwogICAgdGhpcy5zdGFydFRpbWVyKCk7CiAgICB0aGlzLmxvYWRNb2RhbCgpOwogICAgZG9jdW1lbnQudGl0bGUgPSAiRmVleiI7CiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container class=\"pa-0\">\n    <AddScenario\n      v-if=\"userDetail != null\"\n      :user=\"userDetail\"\n      :riskProfiles=\"riskProfiles\"\n      @add-scenario=\"addScenario\" />\n    <v-spacer><br>\n    </v-spacer>\n    <ScenarioSummary\n      v-if=\"userDetail != null\"\n      :user=\"userDetail\"\n      :scenarios=\"scenarios\"\n      :riskProfiles=\"riskProfiles\"\n      @scenario-activated=\"emitScenario($event)\" />\n    <v-dialog\n      persistent\n      max-width=\"700px\"\n      v-model=\"dialog\">\n      <v-card>\n        <v-card-title>\n        ADVERTISEMENT\n        </v-card-title>\n      </v-card>\n      <v-btn @click=\"dialog=false\" href=\"https://www.google.com\" target=\"_blank\">\n        Tell me more\n      </v-btn>\n      <v-btn @click=\"dialog=false\" :disabled=\"closeDisabled\">\n        Close\n      </v-btn>\n      <v-progress-linear\n        class=\"modal-progress\"\n        :buffer-value=\"100\"\n        :value=\"timeLimit\">\n      </v-progress-linear>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport { apiService } from \"@/common/api.service\";\nimport ScenarioSummary from \"@/components/ScenarioSummary.vue\";\nimport AddScenario from \"@/components/AddScenario.vue\";\n\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      scenarios: [],\n      next: null,\n      loadingScenarios: false,\n      requestUser: null,\n      objectToDelete: null,\n      userDetail: null,\n      riskProfiles: [],\n      dialog: false,\n      timeLimit: 0,\n      timeMax: 5000,\n      interval: 0,\n      closeDisabled: true,\n    };\n  },\n  components: {\n    AddScenario,\n    ScenarioSummary\n  },\n  // computed: {\n  //   timeLeft() {\n  //     return this.timeLimit - this.timePassed\n  //   }\n  // },\n  methods: {\n    emitScenario(scenario) {\n      this.$emit('scenario-activated', scenario);\n    },\n    setRequestUser() {\n      this.requestUser = window.localStorage.getItem(\"email\");\n    },\n    getScenarios() {\n      let endpoint = \"/api/scenarios/\";\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loadingScenarios = true;\n      apiService(endpoint).then(data => {\n        this.scenarios = data.results;\n        this.loadingScenarios = false;\n        if (data.next) {\n          this.next = data.next;\n        } else {\n          this.next = null;\n        }\n      });\n    },\n    getUserData() {\n      let endpoint = `/api/user/`;\n      apiService(endpoint).then(data => {\n        this.userDetail = data.results[0];\n        this.getRiskProfiles();\n      });\n    },\n    getRiskProfiles() {\n      if (this.userDetail.active_rp) {\n        let endpoint = `/api/riskprofilegroups/${this.userDetail.active_rp}/riskprofiles/`;\n        apiService(endpoint).then(data => {\n          this.riskProfiles = data.results;\n        });\n      }\n    },\n    addScenario(newScenario) {\n      this.scenarios.unshift(newScenario);\n    },\n    startTimer() {\n      this.interval = setInterval(function() {\n\n        if (this.timeLimit < 100) {\n          this.timeLimit += 0.5;\n        } else {\n          clearInterval(this.interval)\n          return;\n        }\n      }.bind(this), 25);\n    },\n    loadModal() {\n      var nextPopup = localStorage.getItem( 'nextModalAd' );\n\n      if (nextPopup > new Date()) {\n        this.dialog = false;\n      } else {\n        this.dialog = true;\n        window.setTimeout(() => {\n          // Store the expiration date of the current popup in localStorage.\n\t\t      var expires = new Date();\n\t\t      expires = expires.setHours(expires.getHours() + 24);\n\t\t      localStorage.setItem( 'nextModalAd', expires );\n\n          this.closeDisabled = false;\n\n        }, this.timeMax);\n      }\n    }\n  },\n  mounted() {\n    this.setRequestUser();\n    this.getScenarios();\n    this.getUserData();\n    this.startTimer();\n    this.loadModal();\n    document.title = \"Feez\";\n  }\n};\n</script>\n<style media=\"screen\">\n  .modal-progress {\n   transition: none !important\n  }\n</style>\n"],"sourceRoot":"src/views"}]}