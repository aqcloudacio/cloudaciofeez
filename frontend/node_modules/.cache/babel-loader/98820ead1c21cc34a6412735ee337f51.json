{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Platform.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Platform.vue","mtime":1582077096377},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmltcG9ydCBQbGF0Zm9ybUZlZVN1bW1hcnkgZnJvbSAiQC9jb21wb25lbnRzL1BsYXRmb3JtRmVlU3VtbWFyeS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBsYXRmb3JtIiwKICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgcGxhdGZvcm1JZDogdGhpcy5pZCwKICAgICAgc2NlbmFyaW9JZDogdGhpcy5zY2VuYXJpb0lkCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHNjZW5hcmlvSWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGlkOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwbGF0Zm9ybToge30sCiAgICAgIHBsYXRmb3JtRmVlczogW10sCiAgICAgIGVycm9yOiBudWxsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgUGxhdGZvcm1GZWVTdW1tYXJ5OiBQbGF0Zm9ybUZlZVN1bW1hcnkgLy8gSW52ZXN0bWVudFN1bW1hcnksCgogIH0sCiAgbWV0aG9kczogewogICAgc2V0UGFnZVRpdGxlOiBmdW5jdGlvbiBzZXRQYWdlVGl0bGUodGl0bGUpIHsKICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZTsKICAgIH0sCiAgICBnZXRQbGF0Zm9ybURhdGE6IGZ1bmN0aW9uIGdldFBsYXRmb3JtRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3NjZW5hcmlvcy8iLmNvbmNhdCh0aGlzLnNjZW5hcmlvSWQsICIvcGxhdGZvcm1zLyIpLmNvbmNhdCh0aGlzLmlkLCAiLyIpOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMucGxhdGZvcm0gPSBkYXRhOwoKICAgICAgICBfdGhpcy5zZXRQYWdlVGl0bGUoZGF0YS5uYW1lLm5hbWUpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQbGF0Zm9ybUZlZURhdGE6IGZ1bmN0aW9uIGdldFBsYXRmb3JtRmVlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9zY2VuYXJpb3MvIi5jb25jYXQodGhpcy5zY2VuYXJpb0lkLCAiL3BsYXRmb3Jtcy8iKS5jb25jYXQodGhpcy5pZCwgIi9wbGF0Zm9ybWZlZXMvIik7CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpczIucGxhdGZvcm1GZWVzID0gZGF0YS5yZXN1bHRzOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFBsYXRmb3JtRGF0YSgpOwogICAgdGhpcy5nZXRQbGF0Zm9ybUZlZURhdGEoKTsKICB9Cn07"},{"version":3,"sources":["Platform.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAmBA,SAAA,UAAA,QAAA,yBAAA;AACA,OAAA,kBAAA,MAAA,qCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,OAFA,qBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KAAA,EADA;AAEA,MAAA,UAAA,EAAA,KAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GARA;AAkBA,EAAA,IAlBA,kBAkBA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAxBA;AAyBA,EAAA,UAAA,EAAA;AACA,IAAA,kBAAA,EAAA,kBADA,CAEA;;AAFA,GAzBA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA;AACA,MAAA,QAAA,CAAA,KAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,eAJA,6BAIA;AAAA;;AACA,UAAA,QAAA,4BAAA,KAAA,UAAA,wBAAA,KAAA,EAAA,MAAA;AACA,MAAA,UAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,IAAA;;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAHA;AAIA,KAVA;AAWA,IAAA,kBAXA,gCAWA;AAAA;;AACA,UAAA,QAAA,4BAAA,KAAA,UAAA,wBAAA,KAAA,EAAA,mBAAA;AACA,MAAA,UAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,IAAA,CAAA,OAAA;AACA,OAFA;AAGA;AAhBA,GA7BA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,SAAA,eAAA;AACA,SAAA,kBAAA;AACA;AAlDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"single-platform mt-2\">\r\n    <div v-if=\"platform.name\" class=\"container\">\r\n      <h1>{{ platform.name.name }}</h1>\r\n      <h4>{{ platform.status }}</h4>\r\n      <h4>{{ platform.platform_type }}</h4>\r\n      <h4>PDS Date: {{ platform.PDS_date }}</h4>\r\n      <h4>Total value: {{ platform.platform_total | toCurrency }}</h4>\r\n      <hr />\r\n      <PlatformFeeSummary\r\n        :platformFees=\"platformFees\"\r\n        @add-investment=\"getPlatformData\"\r\n      />\r\n      <p v-if=\"error\">{{ error }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport PlatformFeeSummary from \"@/components/PlatformFeeSummary.vue\";\r\n\r\nexport default {\r\n  name: \"Platform\",\r\n  provide() {\r\n    return {\r\n      platformId: this.id,\r\n      scenarioId: this.scenarioId\r\n    };\r\n  },\r\n  props: {\r\n    scenarioId: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      platform: {},\r\n      platformFees: [],\r\n      error: null\r\n    };\r\n  },\r\n  components: {\r\n    PlatformFeeSummary\r\n    // InvestmentSummary,\r\n  },\r\n  methods: {\r\n    setPageTitle(title) {\r\n      document.title = title;\r\n    },\r\n    getPlatformData() {\r\n      let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.id}/`;\r\n      apiService(endpoint).then(data => {\r\n        this.platform = data;\r\n        this.setPageTitle(data.name.name);\r\n      });\r\n    },\r\n    getPlatformFeeData() {\r\n      let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.id}/platformfees/`;\r\n      apiService(endpoint).then(data => {\r\n        this.platformFees = data.results;\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getPlatformData();\r\n    this.getPlatformFeeData();\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views"}]}