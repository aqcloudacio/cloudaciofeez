{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\templatemgmt\\AssetAllocationDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\templatemgmt\\AssetAllocationDetail.vue","mtime":1597213670069},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOlxcVXNlcnNcXFVzZXJcXERlc2t0b3BcXEZlZXpcXGZlZXpcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXNzZXRBbGxvY2F0aW9uTmFtZURldGFpbCIsCiAgcHJvcHM6IHsKICAgIGludmVzdG1lbnROYW1lOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhYU5hbWVzOiBbXSwKICAgICAgYWE6IG51bGwsCiAgICAgIG5leHQ6IG51bGwsCiAgICAgIHRvdGFsOiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGludmVzdG1lbnROYW1lOiBmdW5jdGlvbiBpbnZlc3RtZW50TmFtZSgpIHsKICAgICAgdGhpcy5nZXRBQU5hbWVzKCk7CiAgICAgIHRoaXMuZ2V0QUFMaXN0KCk7CiAgICB9LAogICAgYWE6IGZ1bmN0aW9uIGFhKCkgewogICAgICB0aGlzLmdldFRvdGFsKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUb3RhbDogZnVuY3Rpb24gZ2V0VG90YWwoKSB7CiAgICAgIGlmICh0aGlzLmFhKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IDA7CiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuYWFbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgICBpZiAoJ3BlcmNlbnRhZ2UnIGluIGl0ZW0pIHsKICAgICAgICAgICAgICByZXN1bHQgKz0gTnVtYmVyKGl0ZW1bJ3BlcmNlbnRhZ2UnXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3VsdDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRvdGFsID0gMDsKICAgICAgfQogICAgfSwKICAgIGdldEFBOiBmdW5jdGlvbiBnZXRBQShpZHgsIGZpZWxkKSB7CiAgICAgIGlmICh0aGlzLmFhKSB7CiAgICAgICAgaWYgKHRoaXMuYWEubGVuZ3RoID49IGlkeCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuYWFbaWR4IC0gMV1bZmllbGRdOwogICAgICAgIH0KICAgICAgfSAvLyBlbHNlIHsKICAgICAgLy8gICByZXR1cm4gbnVsbAogICAgICAvLyB9CgogICAgfSwKICAgIHNldEFBOiBmdW5jdGlvbiBzZXRBQShpZHgsIGV2ZW50LCBmaWVsZCkgewogICAgICBpZiAodGhpcy5hYS5sZW5ndGggPj0gaWR4KSB7CiAgICAgICAgaWYgKGZpZWxkID09PSAnbmFtZScpIHsKICAgICAgICAgIHRoaXMuYWFbaWR4IC0gMV0ubmFtZV9pZCA9IGV2ZW50LmlkOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5hYVtpZHggLSAxXVtmaWVsZF0gPSBldmVudDsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbmV3SXRlbSA9IHt9OwoKICAgICAgICBpZiAoZmllbGQgPT09ICduYW1lJykgewogICAgICAgICAgbmV3SXRlbS5uYW1lX2lkID0gZXZlbnQuaWQ7CiAgICAgICAgfQoKICAgICAgICBuZXdJdGVtW2ZpZWxkXSA9IGV2ZW50OwogICAgICAgIG5ld0l0ZW1bJ2ludmVzdG1lbnQnXSA9IHRoaXMuaW52ZXN0bWVudE5hbWUubGlua2VkX2ludjsKICAgICAgICB0aGlzLmFhLnB1c2gobmV3SXRlbSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZ2V0VG90YWwoKTsKICAgIH0sCiAgICBnZXRBQU5hbWVzOiBmdW5jdGlvbiBnZXRBQU5hbWVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gbnVsbDsKCiAgICAgIGlmICh0aGlzLm5leHQpIHsKICAgICAgICBlbmRwb2ludCA9IHRoaXMubmV4dDsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbmRwb2ludCA9ICIvYXBpL2FhbmFtZS8iOwogICAgICB9CgogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiR0VUIikudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHZhciBfdGhpcyRhYU5hbWVzOwoKICAgICAgICAoX3RoaXMkYWFOYW1lcyA9IF90aGlzLmFhTmFtZXMpLnB1c2guYXBwbHkoX3RoaXMkYWFOYW1lcywgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEucmVzdWx0cykpOwoKICAgICAgICBpZiAoZGF0YS5uZXh0KSB7CiAgICAgICAgICBfdGhpcy5uZXh0ID0gZGF0YS5uZXh0OwoKICAgICAgICAgIF90aGlzLmdldEFBTmFtZXMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMubmV4dCA9IG51bGw7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRBQUxpc3Q6IGZ1bmN0aW9uIGdldEFBTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9pbnZlc3RtZW50dGVtcGxhdGUvIi5jb25jYXQodGhpcy5pbnZlc3RtZW50TmFtZS5saW5rZWRfaW52LCAiL2FhLyIpOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiR0VUIikudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzMi5hYSA9IGRhdGEucmVzdWx0czsKICAgICAgfSk7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBlbmRwb2ludCA9IG51bGw7CiAgICAgIHZhciBtZXRob2QgPSBudWxsOwoKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkgewogICAgICAgIGlmIChfdGhpczMuYWFbaV0uaWQpIHsKICAgICAgICAgIGVuZHBvaW50ID0gIi9hcGkvaW52ZXN0bWVudHRlbXBsYXRlLyIuY29uY2F0KF90aGlzMy5pbnZlc3RtZW50TmFtZS5saW5rZWRfaW52LCAiL2FhLyIpLmNvbmNhdChfdGhpczMuYWFbaV0uaWQsICIvIik7CiAgICAgICAgICBtZXRob2QgPSAiUEFUQ0giOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbmRwb2ludCA9ICIvYXBpL2ludmVzdG1lbnR0ZW1wbGF0ZS8iLmNvbmNhdChfdGhpczMuaW52ZXN0bWVudE5hbWUubGlua2VkX2ludiwgIi9hYS8iKTsKICAgICAgICAgIG1ldGhvZCA9ICJQT1NUIjsKICAgICAgICB9CgogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsIG1ldGhvZCwgX3RoaXMzLmFhW2ldKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBfdGhpczMuYWFbaV0gPSBkYXRhOwogICAgICAgICAgY29uc29sZS5sb2coIlNhdmVkOiAiICsgX3RoaXMzLmFhW2ldLm5hbWUubmFtZSk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYWEubGVuZ3RoOyBpKyspIHsKICAgICAgICBfbG9vcChpKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QUFOYW1lcygpOwogICAgdGhpcy5nZXRBQUxpc3QoKTsKICB9Cn07"},{"version":3,"sources":["AssetAllocationDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n  <v-container >\r\n  <v-form @submit.prevent=\"onSubmit\">\r\n    <v-card class=\"pa-2\">\r\n      <v-row>\r\n        <v-col>\r\n          {{ investmentName.name }}\r\n        </v-col>\r\n        <v-col>\r\n          {{ total }}\r\n        </v-col>\r\n      </v-row>\r\n      <v-row v-for=\"n in 12\" :key=\"n\" dense>\r\n        <v-col>\r\n          <v-autocomplete\r\n            dense solo hide-details\r\n            :value = \"getAA(n, 'name')\"\r\n            @change = \"setAA(n, $event, 'name')\"\r\n            :items=\"aaNames\"\r\n            return-object\r\n            item-text=\"name\"\r\n          />\r\n        </v-col>\r\n        <v-col>\r\n          <v-text-field\r\n          number\r\n            dense solo hide-details\r\n            :value = \"getAA(n, 'percentage')\"\r\n            @change = \"setAA(n, $event, 'percentage')\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col>\r\n          <v-btn type=\"submit\" color=\"primary\">\r\n            Save\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card>\r\n  </v-form>\r\n</v-container>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\n\r\nexport default {\r\n  name: \"AssetAllocationNameDetail\",\r\n  props: {\r\n    investmentName: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      aaNames: [],\r\n      aa: null,\r\n      next: null,\r\n      total: 0,\r\n    };\r\n  },\r\n  watch: {\r\n    investmentName() {\r\n      this.getAANames();\r\n      this.getAAList()\r\n    },\r\n    aa(){\r\n      this.getTotal()\r\n    },\r\n  },\r\n  methods: {\r\n    getTotal() {\r\n      if (this.aa) {\r\n        let result = 0;\r\n        for (let item of this.aa){\r\n          if ('percentage' in item) {\r\n            result += Number(item['percentage']);\r\n          }\r\n        }\r\n        this.total = result;\r\n      } else {\r\n        this.total = 0;\r\n      }\r\n    },\r\n    getAA(idx, field){\r\n      if (this.aa) {\r\n        if (this.aa.length >= idx) {\r\n          return this.aa[idx-1][field]\r\n        }\r\n      }\r\n      // else {\r\n      //   return null\r\n      // }\r\n    },\r\n    setAA(idx, event, field) {\r\n      if (this.aa.length >= idx) {\r\n        if (field === 'name'){\r\n          this.aa[idx-1].name_id = event.id\r\n        }\r\n        this.aa[idx-1][field] = event;\r\n      } else {\r\n        let newItem = {}\r\n        if (field === 'name'){\r\n          newItem.name_id = event.id\r\n        }\r\n        newItem[field] = event;\r\n        newItem['investment'] = this.investmentName.linked_inv;\r\n        this.aa.push(newItem);\r\n      }\r\n      this.getTotal();\r\n    },\r\n    getAANames() {\r\n      let endpoint = null\r\n      if (this.next) {\r\n        endpoint = this.next;\r\n      } else {\r\n        endpoint = `/api/aaname/`;\r\n      }\r\n      apiService(endpoint, \"GET\").then(data => {\r\n        this.aaNames.push(...data.results);\r\n        if (data.next) {\r\n          this.next = data.next;\r\n          this.getAANames();\r\n        } else {\r\n          this.next = null;\r\n        }\r\n      });\r\n    },\r\n    getAAList() {\r\n      let endpoint = `/api/investmenttemplate/${this.investmentName.linked_inv}/aa/`;\r\n      apiService(endpoint, \"GET\").then(data => {\r\n        this.aa = data.results;\r\n      });\r\n    },\r\n    onSubmit() {\r\n      let endpoint = null\r\n      let method = null\r\n      for (let i=0; i<this.aa.length; i++) {\r\n        if (this.aa[i].id) {\r\n          endpoint = `/api/investmenttemplate/${this.investmentName.linked_inv}/aa/${this.aa[i].id}/`;\r\n          method = \"PATCH\";\r\n        } else {\r\n          endpoint = `/api/investmenttemplate/${this.investmentName.linked_inv}/aa/`;\r\n          method = \"POST\";\r\n        }\r\n        apiService(endpoint, method, this.aa[i]).then(data => {\r\n          this.aa[i] = data;\r\n          console.log(\"Saved: \"+this.aa[i].name.name)\r\n        });\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getAANames();\r\n    this.getAAList()\r\n  }\r\n};\r\n\r\n</script>\r\n"],"sourceRoot":"src/components/templatemgmt"}]}