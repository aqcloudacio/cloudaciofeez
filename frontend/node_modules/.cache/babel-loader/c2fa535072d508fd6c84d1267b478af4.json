{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\templatemgmt\\InvestmentFeeDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\templatemgmt\\InvestmentFeeDetail.vue","mtime":1598334472091},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkM6XFxVc2Vyc1xcVXNlclxcRGVza3RvcFxcRmVlelxcZmVlelxcZnJvbnRlbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYXBpU2VydmljZSB9IGZyb20gIkAvY29tbW9uL2FwaS5zZXJ2aWNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJJbnZlc3RtZW50RmVlRGV0YWlsIiwKICBwcm9wczogewogICAgcGxhdGZvcm06IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGludmVzdG1lbnRzOiBbXSwKICAgICAgbmV4dDogbnVsbCwKICAgICAgdG90YWw6IDAKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgcGxhdGZvcm06IGZ1bmN0aW9uIHBsYXRmb3JtKCkgewogICAgICB0aGlzLmludmVzdG1lbnRzID0gW107CiAgICAgIHRoaXMuZ2V0SW52ZXN0bWVudHMoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldGZlZTogZnVuY3Rpb24gZ2V0ZmVlKGludikgewogICAgICByZXR1cm4gKyhpbnYuaW52ZXN0bWVudF9mZWUgKiAxMDApLnRvRml4ZWQoNik7CiAgICB9LAogICAgc2V0ZmVlOiBmdW5jdGlvbiBzZXRmZWUoaW52LCBldmVudCkgewogICAgICB2YXIgaWR4ID0gdGhpcy5pbnZlc3RtZW50cy5maW5kSW5kZXgoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gaS5pZCA9PT0gaW52LmlkOwogICAgICB9KTsKICAgICAgdGhpcy5pbnZlc3RtZW50c1tpZHhdLmludmVzdG1lbnRfZmVlID0gKyhldmVudCAvIDEwMCkudG9GaXhlZCg2KTsKICAgICAgdGhpcy5pbnZlc3RtZW50c1tpZHhdLl9pbnZlc3RtZW50X2ZlZSA9ICsoZXZlbnQgLyAxMDApLnRvRml4ZWQoNik7CiAgICB9LAogICAgZ2V0YnV5OiBmdW5jdGlvbiBnZXRidXkoaW52KSB7CiAgICAgIHJldHVybiArKGludi5idXlfc3ByZWFkICogMTAwKS50b0ZpeGVkKDYpOwogICAgfSwKICAgIHNldGJ1eTogZnVuY3Rpb24gc2V0YnV5KGludiwgZXZlbnQpIHsKICAgICAgdmFyIGlkeCA9IHRoaXMuaW52ZXN0bWVudHMuZmluZEluZGV4KGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuIGkuaWQgPT09IGludi5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMuaW52ZXN0bWVudHNbaWR4XS5idXlfc3ByZWFkID0gKyhldmVudCAvIDEwMCkudG9GaXhlZCg2KTsKICAgIH0sCiAgICBnZXRzZWxsOiBmdW5jdGlvbiBnZXRzZWxsKGludikgewogICAgICByZXR1cm4gKyhpbnYuc2VsbF9zcHJlYWQgKiAxMDApLnRvRml4ZWQoNik7CiAgICB9LAogICAgc2V0c2VsbDogZnVuY3Rpb24gc2V0c2VsbChpbnYsIGV2ZW50KSB7CiAgICAgIHZhciBpZHggPSB0aGlzLmludmVzdG1lbnRzLmZpbmRJbmRleChmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiBpLmlkID09PSBpbnYuaWQ7CiAgICAgIH0pOwogICAgICB0aGlzLmludmVzdG1lbnRzW2lkeF0uc2VsbF9zcHJlYWQgPSArKGV2ZW50IC8gMTAwKS50b0ZpeGVkKDYpOwogICAgfSwKICAgIGdldEludmVzdG1lbnRzOiBmdW5jdGlvbiBnZXRJbnZlc3RtZW50cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBlbmRwb2ludCA9IG51bGw7CgogICAgICBpZiAodGhpcy5uZXh0KSB7CiAgICAgICAgZW5kcG9pbnQgPSB0aGlzLm5leHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZW5kcG9pbnQgPSAiL2FwaS9wbGF0Zm9ybW5hbWVzLyIuY29uY2F0KHRoaXMucGxhdGZvcm0ubmFtZS5pZCwgIi9pbnZlc3RtZW50cy8iKTsKICAgICAgfQoKICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIkdFVCIpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICB2YXIgX3RoaXMkaW52ZXN0bWVudHM7CgogICAgICAgIChfdGhpcyRpbnZlc3RtZW50cyA9IF90aGlzLmludmVzdG1lbnRzKS5wdXNoLmFwcGx5KF90aGlzJGludmVzdG1lbnRzLCBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YS5yZXN1bHRzKSk7CgogICAgICAgIGlmIChkYXRhLm5leHQpIHsKICAgICAgICAgIF90aGlzLm5leHQgPSBkYXRhLm5leHQ7CgogICAgICAgICAgX3RoaXMuZ2V0SW52ZXN0bWVudHMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMubmV4dCA9IG51bGw7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkgewogICAgICAgIHZhciBlbmRwb2ludCA9ICIvYXBpL3BsYXRmb3JtbmFtZXMvIi5jb25jYXQoX3RoaXMyLnBsYXRmb3JtLm5hbWUuaWQsICIvaW52ZXN0bWVudHMvIikuY29uY2F0KF90aGlzMi5pbnZlc3RtZW50c1tpXS5pZCwgIi8iKTsKICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUEFUQ0giLCBfdGhpczIuaW52ZXN0bWVudHNbaV0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIF90aGlzMi5pbnZlc3RtZW50c1tpXSA9IGRhdGE7CiAgICAgICAgICBjb25zb2xlLmxvZygiU2F2ZWQ6ICIgKyBfdGhpczIuaW52ZXN0bWVudHNbaV0ubmFtZS5uYW1lKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pbnZlc3RtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIF9sb29wKGkpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRJbnZlc3RtZW50cygpOwogIH0KfTs="},{"version":3,"sources":["InvestmentFeeDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n  <v-container >\r\n  <v-form @submit.prevent=\"onSubmit\">\r\n    <v-card class=\"pa-2\">\r\n      <v-row>\r\n        <v-col>\r\n          {{ platform.name.name }}\r\n        </v-col>\r\n        <v-col>\r\n          Fee\r\n        </v-col>\r\n        <v-col>\r\n          Buy Spread\r\n        </v-col>\r\n        <v-col>\r\n          Sell Spread\r\n        </v-col>\r\n      </v-row>\r\n      <v-row v-for=\"inv in investments\" :key=\"inv.id\" dense>\r\n        <v-col>\r\n          {{inv.name.name}}\r\n        </v-col>\r\n        <v-col>\r\n          <v-text-field\r\n            number\r\n            dense solo hide-details\r\n            :value = \"getfee(inv)\"\r\n            @change = \"setfee(inv, $event)\"\r\n          />\r\n        </v-col>\r\n        <v-col>\r\n          <v-text-field\r\n            number\r\n            dense solo hide-details\r\n            :value = \"getbuy(inv)\"\r\n            @change = \"setbuy(inv, $event)\"\r\n          />\r\n        </v-col>\r\n        <v-col>\r\n          <v-text-field\r\n            number\r\n            dense solo hide-details\r\n            :value = \"getsell(inv)\"\r\n            @change = \"setsell(inv, $event)\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col>\r\n          <v-btn type=\"submit\" color=\"primary\">\r\n            Save\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card>\r\n  </v-form>\r\n</v-container>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\n\r\nexport default {\r\n  name: \"InvestmentFeeDetail\",\r\n  props: {\r\n    platform: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      investments: [],\r\n      next: null,\r\n      total: 0,\r\n    };\r\n  },\r\n  watch: {\r\n    platform() {\r\n      this.investments = []\r\n      this.getInvestments();\r\n    },\r\n  },\r\n  methods: {\r\n    getfee(inv){\r\n      return +(inv.investment_fee*100).toFixed(6)\r\n    },\r\n    setfee(inv, event) {\r\n      let idx = this.investments.findIndex(i => i.id === inv.id);\r\n      this.investments[idx].investment_fee = +(event/100).toFixed(6);\r\n      this.investments[idx]._investment_fee = +(event/100).toFixed(6);\r\n    },\r\n    getbuy(inv){\r\n      return +(inv.buy_spread*100).toFixed(6)\r\n    },\r\n    setbuy(inv, event) {\r\n      let idx = this.investments.findIndex(i => i.id === inv.id);\r\n      this.investments[idx].buy_spread = +(event/100).toFixed(6);\r\n    },\r\n    getsell(inv){\r\n      return +(inv.sell_spread*100).toFixed(6)\r\n    },\r\n    setsell(inv, event) {\r\n      let idx = this.investments.findIndex(i => i.id === inv.id);\r\n      this.investments[idx].sell_spread = +(event/100).toFixed(6);\r\n    },\r\n    getInvestments() {\r\n      let endpoint = null\r\n      if (this.next) {\r\n        endpoint = this.next;\r\n      } else {\r\n        endpoint = `/api/platformnames/${this.platform.name.id}/investments/`;\r\n      }\r\n      apiService(endpoint, \"GET\").then(data => {\r\n        this.investments.push(...data.results);\r\n        if (data.next) {\r\n          this.next = data.next;\r\n          this.getInvestments();\r\n        } else {\r\n          this.next = null;\r\n        }\r\n      });\r\n    },\r\n    onSubmit() {\r\n      for (let i=0; i<this.investments.length; i++) {\r\n        let endpoint = `/api/platformnames/${this.platform.name.id}/investments/${this.investments[i].id}/`;\r\n        apiService(endpoint, \"PATCH\", this.investments[i]).then(data => {\r\n          this.investments[i] = data;\r\n          console.log(\"Saved: \"+this.investments[i].name.name)\r\n        });\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getInvestments();\r\n  }\r\n};\r\n\r\n</script>\r\n"],"sourceRoot":"src/components/templatemgmt"}]}