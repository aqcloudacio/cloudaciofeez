{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\AddPlatform.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\AddPlatform.vue","mtime":1609910129892},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxVc2VyXFxEZXNrdG9wXFxGZWV6XFxmZWV6XFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZS5qcyI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZGRQbGF0Zm9ybSIsCiAgcHJvcHM6IHsKICAgIHN0YXR1czogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKICAgIGN1cnJlbnRUeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoOiBudWxsLAogICAgICBuZXh0OiBudWxsLAogICAgICBuZXdQbGF0Zm9ybTogbnVsbCwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIGlzU2F2aW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsiYWN0aXZlU2NlbmFyaW8iLCAicGxhdGZvcm1OYW1lcyIsICJhZHZlcnRzIl0pLCB7CiAgICBpc0Rpc2FibGVkOiBmdW5jdGlvbiBpc0Rpc2FibGVkKCkgewogICAgICByZXR1cm4gdGhpcy5uZXdQbGF0Zm9ybSA9PT0gbnVsbCAmJiB0aGlzLnNlYXJjaCA9PT0gbnVsbDsKICAgIH0sCiAgICBzcG9uc29yZWRJdGVtOiBmdW5jdGlvbiBzcG9uc29yZWRJdGVtKCkgewogICAgICB2YXIgaXRlbSA9IFtdOwoKICAgICAgaWYgKHRoaXMuY3VycmVudFR5cGUgPT0gIkludmVzdG1lbnQiKSB7CiAgICAgICAgaXRlbSA9IHRoaXMuYWR2ZXJ0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVfbmFtZSA9PT0gInN0YXJyZWRfaW52d3JhcCI7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50VHlwZSA9PSAiUGVuc2lvbiIpIHsKICAgICAgICBpdGVtID0gdGhpcy5hZHZlcnRzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHgudHlwZV9uYW1lID09PSAic3RhcnJlZF9wZW5zaW9uIjsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRUeXBlID09ICJBY2N1bXVsYXRpb24iKSB7CiAgICAgICAgaXRlbSA9IHRoaXMuYWR2ZXJ0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LnR5cGVfbmFtZSA9PT0gInN0YXJyZWRfc3VwZXIiOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gaXRlbVswXTsKICAgIH0sCiAgICBzdGF0dXNUb1Nob3c6IGZ1bmN0aW9uIHN0YXR1c1RvU2hvdygpIHsKICAgICAgaWYgKHRoaXMuc3BvbnNvcmVkSXRlbSAmJiB0aGlzLnNwb25zb3JlZEl0ZW0uc2hvd19pbl9hbHRlcm5hdGl2ZSkgewogICAgICAgIHJldHVybiBbIlJlY29tbWVuZGVkIiwgIkFsdGVybmF0aXZlIl07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFsiUmVjb21tZW5kZWQiXTsKICAgICAgfQogICAgfSwKICAgIHBsYXRmb3JtU3RyaW5nczogZnVuY3Rpb24gcGxhdGZvcm1TdHJpbmdzKCkgewogICAgICBpZiAoIXRoaXMuXy5pc0VtcHR5KHRoaXMucGxhdGZvcm1OYW1lcykpIHsKICAgICAgICByZXR1cm4gdGhpcy5wbGF0Zm9ybU5hbWVzLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHgubmFtZTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RTcG9uc29yZWQ6IGZ1bmN0aW9uIHNlbGVjdFNwb25zb3JlZCgpIHsKICAgICAgdGhpcy5zZWFyY2ggPSB0aGlzLnNwb25zb3JlZEl0ZW0ucGxhdGZvcm1fbmFtZTsKICAgICAgdGhpcy5uZXdQbGF0Zm9ybSA9IHRoaXMuc3BvbnNvcmVkSXRlbS5wbGF0Zm9ybV9uYW1lOwogICAgICB0aGlzLiRyZWZzLmNvbWJvYm94LmlzTWVudUFjdGl2ZSA9IGZhbHNlOwogICAgfSwKICAgIGdldFBsYXRmb3JtSUQ6IGZ1bmN0aW9uIGdldFBsYXRmb3JtSUQocGxhdGZvcm0pIHsKICAgICAgaWYgKHBsYXRmb3JtLmlkICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gcGxhdGZvcm0uaWQ7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF0Zm9ybVN0cmluZ3MuaW5jbHVkZXMocGxhdGZvcm0pKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucGxhdGZvcm1OYW1lcy5maWx0ZXIoZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgcmV0dXJuIG9iai5uYW1lID09PSBwbGF0Zm9ybTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcmVzdWx0WzBdLmlkOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgZGVsYXlTdWJtaXQ6IGZ1bmN0aW9uIGRlbGF5U3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gUmVzb2x2ZXMgYSBjb21ib2JveCBidWcgd2hlcmUgaXQgZG9lcyBub3QgdXBkYXRlIHByb3BzIHVudGlsIGJsdXIvdGljawogICAgICB0aGlzLmlzU2F2aW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5jb21ib2JveC5ibHVyKCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMubmV3UGxhdGZvcm0gIT0gbnVsbCkgewogICAgICAgICAgX3RoaXMub25TdWJtaXQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuaXNTYXZpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZW5kcG9pbnQgPSAiL2FwaS9zY2VuYXJpb3MvIi5jb25jYXQodGhpcy5hY3RpdmVTY2VuYXJpby5pZCwgIi9wbGF0Zm9ybXMvIik7CgogICAgICBpZiAodGhpcy5wbGF0Zm9ybU5hbWVzLmluY2x1ZGVzKHRoaXMubmV3UGxhdGZvcm0pIHx8IHRoaXMucGxhdGZvcm1TdHJpbmdzLmluY2x1ZGVzKHRoaXMubmV3UGxhdGZvcm0pIHx8IHRoaXMucGxhdGZvcm1TdHJpbmdzLmluY2x1ZGVzKHRoaXMubmV3UGxhdGZvcm0ubmFtZSkpIHsKICAgICAgICB2YXIgbmFtZV9pZCA9IHRoaXMuZ2V0UGxhdGZvcm1JRCh0aGlzLm5ld1BsYXRmb3JtKTsKICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUE9TVCIsIHsKICAgICAgICAgIG5hbWVfaWQ6IG5hbWVfaWQsCiAgICAgICAgICBzY2VuYXJpbzogdGhpcy5hY3RpdmVTY2VuYXJpby5pZCwKICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBfdGhpczIuJGVtaXQoImFkZC1wbGF0Zm9ybSIsIGRhdGEpOwoKICAgICAgICAgIF90aGlzMi5uZXdQbGF0Zm9ybSA9IG51bGw7CiAgICAgICAgICBfdGhpczIuaXNTYXZpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHsKICAgICAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUE9TVCIsIHsKICAgICAgICAgIG5hbWVfaWQ6IG51bGwsCiAgICAgICAgICBjdXN0b21fbmFtZTogdGhpcy5uZXdQbGF0Zm9ybSwKICAgICAgICAgIHNjZW5hcmlvOiB0aGlzLmFjdGl2ZVNjZW5hcmlvLmlkLAogICAgICAgICAgZWRpdGVkOiB0cnVlLAogICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIF90aGlzMi4kZW1pdCgiYWRkLXBsYXRmb3JtIiwgZGF0YSk7CgogICAgICAgICAgX3RoaXMyLm5ld1BsYXRmb3JtID0gbnVsbDsKICAgICAgICAgIF90aGlzMi5pc1NhdmluZyA9IGZhbHNlOwogICAgICAgIH0pOwoKICAgICAgICBpZiAodGhpcy5lcnJvcikgewogICAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["AddPlatform.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n  <v-form >\r\n    <v-combobox\r\n      outlined\r\n      dense\r\n      class=\"rounded-card small-text\"\r\n      v-model=\"newPlatform\"\r\n      :items=\"platformNames\"\r\n      @keyup.enter=\"delaySubmit\"\r\n      placeholder=\"Add a new platform\"\r\n      item-text=\"name\"\r\n      no-data-text=\"Create a custom platform\"\r\n      ref=\"combobox\"\r\n      :search-input.sync=\"search\"\r\n      allow-overflow\r\n      hide-details=\"auto\"\r\n      >\r\n\r\n      <template v-slot:prepend-item v-if=\"statusToShow.includes(status) && sponsoredItem\">\r\n        <v-list-item @click=\"selectSponsored\">\r\n          <v-tooltip left>\r\n            <template v-slot:activator=\"{ on }\">\r\n              <v-list-item-icon class=\"my-3 mr-2\"  v-on=\"on\">\r\n                <v-icon color=\"yellow\">mdi-star</v-icon>\r\n              </v-list-item-icon>\r\n            </template>\r\n            <span>Sponsored Product</span>\r\n          </v-tooltip>\r\n          <v-list-item-content>\r\n            <v-list-item-title>{{sponsoredItem.platform_name}}</v-list-item-title>\r\n          </v-list-item-content>\r\n          <v-list-item-action class=\"ml-2 my-2\">\r\n            <v-btn icon @click.stop :href=\"sponsoredItem.link\" target=\"_blank\">\r\n              <v-icon color=\"grey lighten-1\">mdi-information</v-icon>\r\n            </v-btn>\r\n          </v-list-item-action>\r\n        </v-list-item>\r\n      </template>\r\n      <template v-slot:append>\r\n        <v-slide-x-reverse-transition\r\n           mode=\"out-in\"\r\n           >\r\n          <v-icon\r\n            :key=\"`icon-${isSaving}`\"\r\n            ref=\"submit\"\r\n            @click=\"delaySubmit\"\r\n            color=\"primary\"\r\n\r\n            v-text=\"'mdi-plus-circle'\"\r\n            :disabled=\"isDisabled\"\r\n            >\r\n          </v-icon>\r\n        </v-slide-x-reverse-transition>\r\n      </template>\r\n      <template v-slot:no-data>\r\n        <v-list-item>\r\n          <v-list-item-content>\r\n            <v-list-item-title>\r\n              No platforms match \"<strong>{{ search }}</strong>\". Press <kbd>enter</kbd> to create a custom platform.\r\n            </v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </template>\r\n    </v-combobox>\r\n  </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"AddPlatform\",\r\n  props: {\r\n    status: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n    currentType: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      search: null,\r\n      next: null,\r\n      newPlatform: null,\r\n      error: null,\r\n      isSaving: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"activeScenario\", \"platformNames\", \"adverts\"]),\r\n    isDisabled() {\r\n      return this.newPlatform === null && this.search === null\r\n    },\r\n    sponsoredItem() {\r\n      let item = [];\r\n      if (this.currentType == \"Investment\") {\r\n        item =  this.adverts.filter(x => x.type_name === \"starred_invwrap\");\r\n      } else if (this.currentType == \"Pension\") {\r\n        item = this.adverts.filter(x => x.type_name === \"starred_pension\");\r\n      } else if (this.currentType == \"Accumulation\") {\r\n        item = this.adverts.filter(x => x.type_name === \"starred_super\");\r\n      }\r\n      return item[0]\r\n    },\r\n    statusToShow() {\r\n      if (this.sponsoredItem && this.sponsoredItem.show_in_alternative) {\r\n        return [\"Recommended\", \"Alternative\"];\r\n      } else {\r\n        return [\"Recommended\"];\r\n      }\r\n    },\r\n    platformStrings() {\r\n      if (!this._.isEmpty(this.platformNames)) {\r\n        return this.platformNames.map(x => x.name);\r\n      } else {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectSponsored(){\r\n      this.search = this.sponsoredItem.platform_name;\r\n      this.newPlatform = this.sponsoredItem.platform_name;\r\n      this.$refs.combobox.isMenuActive = false;\r\n    },\r\n    getPlatformID(platform) {\r\n      if (platform.id != null) {\r\n        return platform.id\r\n      } else if (this.platformStrings.includes(platform)){\r\n        let result = this.platformNames.filter(obj => {\r\n          return obj.name === platform;\r\n        })\r\n        return result[0].id;\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n    delaySubmit() {\r\n      // Resolves a combobox bug where it does not update props until blur/tick\r\n      this.isSaving = true;\r\n      this.$refs.combobox.blur();\r\n      this.$nextTick(() => {\r\n        if (this.newPlatform != null) {\r\n          this.onSubmit();\r\n        } else {\r\n          this.isSaving = false;\r\n        }\r\n      })\r\n    },\r\n    onSubmit() {\r\n      let endpoint = `/api/scenarios/${this.activeScenario.id}/platforms/`;\r\n      if (this.platformNames.includes(this.newPlatform)\r\n          || this.platformStrings.includes(this.newPlatform)\r\n          || this.platformStrings.includes(this.newPlatform.name)) {\r\n            let name_id = this.getPlatformID(this.newPlatform);\r\n        apiService(endpoint, \"POST\", {\r\n          name_id: name_id,\r\n          scenario: this.activeScenario.id,\r\n          status: this.status,\r\n        }).then(data => {\r\n          this.$emit(\"add-platform\", data);\r\n          this.newPlatform = null;\r\n          this.isSaving = false;\r\n        });\r\n        if (this.error) {\r\n          this.error = null;\r\n        }\r\n      } else {\r\n        apiService(endpoint, \"POST\", {\r\n          name_id: null,\r\n          custom_name: this.newPlatform,\r\n          scenario: this.activeScenario.id,\r\n          edited: true,\r\n          status: this.status,\r\n        }).then(data => {\r\n          this.$emit(\"add-platform\", data);\r\n          this.newPlatform = null;\r\n          this.isSaving = false;\r\n\r\n\r\n        });\r\n        if (this.error) {\r\n          this.error = null;\r\n        }\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style media=\"screen\">\r\n  .v-btn:not(.v-btn--text):not(.v-btn--outlined):hover:before {\r\n    opacity: 0!important;\r\n  }\r\n  .v-text-field--outlined > .v-input__control > .v-input__slot {\r\n    /* min-height: 40px !important; */\r\n    /* max-height: 40px !important;\r\n    display: flex!important;\r\n  align-items: center!important */\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components"}]}