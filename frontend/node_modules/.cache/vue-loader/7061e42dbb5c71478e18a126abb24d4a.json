{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue","mtime":1581993007841},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UiCmltcG9ydCBEZWxldGVPYmogZnJvbSAiQC9jb21wb25lbnRzL0RlbGV0ZU9iai52dWUiOwppbXBvcnQgQWRkU2NlbmFyaW8gZnJvbSAiQC9jb21wb25lbnRzL0FkZFNjZW5hcmlvLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImhvbWUiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzY2VuYXJpb3M6IFtdLAogICAgICBuZXh0OiBudWxsLAogICAgICBsb2FkaW5nU2NlbmFyaW9zOiBmYWxzZSwKICAgICAgcmVxdWVzdFVzZXI6IG51bGwsCiAgICAgIG9iamVjdFRvRGVsZXRlOiBudWxsLAogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgRGVsZXRlT2JqLAogICAgQWRkU2NlbmFyaW8sCiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRSZXF1ZXN0VXNlcigpIHsKICAgICAgdGhpcy5yZXF1ZXN0VXNlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW1haWwiKQogICAgfSwKICAgIGdldFNjZW5hcmlvcygpIHsKICAgICAgLy8gbWFrZSBhIEdFVCBSZXF1ZXN0IHRvIHRoZSBxdWVzdGlvbnMgbGlzdCBlbmRwb2ludCBhbmQgcG9wdWxhdGUgdGhlIHF1ZXN0aW9ucyBhcnJheQogICAgICBsZXQgZW5kcG9pbnQgPSAiL2FwaS9zY2VuYXJpb3MvIjsKICAgICAgaWYgKHRoaXMubmV4dCkgewogICAgICAgIGVuZHBvaW50ID0gdGhpcy5uZXh0OwogICAgICB9CiAgICAgIHRoaXMubG9hZGluZ1NjZW5hcmlvcyA9IHRydWU7CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpCiAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICB0aGlzLnNjZW5hcmlvcy5wdXNoKC4uLmRhdGEucmVzdWx0cykKICAgICAgICAgIHRoaXMubG9hZGluZ1NjZW5hcmlvcyA9IGZhbHNlOwogICAgICAgICAgaWYgKGRhdGEubmV4dCkgewogICAgICAgICAgICB0aGlzLm5leHQgPSBkYXRhLm5leHQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICB9LAogICAgYWRkU2NlbmFyaW8obmV3U2NlbmFyaW8pIHsKICAgICAgdGhpcy5zY2VuYXJpb3MucHVzaChuZXdTY2VuYXJpbyk7CiAgICB9LAogICAgZGVsZXRlT2JqKG9iamVjdFRvRGVsZXRlKSB7CiAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLnNjZW5hcmlvcywgdGhpcy5zY2VuYXJpb3MuaW5kZXhPZihvYmplY3RUb0RlbGV0ZSkpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc2V0UmVxdWVzdFVzZXIoKTsKICAgIHRoaXMuZ2V0U2NlbmFyaW9zKCkKICAgIGRvY3VtZW50LnRpdGxlID0gIkZlZXoiOwogIH0KfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"container\">\n      <div v-for=\"scenario in scenarios\"\n            :key=\"scenario.id\">\n        <router-link :to=\"{ name: 'scenario',\n                            params: { id: scenario.id} }\"\n                      class=\"scenario-link\">\n          <h2 class=\"mb-0\">\n            <span class=\"scenario-client\"> {{ scenario.client }}</span>\n          </h2>\n          <p>Created at: {{ scenario.created_at }}</p>\n          <p>Last modified: {{ scenario.updated_at }}</p>\n        </router-link>\n        <DeleteObj\n        :objectToDelete=\"scenario\"\n        :objectType=\"'scenario'\"\n        @delete-object=\"deleteObj\"/>\n        <hr>\n      </div>\n      <div class=\"my-4\">\n        <p v-show=\"loadingScenarios\">...loading...</p>\n        <button\n          v-show=\"next\"\n          @click=\"getScenarios\"\n          class=\"btn btn-sm btn-outline-success\">Load more</button>\n      </div>\n    </div>\n    <AddScenario\n    :requestUser=\"requestUser\"\n    @add-scenario=\"addScenario\"/>\n    <hr>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { apiService } from \"@/common/api.service\"\nimport DeleteObj from \"@/components/DeleteObj.vue\";\nimport AddScenario from \"@/components/AddScenario.vue\";\n\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      scenarios: [],\n      next: null,\n      loadingScenarios: false,\n      requestUser: null,\n      objectToDelete: null,\n    }\n  },\n  components: {\n    DeleteObj,\n    AddScenario,\n  },\n  methods: {\n    setRequestUser() {\n      this.requestUser = window.localStorage.getItem(\"email\")\n    },\n    getScenarios() {\n      // make a GET Request to the questions list endpoint and populate the questions array\n      let endpoint = \"/api/scenarios/\";\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loadingScenarios = true;\n      apiService(endpoint)\n        .then(data => {\n          this.scenarios.push(...data.results)\n          this.loadingScenarios = false;\n          if (data.next) {\n            this.next = data.next;\n          } else {\n            this.next = null;\n          }\n        })\n    },\n    addScenario(newScenario) {\n      this.scenarios.push(newScenario);\n    },\n    deleteObj(objectToDelete) {\n      this.$delete(this.scenarios, this.scenarios.indexOf(objectToDelete));\n    }\n  },\n  mounted() {\n    this.setRequestUser();\n    this.getScenarios()\n    document.title = \"Feez\";\n  }\n};\n</script>\n"]}]}