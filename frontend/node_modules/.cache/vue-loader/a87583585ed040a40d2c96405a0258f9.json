{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\PortfolioTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\PortfolioTable.vue","mtime":1600137340488},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KaW1wb3J0IEFkZFBvcnRmb2xpb05hbWUgZnJvbSAiQC9jb21wb25lbnRzL0FkZFBvcnRmb2xpb05hbWUudnVlIjsNCmltcG9ydCBEZWxldGVPYmogZnJvbSAiQC9jb21wb25lbnRzL0RlbGV0ZU9iai52dWUiOw0KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IHsNCiAgSU5WRVNUTUVOVE5BTUVfQUxMLA0KfSBmcm9tICJAL3N0b3JlL2FjdGlvbnMudHlwZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlBvcnRmb2xpb1RhYmxlIiwNCiAgcHJvcHM6IHsNCiAgICBwb3J0Zm9saW86IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzZWFyY2g6IG51bGwsDQogICAgICBzZWxlY3RlZFBvcnRmb2xpbzoge30sDQogICAgICBpbnZlc3RtZW50czogW10sDQogICAgICBhY3RpdmU6IGZhbHNlLA0KICAgICAgZXJyb3I6IG51bGwsDQogICAgICBwb3J0Zm9saW9zOiBbXSwNCiAgICAgIGNoYW5nZUxpc3Q6IFtdLA0KICAgICAgbmV3SW52ZXN0bWVudDoge30sDQogICAgICBlZGl0UG9ydGZvbGlvTmFtZTogZmFsc2UsDQogICAgICBuZXdQb3J0Zm9saW9OYW1lOiAnJywNCiAgICB9Ow0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgRGVsZXRlT2JqLA0KICAgIEFkZFBvcnRmb2xpb05hbWUsDQogIH0sDQogIHdhdGNoOiB7DQogICAgcG9ydGZvbGlvOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmdldEludmVzdG1lbnRzKCk7DQogICAgfSwNCiAgICBzZWxlY3RlZFBvcnRmb2xpbzogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5nZXRJbnZlc3RtZW50cygpOw0KICAgIH0sDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbImFjdGl2ZVVzZXIiLCAiaW52ZXN0bWVudE5hbWVzIl0pLA0KICAgIHBvcnRmb2xpb0lEOiBmdW5jdGlvbigpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUG9ydGZvbGlvICE9IG51bGwpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRQb3J0Zm9saW8uaWQ7DQogICAgICB9IGVsc2UgaWYgKHRoaXMucG9ydGZvbGlvKXsNCiAgICAgICAgcmV0dXJuIHRoaXMucG9ydGZvbGlvLmlkOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIG51bGwNCiAgICAgIH0NCiAgICB9LA0KICAgIGNhbkVkaXQoKSB7DQogICAgICBpZiAodGhpcy5pc1ByYWN0aWNlQWRtaW4gJiYgdGhpcy5pc05vdEFGU0xMaW1pdGVkICYmIHRoaXMuaXNOb3RNYXN0ZXJUZW1wbGF0ZSApIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQogICAgaXNOb3RNYXN0ZXJUZW1wbGF0ZSgpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUG9ydGZvbGlvLmlkKSB7DQogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUG9ydGZvbGlvLnRlbXBsYXRlICYmIHRoaXMuc2VsZWN0ZWRQb3J0Zm9saW8ubWFzdGVyX3RlbXBsYXRlKSB7DQogICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIGlzUHJhY3RpY2VBZG1pbigpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUG9ydGZvbGlvLmlkKSB7DQogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUG9ydGZvbGlvLmFjdGl2ZV9wcmFjdGljZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkUG9ydGZvbGlvLmFjdGl2ZV9wcmFjdGljZXMuc29tZShpdGVtID0+IHRoaXMuYWN0aXZlVXNlci5hZG1pbl9wcmFjdGljZXMuaW5jbHVkZXMoaXRlbSkpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiB0cnVlDQogICAgICB9DQogICAgfSwNCiAgICBpc05vdEFGU0xMaW1pdGVkKCkgew0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRQb3J0Zm9saW8uaWQpIHsNCiAgICAgICAgaWYgKHRoaXMuXy5pc0VtcHR5KHRoaXMuc2VsZWN0ZWRQb3J0Zm9saW8uYWZzbHMpKSB7DQogICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZmlsdGVyT2JqZWN0KGl0ZW0sIHF1ZXJ5VGV4dCkgew0KICAgICAgICBjb25zdCB0ZXh0T25lID0gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkNCiAgICAgICAgY29uc3Qgc2VhcmNoVGV4dCA9IHF1ZXJ5VGV4dC50b0xvd2VyQ2FzZSgpDQoNCiAgICAgICAgaWYgKGl0ZW0uY29kZSkgew0KICAgICAgICAgIGNvbnN0IHRleHRUd28gPSBpdGVtLmNvZGUudG9Mb3dlckNhc2UoKQ0KICAgICAgICAgIHJldHVybiB0ZXh0T25lLmluZGV4T2Yoc2VhcmNoVGV4dCkgPiAtMSB8fA0KICAgICAgICAgICAgdGV4dFR3by5pbmRleE9mKHNlYXJjaFRleHQpID4gLTENCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gdGV4dE9uZS5pbmRleE9mKHNlYXJjaFRleHQpID4gLTENCiAgICAgICAgfQ0KICAgIH0sDQogICAgY2hlY2tIaW50KCkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrQ29tcGxldGUoKSkgew0KICAgICAgICByZXR1cm4gIkFsbG9jYXRpb25zIGRvIG5vdCBlcXVhbCAxMDAlIg0KICAgICAgfQ0KICAgIH0sDQogICAgY2hlY2tDb2xvcigpew0KICAgICAgaWYgKCF0aGlzLmNoZWNrQ29tcGxldGUoKSkgew0KICAgICAgICByZXR1cm4gInJlZCBsaWdodGVuLTQiDQogICAgICB9DQogICAgfSwNCiAgICBjaGVja0NvbXBsZXRlKCkgew0KICAgICAgbGV0IHZhbHVlID0gdGhpcy5pbnZlc3RtZW50cy5yZWR1Y2UoIGZ1bmN0aW9uIChhLGIpIHsNCiAgICAgICAgcmV0dXJuIGEgKyBOdW1iZXIoYi5wZXJjZW50YWdlKTsNCiAgICAgIH0sIDApOw0KICAgICAgaWYgKHZhbHVlID09IDEpIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQogICAgdXBkYXRlUG9ydGZvbGlvTmFtZSgpIHsNCiAgICAgIHRoaXMuZWRpdFBvcnRmb2xpb05hbWUgPSAhdGhpcy5lZGl0UG9ydGZvbGlvTmFtZTsNCiAgICAgIGlmICh0aGlzLm5ld1BvcnRmb2xpb05hbWUgIT0gJycpIHsNCiAgICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvcG9ydGZvbGlvdGVtcGxhdGVzLyR7dGhpcy5zZWxlY3RlZFBvcnRmb2xpby5pZH0vYDsNCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBBVENIIiwgew0KICAgICAgICAgIG5hbWU6IHRoaXMubmV3UG9ydGZvbGlvTmFtZSwNCiAgICAgICAgfSkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkUG9ydGZvbGlvID0gZGF0YTsNCiAgICAgICAgICB0aGlzLm5ld1BvcnRmb2xpb05hbWUgPSAiIjsNCiAgICAgICAgICBjb25zdCBpID0gdGhpcy5wb3J0Zm9saW9zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IGRhdGEuaWQpOw0KICAgICAgICAgIHRoaXMucG9ydGZvbGlvcy5zcGxpY2UoaSwwLGRhdGEpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFkZFBvcnRmb2xpbyhkYXRhKXsNCiAgICAgIHRoaXMuc2VsZWN0ZWRQb3J0Zm9saW8gPSBkYXRhOw0KICAgICAgdGhpcy5nZXRQb3J0Zm9saW9zKCk7DQogICAgfSwNCiAgICBkZWxldGVQb3J0Zm9saW8oZGF0YSkgew0KICAgICAgY29uc3QgaSA9IHRoaXMucG9ydGZvbGlvcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSBkYXRhLmlkKTsNCiAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLnBvcnRmb2xpb3MsaSkNCiAgICAgIHRoaXMuaW52ZXN0bWVudHMgPSBbXTsNCiAgICB9LA0KICAgIHNldFBlcmNlbnRhZ2UoZXZlbnQsIGludmVzdG1lbnQpIHsNCiAgICAgIGlmIChpbnZlc3RtZW50LmlkKSB7DQogICAgICAgIC8vZm9yIGV4aXN0aW5nIGludmVzdG1lbnRzDQogICAgICAgIGNvbnN0IGkgPSB0aGlzLmludmVzdG1lbnRzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IGludmVzdG1lbnQuaWQpOw0KICAgICAgICB0aGlzLmludmVzdG1lbnRzW2ldLnBlcmNlbnRhZ2UgPSBldmVudC8xMDA7DQogICAgICB9IGVsc2UgaWYgKGludmVzdG1lbnQucGVyY2VudGFnZSkgew0KICAgICAgICAvL2ZvciBuZXcgaW52ZXN0bWVudHMgdGhhdCBoYXZlIGEgcGVyY2VudGFnZSBwcm9wZXJ0eQ0KICAgICAgICB0aGlzLm5ld0ludmVzdG1lbnQucGVyY2VudGFnZSA9IGV2ZW50LzEwMA0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy9mb3IgbmV3IGludmVzdG1lbnRzDQogICAgICAgIHRoaXMuJHNldCh0aGlzLm5ld0ludmVzdG1lbnQsICdwZXJjZW50YWdlJywgZXZlbnQvMTAwKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0UGVyY2VudGFnZShpbnZlc3RtZW50KSB7DQogICAgICBpZiAoaW52ZXN0bWVudC5wZXJjZW50YWdlKSB7DQogICAgICAgIHJldHVybiAoaW52ZXN0bWVudC5wZXJjZW50YWdlKjEwMCkudG9GaXhlZCgyKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBudWxsDQogICAgICB9DQogICAgfSwNCiAgICBhZGRUb0NoYW5nZWQoaW52ZXN0bWVudCkgew0KICAgICAgaWYgKCEodGhpcy5jaGFuZ2VMaXN0LmluY2x1ZGVzKGludmVzdG1lbnQpKSkgew0KICAgICAgICB0aGlzLmNoYW5nZUxpc3QucHVzaChpbnZlc3RtZW50KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnN0IGkgPSB0aGlzLmNoYW5nZUxpc3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gaW52ZXN0bWVudC5pZCk7DQogICAgICAgIHRoaXMuY2hhbmdlTGlzdC5zcGxpY2UoaSwgMSk7DQogICAgICAgIHRoaXMuY2hhbmdlTGlzdC5wdXNoKGludmVzdG1lbnQpOw0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0UG9ydGZvbGlvcygpIHsNCiAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3BvcnRmb2xpb3RlbXBsYXRlcy9gOw0KICAgICAgYXBpU2VydmljZShlbmRwb2ludCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgdGhpcy5wb3J0Zm9saW9zID0gZGF0YS5yZXN1bHRzOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRJbnZlc3RtZW50cygpIHsNCiAgICAgIGlmICh0aGlzLnBvcnRmb2xpb0lEICE9IG51bGwpIHsNCiAgICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvcG9ydGZvbGlvdGVtcGxhdGVzLyR7dGhpcy5wb3J0Zm9saW9JRH0vaW52ZXN0bWVudHMvYDsNCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICB0aGlzLmludmVzdG1lbnRzID0gZGF0YS5yZXN1bHRzOw0KICAgICAgICB9KTsNCiAgICAgIH07DQogICAgfSwNCiAgICBhZGRJbnZlc3RtZW50KCkgew0KICAgICAgaWYgKHRoaXMubmV3SW52ZXN0bWVudC5pbnZlc3RtZW50X25hbWUpIHsNCiAgICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvcG9ydGZvbGlvdGVtcGxhdGVzLyR7dGhpcy5wb3J0Zm9saW9JRH0vaW52ZXN0bWVudHMvYDsNCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBPU1QiLCB7DQogICAgICAgICAgaW52ZXN0bWVudF9uYW1lX2lkOiB0aGlzLm5ld0ludmVzdG1lbnQuaW52ZXN0bWVudF9uYW1lLA0KICAgICAgICAgIHBvcnRmb2xpbzogdGhpcy5wb3J0Zm9saW9JRCwNCiAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLm5ld0ludmVzdG1lbnQucGVyY2VudGFnZSwNCiAgICAgICAgfSkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICB0aGlzLmludmVzdG1lbnRzLnB1c2goZGF0YSk7DQogICAgICAgICAgdGhpcy5uZXdJbnZlc3RtZW50LmludmVzdG1lbnRfbmFtZSA9IG51bGw7DQogICAgICAgICAgdGhpcy5uZXdJbnZlc3RtZW50LnBlcmNlbnRhZ2UgPSBudWxsOw0KICAgICAgICAgIH0pOw0KICAgICAgICBpZiAodGhpcy5lcnJvcikgew0KICAgICAgICAgIHRoaXMuZXJyb3IgPSBudWxsOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmVycm9yID0gIllvdSBtdXN0IGVudGVyIGEgbmFtZSBhbmQgYW1vdW50IGZvciB0aGUgbmV3IGludmVzdG1lbnQiOw0KICAgICAgfQ0KICAgIH0sDQogICAgb25TdWJtaXQoKSB7DQogICAgICBpZiAodGhpcy5jaGFuZ2VMaXN0KSB7DQogICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHRoaXMuY2hhbmdlTGlzdC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3BvcnRmb2xpb3RlbXBsYXRlcy8ke3RoaXMucG9ydGZvbGlvSUR9L2ludmVzdG1lbnRzLyR7dGhpcy5jaGFuZ2VMaXN0W2ldLmlkfS9gOw0KICAgICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIHsNCiAgICAgICAgICAgIGludmVzdG1lbnRfbmFtZV9pZDogdGhpcy5jaGFuZ2VMaXN0W2ldLmludmVzdG1lbnRfbmFtZSwNCiAgICAgICAgICAgIHBvcnRmb2xpbzogdGhpcy5wb3J0Zm9saW9JRCwNCiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMuY2hhbmdlTGlzdFtpXS5wZXJjZW50YWdlLA0KICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfTsNCiAgICAgIH07DQogICAgfSwNCiAgICBnZXRJbnZlc3RtZW50TmFtZXMoKSB7DQogICAgICBpZiAodGhpcy5fLmlzRW1wdHkodGhpcy5pbnZlc3RtZW50TmFtZXMpKSB7DQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKElOVkVTVE1FTlROQU1FX0FMTCkNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0SW52ZXN0bWVudE5hbWVzKCk7DQogICAgdGhpcy5nZXRQb3J0Zm9saW9zKCk7DQogICAgdGhpcy5nZXRJbnZlc3RtZW50cygpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["PortfolioTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PortfolioTable.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n  <v-container>\r\n    <v-form  @submit.prevent=\"onSubmit\">\r\n      <v-row>\r\n        <v-col\r\n        :cols=\"6\">\r\n          <v-select\r\n            v-if=\"!editPortfolioName\"\r\n            :items=\"portfolios\"\r\n            item-text=\"name\"\r\n            return-object\r\n            v-model=\"selectedPortfolio\"\r\n            outlined dense hide-details>\r\n          </v-select>\r\n          <v-text-field\r\n            v-else\r\n            :value=\"selectedPortfolio.name\"\r\n            @change=\"newPortfolioName = $event\"\r\n            dense outlined\r\n            hide-details />\r\n        </v-col>\r\n        <v-col\r\n        :cols=\"1\" >\r\n          <template v-if=\"selectedPortfolio.id && canEdit\">\r\n            <v-btn\r\n              v-if=\"!editPortfolioName\"\r\n              color=\"green\" icon\r\n              @click=\"editPortfolioName = !editPortfolioName\">\r\n              <v-icon large>mdi-pencil-circle</v-icon>\r\n            </v-btn>\r\n            <v-btn\r\n              v-else\r\n              color=\"green\" icon\r\n              @click=\"updatePortfolioName()\">\r\n              <v-icon large>mdi-check-circle</v-icon>\r\n            </v-btn>\r\n          </template>\r\n        </v-col>\r\n        <v-col\r\n        :cols=\"2\">\r\n          <AddPortfolioName\r\n            :userID=\"activeUser.id\"\r\n            @add-portfolio=\"addPortfolio\"/>\r\n        </v-col>\r\n        <v-col :cols=\"2\">\r\n        <DeleteObj\r\n          v-if=\"canEdit\"\r\n          :objectType=\"'model portfolio'\"\r\n          :objectToDelete=\"selectedPortfolio\"\r\n          @delete-object=\"deletePortfolio($event)\"\r\n        />\r\n      </v-col>\r\n      </v-row>\r\n      <v-row dense>\r\n        <v-col\r\n        :cols=\"8\">\r\n          <v-card>\r\n            <v-card-text>\r\n              Description\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"3\">\r\n          <v-card\r\n          :color=\"checkColor()\"\r\n          :hint=\"checkHint()\"\r\n          persistent-hint>\r\n            <v-card-text>\r\n              Percentage\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"1\">\r\n        </v-col>\r\n      </v-row>\r\n      <v-row\r\n        v-for=\"investment in investments\"\r\n        :key=\"investment.id\"\r\n        dense>\r\n        <v-col\r\n          :cols=\"8\">\r\n            <v-autocomplete\r\n              v-model=\"investment.investment_name\"\r\n              :items=\"investmentNames\"\r\n              item-value=\"id\"\r\n              item-text=\"name\"\r\n              @change=\"addToChanged(investment)\"\r\n              :filter=\"filterObject\"\r\n              outlined dense hide-details>\r\n              <!-- <template v-slot:no-data>\r\n                <v-list-item>\r\n                  <v-list-item-content>\r\n                    <v-list-item-title>\r\n                      No investments match \"<strong>{{ search }}</strong>\". Press <kbd>enter</kbd> to create a custom investment.\r\n                    </v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n              </template> -->\r\n              <template v-slot:item='{ item }'>\r\n                <v-list-item-content class=\"pr-2\">\r\n                  <v-list-item-title v-text=\"item.name\"></v-list-item-title>\r\n                </v-list-item-content>\r\n                <v-spacer></v-spacer>\r\n                <v-chip v-if=\"item.code\" right outlined>\r\n                  {{ item.code }}\r\n                </v-chip>\r\n              </template>\r\n            </v-autocomplete>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"3\">\r\n            <v-text-field\r\n              type=\"number\"\r\n              :value = \"getPercentage(investment)\"\r\n              @blur = \"setPercentage($event.target.value, investment)\"\r\n              @change = \"addToChanged(investment)\"\r\n              dense outlined hide-details/>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"1\">\r\n          <DeleteObj\r\n            v-if=\"canEdit\"\r\n            :objectType=\"'modelInvestment'\"\r\n            :objectToDelete=\"investment\"\r\n            :portfolioID=\"portfolioID\"\r\n            @delete-object=\"getInvestments()\"\r\n            v-on=\"$listeners\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n      <v-row\r\n        dense\r\n        v-if=\"canEdit\">\r\n        <v-col\r\n          :cols=\"8\">\r\n          <v-autocomplete\r\n            v-model=\"newInvestment.investment_name\"\r\n            :items=\"investmentNames\"\r\n            item-text=\"name\"\r\n            item-value=\"id\"\r\n            outlined dense hide-details\r\n            :filter=\"filterObject\"\r\n            label=\"Add an investment by typing a name\">\r\n            <template v-slot:item='{ item }'>\r\n              <v-list-item-content class=\"pr-2\">\r\n                <v-list-item-title v-text=\"item.name\"></v-list-item-title>\r\n              </v-list-item-content>\r\n              <v-spacer></v-spacer>\r\n              <v-chip v-if=\"item.code\" right outlined>\r\n                {{ item.code }}\r\n              </v-chip>\r\n            </template>\r\n          </v-autocomplete>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"3\">\r\n            <v-text-field\r\n              type=\"number\"\r\n              :value = \"getPercentage(newInvestment)\"\r\n              @blur = \"setPercentage($event.target.value, newInvestment)\"\r\n              outlined dense hide-details/>\r\n        </v-col>\r\n        <v-col\r\n          :cols=\"1\">\r\n          <v-btn type=\"button\" color=\"green\" dark dense\r\n            @click=\"addInvestment\">\r\n            <v-icon>\r\n              mdi-plus\r\n            </v-icon>\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row v-if=\"investments.length && canEdit\">\r\n        <v-col>\r\n          <v-btn type=\"submit\" color=\"primary\" dark dense>Update All</v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport AddPortfolioName from \"@/components/AddPortfolioName.vue\";\r\nimport DeleteObj from \"@/components/DeleteObj.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport {\r\n  INVESTMENTNAME_ALL,\r\n} from \"@/store/actions.type\";\r\n\r\nexport default {\r\n  name: \"PortfolioTable\",\r\n  props: {\r\n    portfolio: {\r\n      type: Object,\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      search: null,\r\n      selectedPortfolio: {},\r\n      investments: [],\r\n      active: false,\r\n      error: null,\r\n      portfolios: [],\r\n      changeList: [],\r\n      newInvestment: {},\r\n      editPortfolioName: false,\r\n      newPortfolioName: '',\r\n    };\r\n  },\r\n  components: {\r\n    DeleteObj,\r\n    AddPortfolioName,\r\n  },\r\n  watch: {\r\n    portfolio: function () {\r\n      this.getInvestments();\r\n    },\r\n    selectedPortfolio: function () {\r\n      this.getInvestments();\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"activeUser\", \"investmentNames\"]),\r\n    portfolioID: function() {\r\n      if (this.selectedPortfolio != null) {\r\n        return this.selectedPortfolio.id;\r\n      } else if (this.portfolio){\r\n        return this.portfolio.id;\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n    canEdit() {\r\n      if (this.isPracticeAdmin && this.isNotAFSLLimited && this.isNotMasterTemplate ) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    isNotMasterTemplate() {\r\n      if (this.selectedPortfolio.id) {\r\n        if (this.selectedPortfolio.template && this.selectedPortfolio.master_template) {\r\n          return false\r\n        } else {\r\n          return true\r\n        }\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    isPracticeAdmin() {\r\n      if (this.selectedPortfolio.id) {\r\n        if (this.selectedPortfolio.active_practices.length > 0) {\r\n          return this.selectedPortfolio.active_practices.some(item => this.activeUser.admin_practices.includes(item));\r\n        } else {\r\n          return true\r\n        }\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    isNotAFSLLimited() {\r\n      if (this.selectedPortfolio.id) {\r\n        if (this._.isEmpty(this.selectedPortfolio.afsls)) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    filterObject(item, queryText) {\r\n        const textOne = item.name.toLowerCase()\r\n        const searchText = queryText.toLowerCase()\r\n\r\n        if (item.code) {\r\n          const textTwo = item.code.toLowerCase()\r\n          return textOne.indexOf(searchText) > -1 ||\r\n            textTwo.indexOf(searchText) > -1\r\n        } else {\r\n          return textOne.indexOf(searchText) > -1\r\n        }\r\n    },\r\n    checkHint() {\r\n      if (!this.checkComplete()) {\r\n        return \"Allocations do not equal 100%\"\r\n      }\r\n    },\r\n    checkColor(){\r\n      if (!this.checkComplete()) {\r\n        return \"red lighten-4\"\r\n      }\r\n    },\r\n    checkComplete() {\r\n      let value = this.investments.reduce( function (a,b) {\r\n        return a + Number(b.percentage);\r\n      }, 0);\r\n      if (value == 1) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    updatePortfolioName() {\r\n      this.editPortfolioName = !this.editPortfolioName;\r\n      if (this.newPortfolioName != '') {\r\n        let endpoint = `/api/portfoliotemplates/${this.selectedPortfolio.id}/`;\r\n        apiService(endpoint, \"PATCH\", {\r\n          name: this.newPortfolioName,\r\n        }).then(data => {\r\n          this.selectedPortfolio = data;\r\n          this.newPortfolioName = \"\";\r\n          const i = this.portfolios.findIndex(item => item.id === data.id);\r\n          this.portfolios.splice(i,0,data);\r\n        });\r\n      }\r\n    },\r\n    addPortfolio(data){\r\n      this.selectedPortfolio = data;\r\n      this.getPortfolios();\r\n    },\r\n    deletePortfolio(data) {\r\n      const i = this.portfolios.findIndex(item => item.id === data.id);\r\n      this.$delete(this.portfolios,i)\r\n      this.investments = [];\r\n    },\r\n    setPercentage(event, investment) {\r\n      if (investment.id) {\r\n        //for existing investments\r\n        const i = this.investments.findIndex(item => item.id === investment.id);\r\n        this.investments[i].percentage = event/100;\r\n      } else if (investment.percentage) {\r\n        //for new investments that have a percentage property\r\n        this.newInvestment.percentage = event/100\r\n      } else {\r\n        //for new investments\r\n        this.$set(this.newInvestment, 'percentage', event/100)\r\n      }\r\n    },\r\n    getPercentage(investment) {\r\n      if (investment.percentage) {\r\n        return (investment.percentage*100).toFixed(2);\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n    addToChanged(investment) {\r\n      if (!(this.changeList.includes(investment))) {\r\n        this.changeList.push(investment);\r\n      } else {\r\n        const i = this.changeList.findIndex(item => item.id === investment.id);\r\n        this.changeList.splice(i, 1);\r\n        this.changeList.push(investment);\r\n      }\r\n    },\r\n    getPortfolios() {\r\n      let endpoint = `/api/portfoliotemplates/`;\r\n      apiService(endpoint).then(data => {\r\n        this.portfolios = data.results;\r\n      });\r\n    },\r\n    getInvestments() {\r\n      if (this.portfolioID != null) {\r\n        let endpoint = `/api/portfoliotemplates/${this.portfolioID}/investments/`;\r\n        apiService(endpoint).then(data => {\r\n          this.investments = data.results;\r\n        });\r\n      };\r\n    },\r\n    addInvestment() {\r\n      if (this.newInvestment.investment_name) {\r\n        let endpoint = `/api/portfoliotemplates/${this.portfolioID}/investments/`;\r\n        apiService(endpoint, \"POST\", {\r\n          investment_name_id: this.newInvestment.investment_name,\r\n          portfolio: this.portfolioID,\r\n          percentage: this.newInvestment.percentage,\r\n        }).then(data => {\r\n          this.investments.push(data);\r\n          this.newInvestment.investment_name = null;\r\n          this.newInvestment.percentage = null;\r\n          });\r\n        if (this.error) {\r\n          this.error = null;\r\n        }\r\n      } else {\r\n        this.error = \"You must enter a name and amount for the new investment\";\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (this.changeList) {\r\n        for (let i=0; i < this.changeList.length; i++) {\r\n          let endpoint = `/api/portfoliotemplates/${this.portfolioID}/investments/${this.changeList[i].id}/`;\r\n          apiService(endpoint, \"PATCH\", {\r\n            investment_name_id: this.changeList[i].investment_name,\r\n            portfolio: this.portfolioID,\r\n            percentage: this.changeList[i].percentage,\r\n          }).then(data => {\r\n            console.log(data);\r\n          });\r\n        };\r\n      };\r\n    },\r\n    getInvestmentNames() {\r\n      if (this._.isEmpty(this.investmentNames)) {\r\n        this.$store.dispatch(INVESTMENTNAME_ALL)\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getInvestmentNames();\r\n    this.getPortfolios();\r\n    this.getInvestments();\r\n  }\r\n};\r\n</script>\r\n"]}]}