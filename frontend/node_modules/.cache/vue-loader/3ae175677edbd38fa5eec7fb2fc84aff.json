{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\PlatformFeeSummary.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\PlatformFeeSummary.vue","mtime":1589347040965},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KaW1wb3J0IE1vZGlmeVRpZXJGZWVzIGZyb20gIkAvY29tcG9uZW50cy9Nb2RpZnlUaWVyRmVlcy52dWUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJQbGF0Zm9ybUZlZVN1bW1hcnkiLA0KICBpbmplY3Q6IHsNCiAgICBwbGF0Zm9ybUlkOiB7IGRlZmF1bHQ6IG51bGwgfSwNCiAgICBzY2VuYXJpb0lkOiB7IGRlZmF1bHQ6IG51bGwgfSwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBwbGF0Zm9ybUZlZTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgfSwNCiAgICBwbGF0Zm9ybTogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgIH0sDQogICAgdGVtcGxhdGU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgTW9kaWZ5VGllckZlZXMsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRpYWxvZzogZmFsc2UsDQogICAgICBBRlNMTGlzdDogW10sDQogICAgICBkaXNwbGF5SXRlbXM6IFsNCiAgICAgICAgICBbIlNsaWRpbmcgYWRtaW4gZmVlIiwic2xpZGluZ19hZG1pbl9mZWUiLG51bGxdLA0KICAgICAgICAgIFsiQWRtaW5pc3RyYXRpb24gZmVlIChmbGF0KSIsImFkbWluX2ZlZV9kb2xsYXIiLCBudWxsXSwNCiAgICAgICAgICBbIkFkbWluaXN0cmF0aW9uIGZlZSAoZmxvYXRpbmcpIiwiYWRtaW5fZmVlX3BlcmNlbnRhZ2VfY2FsY3VsYXRlZCIsICJhZG1pbl9mZWVfcGVyY2VudGFnZSJdLA0KICAgICAgICAgIFsiRXhwZW5zZSByZWNvdmVyeSBmZWUgKGZsYXQpIiwiZXhwZW5zZV9yZWNvdmVyeV9kb2xsYXIiLCBudWxsXSwNCiAgICAgICAgICBbIkV4cGVuc2UgcmVjb3ZlcnkgZmVlIChmbG9hdGluZykiLCAiZXhwZW5zZV9yZWNvdmVyeV9wZXJjZW50YWdlX2NhbGN1bGF0ZWQiLCAiZXhwZW5zZV9yZWNvdmVyeV9wZXJjZW50YWdlIl0sDQogICAgICAgICAgWyJPUlIgTGV2eSIsICJPUlJfbGV2eV9jYWxjdWxhdGVkIiwgIk9SUl9sZXZ5Il0sDQogICAgICAgICAgWyJGdW5kIGFjY291bnRpbmcgZmVlIChmbGF0KSIsICJmdW5kX2FjY291bnRpbmdfZmVlX2RvbGxhciIsIG51bGxdLA0KICAgICAgICAgIFsiRnVuZCBhY2NvdW50aW5nIGZlZSAoZmxvYXRpbmcpIiwiZnVuZF9hY2NvdW50aW5nX2ZlZV9wZXJjZW50YWdlX2NhbGN1bGF0ZWQiLCJmdW5kX2FjY291bnRpbmdfZmVlX3BlcmNlbnRhZ2UiXSwNCiAgICAgICAgICBbIlRydXN0ZWUgZmVlIiwidHJ1c3RlZV9mZWVfY2FsY3VsYXRlZCIsICJ0cnVzdGVlX2ZlZSJdLA0KICAgICAgICAgIFsiSXNzdWVyIGZlZSIsICJpc3N1ZXJfZmVlX2NhbGN1bGF0ZWQiLCAiaXNzdWVyX2ZlZSJdLA0KICAgICAgICAgIFsiU01BIGFkbWluIGZlZSIsICJzbWFfYWRtaW5fZmVlIiwgbnVsbF0sDQogICAgICAgIF0sDQogICAgICAgIGRpc3BsYXlBZG1pbkl0ZW1zOiBbDQogICAgICAgICAgLy9mb3JtYXQgaXMgWyJmaWVsZCBuYW1lIiwgImZyaWVuZGx5IG5hbWUiLCAiZWRpdGFibGUgYnkiLCAidHlwZSIsICJ0b29sdGlwIl0NCiAgICAgICAgICBbImZlZV9ncm91cF9vcmRlciIsIkZlZSBncm91cCBvcmRlciIsImFkbWluIiwibnVtYmVyIixudWxsXSwNCiAgICAgICAgICBbImFkbWluX2ZlZV9zdHJ1Y3R1cmUiLCAiQWRtaW4gZmVlIHN0cnVjdHVyZSIsImFkbWluIiwibGlzdCIsIG51bGxdLA0KICAgICAgICAgIFsiYWRtaW5fZmVlX3JlYmF0ZSIsICJBZG1pbiBmZWUgcmViYXRlIiwgImFkbWluIiwgIm51bWJlciIsIG51bGxdLA0KICAgICAgICAgIFsibWluaW11bV9hZG1pbl9mZWUiLCAiTWluaW11bSBhZG1pbiBmZWUiLCAiYWRtaW4iLCAibnVtYmVyIiwgbnVsbF0sDQogICAgICAgICAgWyJtYXhpbXVtX2FkbWluX2ZlZSIsICJNYXhpbXVtIGFkbWluIGZlZSIsICJhZG1pbiIsICJudW1iZXIiLCBudWxsXSwNCiAgICAgICAgICBbIm1pbmltdW1fdG90YWxfZmVlIiwgIk1pbmltdW0gdG90YWwgZmVlIiwgImFkbWluIiwgIm51bWJlciIsIG51bGxdLA0KICAgICAgICAgIFsibWF4aW11bV90b3RhbF9mZWUiLCAiTWF4aW11bSB0b3RhbCBmZWUiLCAiYWRtaW4iLCAibnVtYmVyIiwgbnVsbF0sDQogICAgICAgICAgWyJhZG1pbl9mZWVfZXhjbHVzaW9ucyIsICJBZG1pbiBmZWUgZXhjbHVzaW9ucyIsICJhZG1pbiIsICJsaXN0IiwgbnVsbF0sDQogICAgICAgIF0sDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBzZWxlY3RQbGF0Zm9ybUlEOiBmdW5jdGlvbigpIHsNCiAgICAgIGlmICh0aGlzLnBsYXRmb3JtID09IG51bGwpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMucGxhdGZvcm1JZDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiB0aGlzLnBsYXRmb3JtLmlkOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBkZXNjcmlwdGlvbkNvbChpdGVtKSB7DQogICAgICBpZiAoaXRlbVsyXSAhPSBudWxsIHx8IGl0ZW1bMV0gPT0gJ3NsaWRpbmdfYWRtaW5fZmVlJykgew0KICAgICAgICByZXR1cm4gNg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIDkNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldFJlYWRhYmxlTGlzdChpdGVtKXsNCiAgICAgIGxldCBsaXN0ID0gdGhpcy5wbGF0Zm9ybUZlZVt0aGlzLmpvaW5MaXN0KGl0ZW0pXTsNCiAgICAgIGxldCBjbGVhbkxpc3QgPSBbXTsNCiAgICAgIGZvciAobGV0IGk9MDsgaTxsaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGNsZWFuTGlzdC5wdXNoKGxpc3RbaV1bMV0pOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGNsZWFuTGlzdA0KICAgIH0sDQogICAgY29udmVydExvbmdOYW1lKGl0ZW0pew0KICAgICAgbGV0IGxpc3QgPSB0aGlzLnBsYXRmb3JtRmVlW3RoaXMuam9pbkxpc3QoaXRlbSldOw0KICAgICAgbGV0IHJlYWxOYW1lID0gIiI7DQogICAgICBmb3IgKGxldCBpPTA7IGk8bGlzdC5sZW5ndGg7IGkrKykgew0KICAgICAgICBpZiAodGhpcy5wbGF0Zm9ybUZlZVtpdGVtXSA9PSBsaXN0W2ldWzBdKSB7DQogICAgICAgICAgcmVhbE5hbWUgPSBsaXN0W2ldWzFdOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gcmVhbE5hbWU7DQogICAgfSwNCiAgICBjb252ZXJ0VG9SZWFsTmFtZShpdGVtLCBldmVudCl7DQogICAgICBpZiAoZXZlbnQgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgIHRoaXMucGxhdGZvcm1GZWVbaXRlbV0gPSAiIg0KICAgICAgfSBlbHNlIHsNCiAgICAgIGxldCBsaXN0ID0gdGhpcy5wbGF0Zm9ybUZlZVt0aGlzLmpvaW5MaXN0KGl0ZW0pXTsNCiAgICAgICAgbGV0IHJlYWxOYW1lID0gIiI7DQogICAgICAgIGZvciAobGV0IGk9MDsgaTxsaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKGV2ZW50ID09IGxpc3RbaV1bMV0pIHsNCiAgICAgICAgICAgIHJlYWxOYW1lID0gbGlzdFtpXVswXTsNCiAgICAgICAgICAgIHRoaXMucGxhdGZvcm1GZWVbaXRlbV0gPSByZWFsTmFtZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGpvaW5MaXN0KGl0ZW0pew0KICAgICAgcmV0dXJuIGl0ZW0uY29uY2F0KCJfbGlzdCIpOw0KICAgIH0sDQogICAgZmlsdGVyZWRJdGVtcyhmZWVJdGVtKXsNCiAgICAgIGlmICh0aGlzLmV4cGFuZEZlZXMpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUl0ZW1zOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUl0ZW1zLmZpbHRlcihpID0+IGZlZUl0ZW1baVsxXV0gPiAwKTsNCiAgICAgIH07DQogICAgfSwNCiAgICBzZXRQZXJjZW50YWdlKGV2ZW50LCBpdGVtLCBmZWUpIHsNCiAgICAgIHRoaXMucGxhdGZvcm1GZWVbaXRlbVsxXV0gPSBldmVudCAvIDEwMCAqIGZlZS5wbGF0Zm9ybV9mZWVfdG90YWw7DQogICAgICB0aGlzLnBsYXRmb3JtRmVlW2l0ZW1bMl1dID0gZXZlbnQgLyAxMDA7DQogICAgfSwNCiAgICBnZXRQZXJjZW50YWdlKGl0ZW0sIGZlZSkgew0KICAgICAgcmV0dXJuIChmZWVbaXRlbVsyXV0qMTAwKQ0KICAgIH0sDQogICAgZ2V0QUZTTExpc3QoKXsNCiAgICAgIGlmICh0aGlzLnRlbXBsYXRlPT10cnVlKSAgew0KICAgICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9hZnNscy9gOw0KICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiR0VUIikudGhlbihkYXRhID0+IHsNCiAgICAgICAgICB0aGlzLkFGU0xMaXN0ID0gZGF0YS5yZXN1bHRzOw0KICAgICAgICB9KTsNCiAgICAgIH07DQogICAgfSwNCiAgICBvblN1Ym1pdCgpIHsNCiAgICAgIGxldCBlbmRwb2ludCA9IG51bGw7DQogICAgICBpZiAodGhpcy50ZW1wbGF0ZT09PXRydWUpIHsNCiAgICAgICAgZW5kcG9pbnQgPSBgL2FwaS9wbGF0Zm9ybXRlbXBsYXRlcy8ke3RoaXMucGxhdGZvcm0uaWR9L2ZlZXMvJHt0aGlzLnBsYXRmb3JtRmVlLmlkfS9gDQogICAgICB9IGVsc2Ugew0KICAgICAgICBlbmRwb2ludCA9IGAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuc2NlbmFyaW9JZH0vcGxhdGZvcm1zLyR7dGhpcy5zZWxlY3RQbGF0Zm9ybUlEfS9wbGF0Zm9ybWZlZXMvJHt0aGlzLnBsYXRmb3JtRmVlLmlkfS9gOw0KICAgICAgfQ0KICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBBVENIIiwgdGhpcy5wbGF0Zm9ybUZlZSkudGhlbihkYXRhID0+IHsNCiAgICAgICAgdGhpcy4kZW1pdCgibW9kaWZ5LWZlZXMiLCBkYXRhKTsNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRBRlNMTGlzdCgpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["PlatformFeeSummary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiNA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PlatformFeeSummary.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n  <v-dialog v-model=\"dialog\">\r\n    <template v-slot:activator=\"{ on }\">\r\n      <v-list-item\r\n        v-on=\"on\">\r\n        <v-list-item-title >\r\n          {{platformFee.description}}\r\n        </v-list-item-title>\r\n      </v-list-item>\r\n    </template>\r\n  <v-container>\r\n  <v-form @submit.prevent=\"onSubmit\"\r\n    v-if=\"platformFee != null\">\r\n    <v-row >\r\n      <v-col >\r\n        <v-card height=\"100%\">\r\n          <v-row>\r\n            <v-col :cols=\"5\">\r\n              <v-card-title>\r\n                {{platformFee.description}}\r\n              </v-card-title>\r\n            </v-col>\r\n            <v-col  :cols=\"4\">\r\n              <v-card-title class=\"justify-end pr-0\">\r\n                Total Fees\r\n              </v-card-title>\r\n            </v-col>\r\n              <v-col :cols=\"3\">\r\n\r\n              <v-currency-field\r\n                read-only\r\n                prefix=\"$\"\r\n                class=\"pt-3 pr-4\"\r\n                hide-details dense solo\r\n                v-model=\"platformFee.platform_fee_total_fees\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n          <v-card-text class=\"pt-0\">\r\n\r\n            <v-select\r\n            clearable\r\n              :items=\"getReadableList('admin_fee_structure')\"\r\n              @change=\"convertToRealName('admin_fee_structure', $event)\"\r\n              :value=\"convertLongName('admin_fee_structure')\"\r\n              hide-details\r\n              label=\"Admin fee structure\"\r\n            />\r\n            <v-text-field\r\n              hide-details\r\n              v-model=\"platformFee.admin_fee_rebate\"\r\n              label=\"Admin fee rebate\"\r\n            />\r\n            <v-select\r\n            clearable\r\n\r\n              :items=\"getReadableList('admin_fee_exclusions')\"\r\n              @change=\"convertToRealName('admin_fee_exclusions', $event)\"\r\n              :value=\"convertLongName('admin_fee_exclusions')\"\r\n              hide-details\r\n              label=\"Admin fee exclusions\"\r\n            />\r\n            <v-text-field\r\n              v-if=\"template == true\"\r\n              hide-details\r\n              v-model=\"platformFee.fee_group_order\"\r\n              label=\"Fee group order\"\r\n            />\r\n            <v-select\r\n            clearable\r\n\r\n              v-if=\"template == true\"\r\n              hide-details\r\n              :multiple=\"true\"\r\n              :items=\"AFSLList\"\r\n              item-value=\"id\"\r\n              item-text=\"name\"\r\n              v-model=\"platformFee.AFSL_limitation\"\r\n              label=\"AFSL Limitation\"\r\n            />\r\n          </v-card-text>\r\n            <v-card outlined tile class=\"ma-4\">\r\n              <v-row dense>\r\n                <v-col :cols=\"6\">\r\n                  <v-card-text class=\"pa-2\">\r\n                    Fee Caps\r\n                  </v-card-text>\r\n                </v-col>\r\n                <v-col :cols=\"3\">\r\n                  <v-card-text class=\"pa-2\">\r\n                    Minimum\r\n                  </v-card-text>\r\n\r\n                </v-col>\r\n                <v-col :cols=\"3\">\r\n                  <v-card-text class=\"pa-2\">\r\n                    Maximum\r\n                  </v-card-text>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row dense>\r\n                <v-col :cols=\"6\">\r\n                  <v-card-text class=\"pa-2\">\r\n                    Admin Fee\r\n                  </v-card-text>\r\n                </v-col>\r\n                <v-col :cols=\"3\">\r\n                  <v-text-field\r\n                    hide-details dense solo\r\n                    v-model=\"platformFee.minimum_admin_fee\"\r\n                  />\r\n                </v-col>\r\n                <v-col :cols=\"3\">\r\n                  <v-text-field\r\n                    hide-details dense solo\r\n                    v-model=\"platformFee.maximum_admin_fee\"\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row dense>\r\n                <v-col :cols=\"6\">\r\n                  <v-card-text class=\"pa-2\">\r\n                    Total Fees\r\n                  </v-card-text>\r\n                </v-col>\r\n                <v-col :cols=\"3\">\r\n                  <v-text-field\r\n                    hide-details dense solo\r\n                    v-model=\"platformFee.minimum_total_fee\"\r\n                  />\r\n                </v-col>\r\n                <v-col :cols=\"3\">\r\n                  <v-text-field\r\n                    hide-details dense solo\r\n                    v-model=\"platformFee.maximum_total_fee\"\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n            </v-card>\r\n\r\n            <v-btn type=\"submit\" color=\"primary\" class=\"ml-4\">\r\n              Update\r\n            </v-btn>\r\n        </v-card>\r\n      </v-col>\r\n      <v-col>\r\n        <v-card class=\"pa-4\">\r\n\r\n        <v-row\r\n          v-for=\"item in displayItems\"\r\n          :key=\"item[0].value\"\r\n          dense no-gutters>\r\n          <v-col :cols=\"descriptionCol(item)\">\r\n            <v-card outlined tile dense>\r\n              <v-card-text class=\"pa-2\" >\r\n                {{ item[0] }}\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n          <v-col v-if=\"item[2] != null || item[1] == 'sliding_admin_fee'\" :cols=\"3\">\r\n            <v-card outlined tile  v-if=\"item[2] != null\">\r\n                <v-text-field\r\n                  v-if=\"item[2] != null\"\r\n                  dense solo hide-details\r\n                  :value = \"getPercentage(item, platformFee)\"\r\n                  @input = \"setPercentage($event, item, platformFee)\"\r\n                  suffix=\"%\"\r\n                />\r\n\r\n            </v-card>\r\n            <ModifyTierFees\r\n              v-if=\"item[1]=='sliding_admin_fee'\"\r\n              :platformFee=\"platformFee\"\r\n              :platform=\"platform\"\r\n            />\r\n          </v-col>\r\n          <v-col :cols=\"3\">\r\n            <v-card outlined tile dense>\r\n                <v-currency-field\r\n                  v-if=\"item[2] != null\"\r\n                  dense solo hide-details\r\n                  v-model=\"platformFee[item[1]]\"\r\n                  prefix=\"$\"\r\n                />\r\n                <v-currency-field\r\n                  v-else-if=\"item[1] != 'sliding_admin_fee'\"\r\n                  dense solo hide-details\r\n                  v-model=\"platformFee[item[1]]\"\r\n                  prefix=\"$\"\r\n                />\r\n                <v-currency-field\r\n                  v-else\r\n                  dense solo hide-details\r\n                  v-model=\"platformFee[item[1]]\"\r\n                  prefix=\"$\"\r\n                />\r\n              </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-form>\r\n</v-container>\r\n\r\n</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport ModifyTierFees from \"@/components/ModifyTierFees.vue\";\r\n\r\nexport default {\r\n  name: \"PlatformFeeSummary\",\r\n  inject: {\r\n    platformId: { default: null },\r\n    scenarioId: { default: null },\r\n  },\r\n  props: {\r\n    platformFee: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    platform: {\r\n      type: Number,\r\n      required: false,\r\n    },\r\n    template: {\r\n      type: Boolean,\r\n      required: false,\r\n    }\r\n  },\r\n  components: {\r\n    ModifyTierFees,\r\n  },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      AFSLList: [],\r\n      displayItems: [\r\n          [\"Sliding admin fee\",\"sliding_admin_fee\",null],\r\n          [\"Administration fee (flat)\",\"admin_fee_dollar\", null],\r\n          [\"Administration fee (floating)\",\"admin_fee_percentage_calculated\", \"admin_fee_percentage\"],\r\n          [\"Expense recovery fee (flat)\",\"expense_recovery_dollar\", null],\r\n          [\"Expense recovery fee (floating)\", \"expense_recovery_percentage_calculated\", \"expense_recovery_percentage\"],\r\n          [\"ORR Levy\", \"ORR_levy_calculated\", \"ORR_levy\"],\r\n          [\"Fund accounting fee (flat)\", \"fund_accounting_fee_dollar\", null],\r\n          [\"Fund accounting fee (floating)\",\"fund_accounting_fee_percentage_calculated\",\"fund_accounting_fee_percentage\"],\r\n          [\"Trustee fee\",\"trustee_fee_calculated\", \"trustee_fee\"],\r\n          [\"Issuer fee\", \"issuer_fee_calculated\", \"issuer_fee\"],\r\n          [\"SMA admin fee\", \"sma_admin_fee\", null],\r\n        ],\r\n        displayAdminItems: [\r\n          //format is [\"field name\", \"friendly name\", \"editable by\", \"type\", \"tooltip\"]\r\n          [\"fee_group_order\",\"Fee group order\",\"admin\",\"number\",null],\r\n          [\"admin_fee_structure\", \"Admin fee structure\",\"admin\",\"list\", null],\r\n          [\"admin_fee_rebate\", \"Admin fee rebate\", \"admin\", \"number\", null],\r\n          [\"minimum_admin_fee\", \"Minimum admin fee\", \"admin\", \"number\", null],\r\n          [\"maximum_admin_fee\", \"Maximum admin fee\", \"admin\", \"number\", null],\r\n          [\"minimum_total_fee\", \"Minimum total fee\", \"admin\", \"number\", null],\r\n          [\"maximum_total_fee\", \"Maximum total fee\", \"admin\", \"number\", null],\r\n          [\"admin_fee_exclusions\", \"Admin fee exclusions\", \"admin\", \"list\", null],\r\n        ],\r\n    };\r\n  },\r\n  computed: {\r\n    selectPlatformID: function() {\r\n      if (this.platform == null) {\r\n        return this.platformId;\r\n      } else {\r\n        return this.platform.id;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    descriptionCol(item) {\r\n      if (item[2] != null || item[1] == 'sliding_admin_fee') {\r\n        return 6\r\n      } else {\r\n        return 9\r\n      }\r\n    },\r\n    getReadableList(item){\r\n      let list = this.platformFee[this.joinList(item)];\r\n      let cleanList = [];\r\n      for (let i=0; i<list.length; i++) {\r\n        cleanList.push(list[i][1]);\r\n      }\r\n      return cleanList\r\n    },\r\n    convertLongName(item){\r\n      let list = this.platformFee[this.joinList(item)];\r\n      let realName = \"\";\r\n      for (let i=0; i<list.length; i++) {\r\n        if (this.platformFee[item] == list[i][0]) {\r\n          realName = list[i][1];\r\n        }\r\n      }\r\n      return realName;\r\n    },\r\n    convertToRealName(item, event){\r\n      if (event == undefined) {\r\n        this.platformFee[item] = \"\"\r\n      } else {\r\n      let list = this.platformFee[this.joinList(item)];\r\n        let realName = \"\";\r\n        for (let i=0; i<list.length; i++) {\r\n          if (event == list[i][1]) {\r\n            realName = list[i][0];\r\n            this.platformFee[item] = realName;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    joinList(item){\r\n      return item.concat(\"_list\");\r\n    },\r\n    filteredItems(feeItem){\r\n      if (this.expandFees) {\r\n        return this.displayItems;\r\n      } else {\r\n        return this.displayItems.filter(i => feeItem[i[1]] > 0);\r\n      };\r\n    },\r\n    setPercentage(event, item, fee) {\r\n      this.platformFee[item[1]] = event / 100 * fee.platform_fee_total;\r\n      this.platformFee[item[2]] = event / 100;\r\n    },\r\n    getPercentage(item, fee) {\r\n      return (fee[item[2]]*100)\r\n    },\r\n    getAFSLList(){\r\n      if (this.template==true)  {\r\n        let endpoint = `/api/afsls/`;\r\n        apiService(endpoint, \"GET\").then(data => {\r\n          this.AFSLList = data.results;\r\n        });\r\n      };\r\n    },\r\n    onSubmit() {\r\n      let endpoint = null;\r\n      if (this.template===true) {\r\n        endpoint = `/api/platformtemplates/${this.platform.id}/fees/${this.platformFee.id}/`\r\n      } else {\r\n        endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.selectPlatformID}/platformfees/${this.platformFee.id}/`;\r\n      }\r\n      apiService(endpoint, \"PATCH\", this.platformFee).then(data => {\r\n        this.$emit(\"modify-fees\", data);\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getAFSLList();\r\n  }\r\n};\r\n</script>\r\n"]}]}