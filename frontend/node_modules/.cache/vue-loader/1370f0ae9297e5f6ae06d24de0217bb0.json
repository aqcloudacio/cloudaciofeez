{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentDetail.vue","mtime":1589349854191},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KaW1wb3J0IEludmVzdG1lbnRBQUNoYXJ0U3VtbWFyeSBmcm9tICJAL2NvbXBvbmVudHMvSW52ZXN0bWVudEFBQ2hhcnRTdW1tYXJ5LnZ1ZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkludmVzdG1lbnREZXRhaWwiLA0KICBpbmplY3Q6IHsNCiAgICBwbGF0Zm9ybUlkOiB7IGRlZmF1bHQ6IG51bGwgfSwNCiAgICBzY2VuYXJpb0lkOiB7IGRlZmF1bHQ6IG51bGwgfSwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBpbnZlc3RtZW50OiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBpZDogbnVsbCwNCiAgICAgICAgICBjdXN0b21fbmFtZTogbnVsbCwNCiAgICAgICAgICBpbnZlc3RtZW50X2NsYXNzOiBudWxsLA0KICAgICAgICAgIGFtb3VudDogbnVsbCwNCiAgICAgICAgICBpbnZlc3RtZW50X2ZlZTogbnVsbCwNCiAgICAgICAgICBidXlfc3ByZWFkOiBudWxsLA0KICAgICAgICAgIHNlbGxfc3ByZWFkOiBudWxsLA0KICAgICAgICAgIGNhc2g6IGZhbHNlLA0KICAgICAgICAgIFREOiBmYWxzZSwNCiAgICAgICAgICBhYTogbnVsbCwNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICB9LA0KICAgIHRlbXBsYXRlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlDQogICAgfSwNCiAgICBSUEFBTmFtZXM6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9LA0KICAgIGludmVzdG1lbnRDbGFzc0xpc3Q6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9LA0KICAgIGludmVzdG1lbnROYW1lczogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICByZXF1aXJlZDogZmFsc2UNCiAgICB9LA0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgSW52ZXN0bWVudEFBQ2hhcnRTdW1tYXJ5LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBlcnJvcjogbnVsbCwNCiAgICAgIGRpYWxvZzogZmFsc2UsDQogICAgICBwbGF0Zm9ybXM6IG51bGwsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBpbnY6IHsNCiAgICAgIGdldCgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuaW52ZXN0bWVudA0KICAgICAgfSwNCiAgICAgIHNldChuZXdJbnZlc3RtZW50KSB7DQogICAgICAgIHJldHVybiBuZXdJbnZlc3RtZW50DQogICAgICB9DQogICAgfSwNCiAgICBuYW1lU2V0OiBmdW5jdGlvbiAoKXsNCiAgICAgIGxldCBBQU5hbWVMaXN0ID0gW107DQogICAgICBsZXQgY2hlY2tMaXN0ID0gW10NCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5SUEFBTmFtZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7DQogICAgICAgIGxldCBhYU5hbWUgPSB0aGlzLlJQQUFOYW1lc1tpXTsNCiAgICAgICAgICBpZiAoY2hlY2tMaXN0LmluY2x1ZGVzKGFhTmFtZS5jdXN0b21fbmFtZSkpIHsNCiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKCFmb3VuZCkgew0KICAgICAgICAgICAgbGV0IG5ld0FBID0ge307DQogICAgICAgICAgICBuZXdBQVthYU5hbWUuaWRdID0gYWFOYW1lLmN1c3RvbV9uYW1lOw0KICAgICAgICAgICAgbmV3QUEubmFtZSA9IGFhTmFtZS5uYW1lOw0KICAgICAgICAgICAgQUFOYW1lTGlzdC5wdXNoKG5ld0FBKTsNCiAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7DQogICAgICAgICAgICBjaGVja0xpc3QucHVzaChhYU5hbWUuY3VzdG9tX25hbWUpOw0KICAgICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiAoQUFOYW1lTGlzdCkNCiAgICB9LA0KDQogIH0sDQogIHdhdGNoOiB7DQogICAgaW52OiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmdldEFBRGF0YSgpOw0KICAgICAgaWYgKHRoaXMudGVtcGxhdGUgPT0gdHJ1ZSkgew0KICAgICAgICB0aGlzLmludi50ZW1wbGF0ZSA9IHRydWU7DQogICAgICAgIHRoaXMuZ2V0UGxhdGZvcm1MaXN0KCk7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2V0QUFQZXJjZW50YWdlKGV2ZW50LCBhYU5hbWUsIGludikgew0KICAgICAgY29uc3QgYWFJRCA9IE51bWJlcihPYmplY3Qua2V5cyhhYU5hbWUpWzBdKTsNCiAgICAgIGxldCBmb3VuZCA9IGZhbHNlOw0KICAgICAgZm9yIChsZXQgaT0wOyBpIDwgdGhpcy5pbnYuYWEubGVuZ3RoOyBpKyspew0KICAgICAgICBmb3VuZCA9IGZhbHNlOw0KICAgICAgICBsZXQgcnAgPSBudWxsOw0KICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5pbnYuYWFbaV0ubmFtZSkubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgcnAgPSB0aGlzLmludi5hYVtpXS5ycF9uYW1lX2lkOw0KICAgICAgICAgIGlmIChycCA9PSBhYUlEKSB7DQogICAgICAgICAgICB0aGlzLmludi5hYVtpXS5wZXJjZW50YWdlID0gZXZlbnQvMTAwOw0KICAgICAgICAgICAgZm91bmQgPSB0cnVlOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJwID0gdGhpcy5pbnYuYWFbaV0ubmFtZS5ycF9hYW5hbWVfbGluazsNCiAgICAgICAgICBpZiAocnAuaW5jbHVkZXMoYWFJRCkpIHsNCiAgICAgICAgICAgIHRoaXMuaW52LmFhW2ldLnBlcmNlbnRhZ2UgPSBldmVudC8xMDA7DQogICAgICAgICAgICBsZXQgbnVtTGlua3MgPSBycC5sZW5ndGg7DQogICAgICAgICAgICB0aGlzLmludi5hYVtpXS5ycF9hYV9wZXJjZW50YWdlID0gZXZlbnQvMTAwL251bUxpbmtzOw0KICAgICAgICAgICAgZm91bmQgPSB0cnVlOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoIWZvdW5kKSB7DQogICAgICAgIGxldCBuZXdBbGxvY2F0aW9uID0ge30NCiAgICAgICAgbmV3QWxsb2NhdGlvbi5uYW1lID0ge30NCiAgICAgICAgbmV3QWxsb2NhdGlvbi5ycF9uYW1lX2lkID0gYWFJRDsNCiAgICAgICAgbmV3QWxsb2NhdGlvbi5wZXJjZW50YWdlID0gZXZlbnQvMTAwOw0KICAgICAgICBuZXdBbGxvY2F0aW9uLmludmVzdG1lbnQgPSBpbnYuaWQ7DQogICAgICAgIG5ld0FsbG9jYXRpb24uaWQgPSBudWxsOw0KICAgICAgICB0aGlzLmludi5hYS5wdXNoKG5ld0FsbG9jYXRpb24pOw0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0QUFQZXJjZW50YWdlKGFhTmFtZSwgaW52KSB7DQogICAgICBsZXQgcGVyY2VudGFnZSA9IDANCiAgICAgIGlmICh0aGlzLmludi5hYSkgew0KICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBpbnYuYWEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBsZXQgcnAgPSBudWxsOw0KICAgICAgICAgIGNvbnN0IGFhID0gTnVtYmVyKE9iamVjdC5rZXlzKGFhTmFtZSlbMF0pOw0KICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmludi5hYVtpXS5uYW1lKS5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgIHJwID0gdGhpcy5pbnYuYWFbaV0ucnBfbmFtZV9pZDsNCiAgICAgICAgICAgIGlmIChycCA9PSBhYSkgew0KICAgICAgICAgICAgICBwZXJjZW50YWdlICs9IE51bWJlcihpbnYuYWFbaV0ucGVyY2VudGFnZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJwID0gdGhpcy5pbnYuYWFbaV0ubmFtZS5ycF9hYW5hbWVfbGluazsNCiAgICAgICAgICAgIGlmIChycC5pbmNsdWRlcyhhYSkpIHsNCiAgICAgICAgICAgICAgcGVyY2VudGFnZSArPSBOdW1iZXIoaW52LmFhW2ldLnBlcmNlbnRhZ2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfTsNCiAgICAgIHJldHVybiArKHBlcmNlbnRhZ2UqMTAwKS50b0ZpeGVkKDIpDQogICAgfSwNCiAgICBnZXRBQURhdGEoKSB7DQogICAgICBpZiAodGhpcy5pbnYuaWQgIT0gbnVsbCkgew0KICAgICAgICBsZXQgZW5kcG9pbnQgPSBudWxsOw0KICAgICAgICBpZiAodGhpcy50ZW1wbGF0ZSA9PSBmYWxzZSkgew0KICAgICAgICAgIGVuZHBvaW50ID0gYC9hcGkvc2NlbmFyaW9zLyR7dGhpcy5zY2VuYXJpb0lkfS9wbGF0Zm9ybXMvJHt0aGlzLnBsYXRmb3JtSWR9L2ludmVzdG1lbnRzLyR7dGhpcy5pbnYuaWR9L2FhL2A7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgZW5kcG9pbnQgPSBgL2FwaS9pbnZlc3RtZW50dGVtcGxhdGUvJHt0aGlzLmludi5pZH0vYWEvYDsNCiAgICAgICAgfQ0KICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuaW52LCAnYWEnLCBkYXRhLnJlc3VsdHMpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIG9uU3VibWl0KCkgew0KICAgICAgaWYgKHRoaXMudGVtcGxhdGUgPT0gZmFsc2UpIHsNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5pbnYpOw0KICAgICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9zY2VuYXJpb3MvJHt0aGlzLnNjZW5hcmlvSWR9L3BsYXRmb3Jtcy8ke3RoaXMucGxhdGZvcm1JZH0vaW52ZXN0bWVudHMvJHt0aGlzLmludi5pZH0vYDsNCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBBVENIIiwgdGhpcy5pbnYpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgdGhpcy5hZGRBQShkYXRhLmlkKTsNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9pbnZlc3RtZW50dGVtcGxhdGUvJHt0aGlzLmludi5pZH0vYDsNCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBBVENIIiwgdGhpcy5pbnYpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgdGhpcy5hZGRBQShkYXRhLmlkKTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBhZGRBQShpZCkgew0KICAgICAgaWYgKHRoaXMuaW52LmFhKSB7DQogICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHRoaXMuaW52LmFhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgaWYgKHRoaXMubmV3QUEodGhpcy5pbnYuYWFbaV0pKSB7DQogICAgICAgICAgICBsZXQgZW5kcG9pbnQgPSAiIg0KICAgICAgICAgICAgaWYgKHRoaXMudGVtcGxhdGU9PWZhbHNlKSB7DQogICAgICAgICAgICAgIGVuZHBvaW50ID1gL2FwaS9zY2VuYXJpb3MvJHt0aGlzLnNjZW5hcmlvSWR9L3BsYXRmb3Jtcy8ke3RoaXMucGxhdGZvcm1JZH0vaW52ZXN0bWVudHMvJHt0aGlzLmludi5pZH0vYWEvJHt0aGlzLmludi5hYVtpXS5pZH0vYDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGVuZHBvaW50ID1gL2FwaS9pbnZlc3RtZW50dGVtcGxhdGUvJHt0aGlzLmludi5pZH0vYWEvJHt0aGlzLmludi5hYVtpXS5pZH0vYDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIHsNCiAgICAgICAgICAgICAgbmFtZV9pZDogdGhpcy5pbnYuYWFbaV0ubmFtZS5pZCwNCiAgICAgICAgICAgICAgcnBfbmFtZV9pZDogdGhpcy5pbnYuYWFbaV0ucnBfbmFtZV9pZCwNCiAgICAgICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5pbnYuYWFbaV0ucGVyY2VudGFnZSwNCiAgICAgICAgICAgIH0pLnRoZW4oDQogICAgICAgICAgICAgIHRoaXMuZ2V0QUFEYXRhKCkNCiAgICAgICAgICAgICkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbGV0IGVuZHBvaW50ID0gIiINCiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBsYXRlPT1mYWxzZSkgew0KICAgICAgICAgICAgICBlbmRwb2ludCA9YC9hcGkvc2NlbmFyaW9zLyR7dGhpcy5zY2VuYXJpb0lkfS9wbGF0Zm9ybXMvJHt0aGlzLnBsYXRmb3JtSWR9L2ludmVzdG1lbnRzLyR7dGhpcy5pbnYuaWR9L2FhL2A7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBlbmRwb2ludCA9YC9hcGkvaW52ZXN0bWVudHRlbXBsYXRlLyR7dGhpcy5pbnYuaWR9L2FhL2A7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUE9TVCIsIHsNCiAgICAgICAgICAgICAgbmFtZV9pZDogbnVsbCwNCiAgICAgICAgICAgICAgcnBfbmFtZV9pZDogdGhpcy5pbnYuYWFbaV0ucnBfbmFtZV9pZCwNCiAgICAgICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5pbnYuYWFbaV0ucGVyY2VudGFnZSwNCiAgICAgICAgICAgICAgaW52ZXN0bWVudDogaWQNCiAgICAgICAgICAgIH0pLnRoZW4oDQogICAgICAgICAgICAgIHRoaXMuZ2V0QUFEYXRhKCkNCiAgICAgICAgICAgICk7DQogICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLiRlbWl0KCJhZGQtaW52ZXN0bWVudCIsdGhpcy5pbnYpOw0KICAgICAgfQ0KDQogICAgfSwNCiAgICBuZXdBQShhYSkgew0KICAgICAgaWYgKGFhLm5hbWUucnBfYWFuYW1lX2xpbmspIHsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfSwNCiAgICBnZXRQbGF0Zm9ybUxpc3QoKSB7DQogICAgICBpZiAodGhpcy50ZW1wbGF0ZSA9PSB0cnVlKSB7DQogICAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3BsYXRmb3JtbmFtZXMvYDsNCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIkdFVCIpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgdGhpcy5wbGF0Zm9ybXMgPSBkYXRhLnJlc3VsdHM7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgY3VzdG9tT3JGdWxsKCkgew0KICAgICAgaWYgKHRoaXMuaW52LmN1c3RvbV9uYW1lICE9ICIiKSB7DQogICAgICAgIHJldHVybiB0aGlzLmludi5jdXN0b21fbmFtZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuaW52Lm5hbWUubmFtZQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldEFBRGF0YSgpOw0KICAgIHRoaXMuZ2V0UGxhdGZvcm1MaXN0KCk7DQogIH0NCn07DQo="},{"version":3,"sources":["InvestmentDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InvestmentDetail.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n\r\n  <v-form @submit.prevent=\"onSubmit\">\r\n    <v-container>\r\n      <v-row>\r\n        <v-col>\r\n          <v-card class=\"pa-4\">\r\n            <v-row>\r\n              <v-col v-if=\"template==true\">\r\n                <v-autocomplete\r\n                  v-model=\"inv.name\"\r\n                  :items=\"investmentNames\"\r\n                  :return-object=\"true\"\r\n                  item-text=\"name\"\r\n                  dense\r\n                  label=\"Investment Name\"/>\r\n              </v-col>\r\n              <v-col v-if=\"template==false\">\r\n                <v-text-field\r\n                  :value=\"customOrFull()\"\r\n                  @input=\"inv.custom_name = $event\"\r\n                  dense\r\n                  label=\"Investment Name\"/>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <v-text-field\r\n                  v-if=\"template==false\"\r\n                  label=\"Amount\"\r\n                  dense\r\n                  type=\"number\"\r\n                  v-model=\"inv.amount\" />\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox v-model=\"inv.cash\" label=\"Cash Account\"></v-checkbox>\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox v-model=\"inv.TD\" label=\"Term Deposit\"></v-checkbox>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <v-autocomplete\r\n                    :value=\"inv.investment_class\"\r\n                    @input=\"(inv.investment_class = $event) && (inv.investment_class_id = $event)\"\r\n                    :items=\"investmentClassList\"\r\n                    item-text=\"name\"\r\n                    item-value=\"id\"\r\n                    dense\r\n                    label=\"Select an investment class\"/>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Investment fee\"\r\n                  dense\r\n                  type=\"number\"\r\n                  :value=\"inv.investment_fee\"\r\n                  @change=\"inv._investment_fee = $event\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Buy spread\"\r\n                  dense\r\n                  type=\"number\"\r\n                  v-model=\"inv.buy_spread\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Sell spread\"\r\n                  dense\r\n                  type=\"number\"\r\n                  v-model=\"inv.sell_spread\" />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"template==true\">\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"APIR Code\"\r\n                  dense\r\n                  v-model=\"inv.APIR_code\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"ASX Code\"\r\n                  dense\r\n                  v-model=\"inv.ASX_code\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Other Code\"\r\n                  dense\r\n                  v-model=\"inv.other_code\" />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"template==true\">\r\n                <v-col>\r\n                  <v-autocomplete\r\n                    label=\"Platform Limitation\"\r\n                    dense\r\n                    v-model=\"inv.platform_limitation\"\r\n                    :items=\"platforms\"\r\n                    item-text=\"name\"\r\n                    item-value=\"id\"\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n\r\n            <v-btn type=\"submit\" color=\"primary\">Save</v-btn>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col>\r\n          <InvestmentAAChartSummary\r\n            :RPAANames=\"RPAANames\"\r\n            :AASummary=\"investment.aa\"\r\n            :amount=\"investment.amount\"\r\n          />\r\n          <v-card>\r\n              <v-row\r\n                class=\"ma-2\"\r\n                v-for=\"aaName in nameSet\"\r\n                :key=\"Object.values(aaName)[0]\"\r\n                dense>\r\n                <v-col>\r\n                    {{Object.values(aaName)[0]}}\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  dense\r\n                  :value = \"getAAPercentage(aaName,inv)\"\r\n                  @input = \"setAAPercentage($event, aaName, inv)\"\r\n                    hide-details />\r\n\r\n                </v-col>\r\n              </v-row>\r\n            </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport InvestmentAAChartSummary from \"@/components/InvestmentAAChartSummary.vue\";\r\n\r\nexport default {\r\n  name: \"InvestmentDetail\",\r\n  inject: {\r\n    platformId: { default: null },\r\n    scenarioId: { default: null },\r\n  },\r\n  props: {\r\n    investment: {\r\n      type: Object,\r\n      required: false,\r\n      default: function() {\r\n        return {\r\n          id: null,\r\n          custom_name: null,\r\n          investment_class: null,\r\n          amount: null,\r\n          investment_fee: null,\r\n          buy_spread: null,\r\n          sell_spread: null,\r\n          cash: false,\r\n          TD: false,\r\n          aa: null,\r\n        }\r\n      },\r\n    },\r\n    template: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    RPAANames: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    investmentClassList: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    investmentNames: {\r\n      type: Array,\r\n      required: false\r\n    },\r\n  },\r\n  components: {\r\n    InvestmentAAChartSummary,\r\n  },\r\n  data() {\r\n    return {\r\n      error: null,\r\n      dialog: false,\r\n      platforms: null,\r\n    };\r\n  },\r\n  computed: {\r\n    inv: {\r\n      get() {\r\n        return this.investment\r\n      },\r\n      set(newInvestment) {\r\n        return newInvestment\r\n      }\r\n    },\r\n    nameSet: function (){\r\n      let AANameList = [];\r\n      let checkList = []\r\n      for (let i = 0; i < this.RPAANames.length; i++) {\r\n        let found = false;\r\n        let aaName = this.RPAANames[i];\r\n          if (checkList.includes(aaName.custom_name)) {\r\n            found = true;\r\n          }\r\n          if (!found) {\r\n            let newAA = {};\r\n            newAA[aaName.id] = aaName.custom_name;\r\n            newAA.name = aaName.name;\r\n            AANameList.push(newAA);\r\n            found = false;\r\n            checkList.push(aaName.custom_name);\r\n          }\r\n      }\r\n      return (AANameList)\r\n    },\r\n\r\n  },\r\n  watch: {\r\n    inv: function () {\r\n      this.getAAData();\r\n      if (this.template == true) {\r\n        this.inv.template = true;\r\n        this.getPlatformList();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    setAAPercentage(event, aaName, inv) {\r\n      const aaID = Number(Object.keys(aaName)[0]);\r\n      let found = false;\r\n      for (let i=0; i < this.inv.aa.length; i++){\r\n        found = false;\r\n        let rp = null;\r\n        if (Object.keys(this.inv.aa[i].name).length === 0) {\r\n          rp = this.inv.aa[i].rp_name_id;\r\n          if (rp == aaID) {\r\n            this.inv.aa[i].percentage = event/100;\r\n            found = true;\r\n            break;\r\n          }\r\n        } else {\r\n          rp = this.inv.aa[i].name.rp_aaname_link;\r\n          if (rp.includes(aaID)) {\r\n            this.inv.aa[i].percentage = event/100;\r\n            let numLinks = rp.length;\r\n            this.inv.aa[i].rp_aa_percentage = event/100/numLinks;\r\n            found = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if (!found) {\r\n        let newAllocation = {}\r\n        newAllocation.name = {}\r\n        newAllocation.rp_name_id = aaID;\r\n        newAllocation.percentage = event/100;\r\n        newAllocation.investment = inv.id;\r\n        newAllocation.id = null;\r\n        this.inv.aa.push(newAllocation);\r\n      }\r\n    },\r\n    getAAPercentage(aaName, inv) {\r\n      let percentage = 0\r\n      if (this.inv.aa) {\r\n        for (let i=0; i < inv.aa.length; i++) {\r\n          let rp = null;\r\n          const aa = Number(Object.keys(aaName)[0]);\r\n          if (Object.keys(this.inv.aa[i].name).length === 0) {\r\n            rp = this.inv.aa[i].rp_name_id;\r\n            if (rp == aa) {\r\n              percentage += Number(inv.aa[i].percentage);\r\n            }\r\n          } else {\r\n            rp = this.inv.aa[i].name.rp_aaname_link;\r\n            if (rp.includes(aa)) {\r\n              percentage += Number(inv.aa[i].percentage);\r\n            }\r\n          }\r\n        }\r\n      };\r\n      return +(percentage*100).toFixed(2)\r\n    },\r\n    getAAData() {\r\n      if (this.inv.id != null) {\r\n        let endpoint = null;\r\n        if (this.template == false) {\r\n          endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/aa/`;\r\n        } else {\r\n          endpoint = `/api/investmenttemplate/${this.inv.id}/aa/`;\r\n        }\r\n        apiService(endpoint).then(data => {\r\n            this.$set(this.inv, 'aa', data.results);\r\n        });\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (this.template == false) {\r\n        console.log(this.inv);\r\n        let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/`;\r\n        apiService(endpoint, \"PATCH\", this.inv).then(data => {\r\n          console.log(data);\r\n          this.addAA(data.id);\r\n        });\r\n      } else {\r\n        let endpoint = `/api/investmenttemplate/${this.inv.id}/`;\r\n        apiService(endpoint, \"PATCH\", this.inv).then(data => {\r\n          this.addAA(data.id);\r\n        });\r\n      }\r\n    },\r\n    addAA(id) {\r\n      if (this.inv.aa) {\r\n        for (let i=0; i < this.inv.aa.length; i++) {\r\n          if (this.newAA(this.inv.aa[i])) {\r\n            let endpoint = \"\"\r\n            if (this.template==false) {\r\n              endpoint =`/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/aa/${this.inv.aa[i].id}/`;\r\n            } else {\r\n              endpoint =`/api/investmenttemplate/${this.inv.id}/aa/${this.inv.aa[i].id}/`;\r\n            }\r\n            apiService(endpoint, \"PATCH\", {\r\n              name_id: this.inv.aa[i].name.id,\r\n              rp_name_id: this.inv.aa[i].rp_name_id,\r\n              percentage: this.inv.aa[i].percentage,\r\n            }).then(\r\n              this.getAAData()\r\n            )\r\n          } else {\r\n            let endpoint = \"\"\r\n            if (this.template==false) {\r\n              endpoint =`/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/aa/`;\r\n            } else {\r\n              endpoint =`/api/investmenttemplate/${this.inv.id}/aa/`;\r\n            }\r\n            apiService(endpoint, \"POST\", {\r\n              name_id: null,\r\n              rp_name_id: this.inv.aa[i].rp_name_id,\r\n              percentage: this.inv.aa[i].percentage,\r\n              investment: id\r\n            }).then(\r\n              this.getAAData()\r\n            );\r\n          }\r\n        };\r\n        this.dialog = false;\r\n        this.$emit(\"add-investment\",this.inv);\r\n      }\r\n\r\n    },\r\n    newAA(aa) {\r\n      if (aa.name.rp_aaname_link) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    getPlatformList() {\r\n      if (this.template == true) {\r\n        let endpoint = `/api/platformnames/`;\r\n        apiService(endpoint, \"GET\").then(data => {\r\n          this.platforms = data.results;\r\n        });\r\n      }\r\n    },\r\n    customOrFull() {\r\n      if (this.inv.custom_name != \"\") {\r\n        return this.inv.custom_name\r\n      } else {\r\n        return this.inv.name.name\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getAAData();\r\n    this.getPlatformList();\r\n  }\r\n};\r\n</script>\r\n"]}]}