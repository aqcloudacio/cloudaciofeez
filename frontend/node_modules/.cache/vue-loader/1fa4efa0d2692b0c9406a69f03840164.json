{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue","mtime":1587107119960},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFwaVNlcnZpY2UgfSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZSI7CmltcG9ydCBTY2VuYXJpb1N1bW1hcnkgZnJvbSAiQC9jb21wb25lbnRzL1NjZW5hcmlvU3VtbWFyeS52dWUiOwppbXBvcnQgQWRkU2NlbmFyaW8gZnJvbSAiQC9jb21wb25lbnRzL0FkZFNjZW5hcmlvLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImhvbWUiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzY2VuYXJpb3M6IFtdLAogICAgICBuZXh0OiBudWxsLAogICAgICBsb2FkaW5nU2NlbmFyaW9zOiBmYWxzZSwKICAgICAgcmVxdWVzdFVzZXI6IG51bGwsCiAgICAgIG9iamVjdFRvRGVsZXRlOiBudWxsLAogICAgICB1c2VyRGV0YWlsOiBudWxsLAogICAgICByaXNrUHJvZmlsZXM6IFtdLAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEFkZFNjZW5hcmlvLAogICAgU2NlbmFyaW9TdW1tYXJ5CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRSZXF1ZXN0VXNlcigpIHsKICAgICAgdGhpcy5yZXF1ZXN0VXNlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW1haWwiKTsKICAgIH0sCiAgICBnZXRTY2VuYXJpb3MoKSB7CiAgICAgIGxldCBlbmRwb2ludCA9ICIvYXBpL3NjZW5hcmlvcy8iOwogICAgICBpZiAodGhpcy5uZXh0KSB7CiAgICAgICAgZW5kcG9pbnQgPSB0aGlzLm5leHQ7CiAgICAgIH0KICAgICAgdGhpcy5sb2FkaW5nU2NlbmFyaW9zID0gdHJ1ZTsKICAgICAgYXBpU2VydmljZShlbmRwb2ludCkudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLnNjZW5hcmlvcyA9IGRhdGEucmVzdWx0czsKICAgICAgICB0aGlzLmxvYWRpbmdTY2VuYXJpb3MgPSBmYWxzZTsKICAgICAgICBpZiAoZGF0YS5uZXh0KSB7CiAgICAgICAgICB0aGlzLm5leHQgPSBkYXRhLm5leHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRVc2VyRGF0YSgpIHsKICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvdXNlci9gOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGRhdGEgPT4gewogICAgICAgIHRoaXMudXNlckRldGFpbCA9IGRhdGE7CiAgICAgICAgdGhpcy5nZXRSaXNrUHJvZmlsZXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Umlza1Byb2ZpbGVzKCkgewogICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9yaXNrcHJvZmlsZWdyb3Vwcy8ke3RoaXMudXNlckRldGFpbC5hY3RpdmVfcnB9L3Jpc2twcm9maWxlcy9gOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGRhdGEgPT4gewogICAgICAgIHRoaXMucmlza1Byb2ZpbGVzID0gZGF0YS5yZXN1bHRzOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRTY2VuYXJpbyhuZXdTY2VuYXJpbykgewogICAgICB0aGlzLnNjZW5hcmlvcy51bnNoaWZ0KG5ld1NjZW5hcmlvKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zZXRSZXF1ZXN0VXNlcigpOwogICAgdGhpcy5nZXRTY2VuYXJpb3MoKTsKICAgIHRoaXMuZ2V0VXNlckRhdGEoKTsKICAgIGRvY3VtZW50LnRpdGxlID0gIkZlZXoiOwogIH0KfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container>\n    <AddScenario\n      :requestUser=\"requestUser\"\n      :riskProfiles=\"riskProfiles\"\n      @add-scenario=\"addScenario\" />\n    <v-spacer><br>\n    </v-spacer>\n    <ScenarioSummary\n      :scenarios=\"scenarios\"\n      :riskProfiles=\"riskProfiles\"/>\n  </v-container>\n</template>\n\n<script>\nimport { apiService } from \"@/common/api.service\";\nimport ScenarioSummary from \"@/components/ScenarioSummary.vue\";\nimport AddScenario from \"@/components/AddScenario.vue\";\n\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      scenarios: [],\n      next: null,\n      loadingScenarios: false,\n      requestUser: null,\n      objectToDelete: null,\n      userDetail: null,\n      riskProfiles: [],\n    };\n  },\n  components: {\n    AddScenario,\n    ScenarioSummary\n  },\n  methods: {\n    setRequestUser() {\n      this.requestUser = window.localStorage.getItem(\"email\");\n    },\n    getScenarios() {\n      let endpoint = \"/api/scenarios/\";\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loadingScenarios = true;\n      apiService(endpoint).then(data => {\n        this.scenarios = data.results;\n        this.loadingScenarios = false;\n        if (data.next) {\n          this.next = data.next;\n        } else {\n          this.next = null;\n        }\n      });\n    },\n    getUserData() {\n      let endpoint = `/api/user/`;\n      apiService(endpoint).then(data => {\n        this.userDetail = data;\n        this.getRiskProfiles();\n      });\n    },\n    getRiskProfiles() {\n      let endpoint = `/api/riskprofilegroups/${this.userDetail.active_rp}/riskprofiles/`;\n      apiService(endpoint).then(data => {\n        this.riskProfiles = data.results;\n      });\n    },\n    addScenario(newScenario) {\n      this.scenarios.unshift(newScenario);\n    },\n  },\n  mounted() {\n    this.setRequestUser();\n    this.getScenarios();\n    this.getUserData();\n    document.title = \"Feez\";\n  }\n};\n</script>\n"]}]}