{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Rego.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Rego.vue","mtime":1605244720942},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgeyBydWxlRW1haWwsIHJ1bGVQYXNzd29yZCwgcnVsZVJlcXVpcmVkLCBydWxlTW9iaWxlIH0gZnJvbSAiQC9jb21wb25lbnRzL21peGlucy9SdWxlcy5qcyINCg0KaW1wb3J0IHsNCiAgVVNFUl9SRUdJU1RFUiwNCiAgVVNFUl9SRUdJU1RFUl9ERVRBSUxTLA0KIH0gZnJvbSAiQC9zdG9yZS9hY3Rpb25zLnR5cGUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJSZWdvIiwNCiAgbWl4aW5zOiBbcnVsZUVtYWlsLCBydWxlUGFzc3dvcmQsIHJ1bGVSZXF1aXJlZCwgcnVsZU1vYmlsZV0sDQogIHByb3BzOiB7DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGVtYWlsOiBudWxsLA0KICAgICAgcGhvbmU6IG51bGwsDQogICAgICBwYXNzd29yZDE6IG51bGwsDQogICAgICBwYXNzd29yZDI6IG51bGwsDQogICAgICBzaG93cHc6IGZhbHNlLA0KICAgICAgc3VjY2VzczogZmFsc2UsDQogICAgICBlcnJvcjogbnVsbCwNCiAgICAgIHN0ZXBwZXI6IDQsDQogICAgICBmaXJzdE5hbWU6IG51bGwsDQogICAgICBsYXN0TmFtZTogbnVsbCwNCiAgICAgIHJvbGU6IG51bGwsDQogICAgICByb2xlTGlzdDogWw0KICAgICAgICAiQWR2aXNlciIsDQogICAgICAgICJQcmFjdGljZSBNYW5hZ2VyIiwNCiAgICAgICAgIlBhcmFwbGFubmVyIiwNCiAgICAgICAgIkFkbWluaXN0cmF0b3IiLA0KICAgICAgICAiU3VwcG9ydCINCiAgICAgIF0sDQogICAgICBBRlNMTnVtYmVyOiBudWxsLA0KICAgICAgYXV0aFJlcE5vOiBudWxsLA0KICAgICAgdXNlcjogbnVsbCwNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsiYWN0aXZlVXNlciIsICJsb2dnZWRJbiJdKSwNCiAgICBzdWJtaXRUZXh0KCkgew0KICAgICAgaWYgKHRoaXMuc3RlcHBlciA9PT0gMykgew0KICAgICAgICByZXR1cm4gJ0ZpbmlzaCc7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gJ0NvbnRpbnVlJzsNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlcGVhdFBhc3N3b3JkKCkgew0KICAgICAgbGV0IHJldCA9IFt0aGlzLnBhc3N3b3JkMSA9PT0gdGhpcy5wYXNzd29yZDIgfHwgJ1Bhc3N3b3JkcyBtdXN0IG1hdGNoLiddOw0KICAgICAgcmV0LnB1c2goLi4udGhpcy4kcnVsZVBhc3N3b3JkKTsNCiAgICAgIHJldHVybiByZXQNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBibHVyQ29tYm9Cb3goKSB7DQogICAgICB0aGlzLiRyZWZzLmNvbWJvYm94LmJsdXIoKTsNCiAgICB9LA0KICAgIGJhY2tTdGVwKCkgew0KICAgICAgdGhpcy5zdGVwcGVyIC09IDE7DQogICAgfSwNCiAgICBuZXh0U3RlcCgpIHsNCiAgICAgIGNvbnN0IGZvcm0gPSAnZm9ybScrdGhpcy5zdGVwcGVyOw0KICAgICAgaWYgKHRoaXMuJHJlZnNbZm9ybV0udmFsaWRhdGUoKSkgew0KICAgICAgICBpZiAodGhpcy5zdGVwcGVyID09PSAxKSB7DQogICAgICAgICAgdGhpcy5jcmVhdGVBY2NvdW50KCk7DQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGVwcGVyID09PSAzKXsNCiAgICAgICAgICB0aGlzLnVwZGF0ZUFjY291bnQoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnN0ZXBwZXIgKz0gMTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlQWNjb3VudCgpIHsNCiAgICAgIHRoaXMubG9hZGluZyA9ICF0aGlzLmxvYWRpbmc7DQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChVU0VSX1JFR0lTVEVSLCB7DQogICAgICAgICdlbWFpbCc6IHRoaXMuZW1haWwsDQogICAgICAgICdwYXNzd29yZCc6IHRoaXMucGFzc3dvcmQxLA0KICAgICAgfSkudGhlbihkYXRhID0+IHsNCiAgICAgICAgdGhpcy51c2VyID0gZGF0YTsNCiAgICAgICAgdGhpcy5zdGVwcGVyICs9IDE7DQogICAgICAgIHRoaXMubG9hZGluZyA9ICF0aGlzLmxvYWRpbmc7DQogICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICB0aGlzLmVycm9yID0gdGhpcy5oYW5kbGVFcnIoZXJyKTsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gIXRoaXMubG9hZGluZzsNCiAgICAgIH0pDQogICAgfSwNCiAgICB1cGRhdGVBY2NvdW50KCkgew0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goVVNFUl9SRUdJU1RFUl9ERVRBSUxTLCB7DQogICAgICAgICdpZCc6IHRoaXMudXNlci51c2VyX2lkLA0KICAgICAgICAnZmlyc3RfbmFtZSc6IHRoaXMuZmlyc3ROYW1lLA0KICAgICAgICAnbGFzdF9uYW1lJzogdGhpcy5sYXN0TmFtZSwNCiAgICAgICAgJ3Bob25lJzogdGhpcy5waG9uZSwNCiAgICAgICAgJ3JvbGUnOiB0aGlzLnJvbGUsDQogICAgICAgICdsaW5rZWRfQVJOJzogdGhpcy5hdXRoUmVwTm8sDQogICAgICAgICdBRlNMJzogew0KICAgICAgICAgICdBRlNMX251bWJlcic6IHRoaXMuQUZTTE51bWJlcg0KICAgICAgICB9LA0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMuc3VjY2VzcyA9IHRydWU7DQogICAgICAgIHRoaXMuc3RlcHBlciArPSAxOw0KICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgdGhpcy5lcnJvciA9IHRoaXMuaGFuZGxlRXJyKGVycik7DQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlRXJyKGVycikgew0KICAgICAgaWYgKGVyci5kYXRhLmVtYWlsKSB7DQogICAgICAgIHJldHVybiBlcnIuZGF0YS5lbWFpbFswXTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBlcnIuZGF0YS5kZXRhaWw7DQogICAgICB9DQogICAgfSwNCiAgICBnb0xvZ2luKCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbG9naW4nIH0pDQogICAgfSwNCiAgICBjaGVja0xvZ2dlZEluKCkgew0KICAgICAgaWYgKHRoaXMubG9nZ2VkSW4pIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnaG9tZScgfSkNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuY2hlY2tMb2dnZWRJbigpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Rego.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiQA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Rego.vue","sourceRoot":"src/views","sourcesContent":["<template lang=\"html\">\r\n  <v-container\r\n  fluid\r\n    class=\"justify-center align-center flex d-flex\">\r\n    <v-card\r\n      width=\"570px\"\r\n      min-height=\"770px\"\r\n      class=\"pa-12 pb-4\">\r\n      <template v-if=\"!success\">\r\n        <v-img\r\n          src=\"http://127.0.0.1:8000/media/logo.PNG\"\r\n          position=\"center\"\r\n          width=\"300px\"\r\n          class=\"mx-auto\"\r\n          />\r\n        <!-- <v-card-subtitle\r\n          class=\"text-center\">\r\n          The King of Product Recommendations\r\n        </v-card-subtitle> -->\r\n        <v-card-title\r\n          class=\"justify-center\">\r\n          Create an Account\r\n        </v-card-title>\r\n        <v-stepper\r\n          alt-labels\r\n          v-model=\"stepper\">\r\n          <v-stepper-header>\r\n            <v-stepper-step\r\n              step=\"1\"\r\n              :complete=\"stepper > 1\"\r\n            >\r\n              Account\r\n            </v-stepper-step>\r\n            <v-divider></v-divider>\r\n            <v-stepper-step\r\n              step=\"2\"\r\n              :complete=\"stepper > 2\"\r\n            >\r\n              Personal\r\n            </v-stepper-step>\r\n            <v-divider></v-divider>\r\n            <v-stepper-step\r\n              step=\"3\"\r\n              :complete=\"stepper > 3\"\r\n              >\r\n              AFSL\r\n            </v-stepper-step>\r\n          </v-stepper-header>\r\n            <v-stepper-content step=\"1\">\r\n              <v-form ref=\"form1\">\r\n                <!-- <v-card-subtitle class=\"text-center\">\r\n                  So you know how to log in\r\n                </v-card-subtitle> -->\r\n                <v-text-field\r\n                  outlined\r\n                  class=\"mx-8 my-2\"\r\n                  v-model=\"email\"\r\n                  hide-details=\"auto\"\r\n                  :rules=\"$ruleEmail\"\r\n                  placeholder=\"Email address\"\r\n                  validate-on-blur\r\n                  autocomplete=\"email\"\r\n                />\r\n                <v-text-field\r\n                  outlined\r\n                  class=\"mx-8 mb-3\"\r\n                  v-model=\"password1\"\r\n                  hide-details=\"auto\"\r\n                  :rules=\"$rulePassword\"\r\n                  placeholder=\"Password\"\r\n                  :append-icon=\"showpw ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                  :type=\"showpw ? 'text' : 'password'\"\r\n                  @click:append=\"showpw = !showpw\"\r\n                  autocomplete=\"new-password\"\r\n                  validate-on-blur\r\n                />\r\n                <v-text-field\r\n                  outlined\r\n                  class=\"mx-8 mb-3\"\r\n                  v-model=\"password2\"\r\n                  hide-details=\"auto\"\r\n                  :rules=\"repeatPassword\"\r\n                  placeholder=\"Confirm password\"\r\n                  :append-icon=\"showpw ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                  :type=\"showpw ? 'text' : 'password'\"\r\n                  @click:append=\"showpw = !showpw\"\r\n                  autocomplete=\"new-password\"\r\n                  validate-on-blur\r\n                />\r\n              </v-form>\r\n            </v-stepper-content>\r\n\r\n            <v-stepper-content step=\"2\">\r\n              <v-form ref=\"form2\">\r\n                <!-- <v-card-subtitle class=\"text-center\">\r\n                  So we know who you are\r\n                </v-card-subtitle> -->\r\n                <v-text-field\r\n                  outlined\r\n                  class=\"mx-8 mb-3\"\r\n                  v-model=\"firstName\"\r\n                  hide-details=\"auto\"\r\n                  :rules=\"$ruleRequired\"\r\n                  placeholder=\"First name\"\r\n                  autocomplete=\"first-name\"\r\n                  validate-on-blur\r\n                />\r\n                <v-text-field\r\n                  outlined\r\n                  class=\"mx-8 mb-3\"\r\n                  v-model=\"lastName\"\r\n                  hide-details=\"auto\"\r\n                  :rules=\"$ruleRequired\"\r\n                  placeholder=\"Surname\"\r\n                  autocomplete=\"last-name\"\r\n                  validate-on-blur\r\n                />\r\n                <v-text-field\r\n                  outlined\r\n                  class=\"mx-8 my-2\"\r\n                  v-model=\"phone\"\r\n                  type=\"number\"\r\n                  hide-details=\"auto\"\r\n                  :rules=\"$ruleMobile\"\r\n                  placeholder=\"Mobile phone number\"\r\n                  validate-on-blur\r\n                >\r\n                <template v-slot:append>\r\n                  <v-tooltip right @click.stop>\r\n                    <template v-slot:activator=\"{ on }\">\r\n                      <v-icon v-on=\"on\">\r\n                        mdi-information\r\n                      </v-icon>\r\n                    </template>\r\n                    <span>\r\n                      In case you ever forget your password.\r\n                    </span>\r\n                  </v-tooltip>\r\n                </template>\r\n              </v-text-field>\r\n              <v-combobox\r\n                outlined\r\n                class=\"mx-8 my-2\"\r\n                placeholder=\"Practice Role\"\r\n                v-model=\"role\"\r\n                :items=\"roleList\"\r\n                ref=\"combobox\"\r\n                @keyup.space.prevent\r\n                @click.stop\r\n                hide-details=\"auto\"\r\n                @keyup.enter=\"blurComboBox()\">\r\n                <template v-slot:no-data>\r\n                  <v-list-item>\r\n                    <v-list-item-content>\r\n                      <v-list-item-title>\r\n                        Press <kbd>Enter</kbd> to create a custom role.\r\n                      </v-list-item-title>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                </template>\r\n              </v-combobox>\r\n            </v-form>\r\n          </v-stepper-content>\r\n\r\n          <v-stepper-content step=\"3\">\r\n            <v-form ref=\"form3\">\r\n              <v-card-subtitle class=\"text-center\">\r\n                Entering these details allows us to link your AFSL's <br>document themes and risk profiles.\r\n              </v-card-subtitle>\r\n              <v-text-field\r\n                outlined\r\n                class=\"mx-8 my-2\"\r\n                hide-details=\"auto\"\r\n                v-model=\"AFSLNumber\"\r\n                placeholder=\"AFSL Number\"\r\n                type=\"number\">\r\n              </v-text-field>\r\n              <v-text-field\r\n                outlined\r\n                class=\"mx-8 my-2\"\r\n                v-model=\"authRepNo\"\r\n                hint=\"If you are not an adviser, enter the ARN of the principal adviser\"\r\n                persistent-hint\r\n                hide-details=\"auto\"\r\n                placeholder=\"Authorised Rep Number\"\r\n                type=\"number\"\r\n              >\r\n              </v-text-field>\r\n            </v-form>\r\n          </v-stepper-content>\r\n          <template v-if=\"stepper===4\">\r\n            <v-container class=\"text-wrap\">\r\n              <v-card-title>\r\n                Welcome Aboard!\r\n              </v-card-title>\r\n              <v-card-text class=\"text-wrap\">\r\n                You have successfully created your ProductRex account.\r\n                <br><br>\r\n                By now, you should have received an email with instructions detailing how to activate your account.\r\n                <br><br>\r\n                Please check your inbox and follow the link in that email to get started.\r\n              </v-card-text>\r\n            </v-container>\r\n          </template>\r\n          <div class=\"text-center\">\r\n            <v-card-text v-if=\"error\" class=\"red--text\">{{_.capitalize(error)}}</v-card-text>\r\n          </div>\r\n          <v-card-actions>\r\n            <v-btn\r\n              v-if=\"4 < stepper > 1\"\r\n              @click=\"backStep()\"\r\n              color=\"secondary\"\r\n              width=\"50%\" text>\r\n              Back\r\n            </v-btn>\r\n            <v-btn\r\n              v-if=\"!loading && stepper != 4\"\r\n              @click=\"nextStep()\"\r\n              color=\"primary\"\r\n              :width=\"stepper > 1 ? '50%' : '100%'\" text\r\n              >\r\n              {{ submitText }}\r\n            </v-btn>\r\n            <template   v-if=\"loading\">\r\n              <v-container class=\"text-center\" width=\"100%\">\r\n                <v-progress-circular\r\n                  indeterminate\r\n                  color=\"primary\"\r\n                />\r\n                <v-btn\r\n                  text\r\n                  color=\"primary\"\r\n                >Creating Account...\r\n                </v-btn>\r\n              </v-container>\r\n            </template>\r\n          </v-card-actions>\r\n        </v-stepper>\r\n        <v-row justify=\"center\">\r\n          <v-col\r\n            class=\"mx-8\"\r\n            align=\"center\"\r\n          >\r\n\r\n            <v-card-text class=\"pb-2\">\r\n              Already have an account?        <v-btn color=\"primary\" @click=\"goLogin()\" text>\r\n                        Login\r\n                      </v-btn>\r\n            </v-card-text>\r\n          </v-col>\r\n        </v-row>\r\n      </template>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { ruleEmail, rulePassword, ruleRequired, ruleMobile } from \"@/components/mixins/Rules.js\"\r\n\r\nimport {\r\n  USER_REGISTER,\r\n  USER_REGISTER_DETAILS,\r\n } from \"@/store/actions.type\";\r\n\r\nexport default {\r\n  name: \"Rego\",\r\n  mixins: [ruleEmail, rulePassword, ruleRequired, ruleMobile],\r\n  props: {\r\n  },\r\n  data() {\r\n    return {\r\n      email: null,\r\n      phone: null,\r\n      password1: null,\r\n      password2: null,\r\n      showpw: false,\r\n      success: false,\r\n      error: null,\r\n      stepper: 4,\r\n      firstName: null,\r\n      lastName: null,\r\n      role: null,\r\n      roleList: [\r\n        \"Adviser\",\r\n        \"Practice Manager\",\r\n        \"Paraplanner\",\r\n        \"Administrator\",\r\n        \"Support\"\r\n      ],\r\n      AFSLNumber: null,\r\n      authRepNo: null,\r\n      user: null,\r\n      loading: false,\r\n    };\r\n  },\r\n  components: {\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"activeUser\", \"loggedIn\"]),\r\n    submitText() {\r\n      if (this.stepper === 3) {\r\n        return 'Finish';\r\n      } else {\r\n        return 'Continue';\r\n      }\r\n    },\r\n    repeatPassword() {\r\n      let ret = [this.password1 === this.password2 || 'Passwords must match.'];\r\n      ret.push(...this.$rulePassword);\r\n      return ret\r\n    }\r\n  },\r\n  methods: {\r\n    blurComboBox() {\r\n      this.$refs.combobox.blur();\r\n    },\r\n    backStep() {\r\n      this.stepper -= 1;\r\n    },\r\n    nextStep() {\r\n      const form = 'form'+this.stepper;\r\n      if (this.$refs[form].validate()) {\r\n        if (this.stepper === 1) {\r\n          this.createAccount();\r\n        } else if (this.stepper === 3){\r\n          this.updateAccount();\r\n        } else {\r\n          this.stepper += 1;\r\n        }\r\n      }\r\n    },\r\n    createAccount() {\r\n      this.loading = !this.loading;\r\n      this.$store.dispatch(USER_REGISTER, {\r\n        'email': this.email,\r\n        'password': this.password1,\r\n      }).then(data => {\r\n        this.user = data;\r\n        this.stepper += 1;\r\n        this.loading = !this.loading;\r\n      }).catch(err => {\r\n        this.error = this.handleErr(err);\r\n        this.loading = !this.loading;\r\n      })\r\n    },\r\n    updateAccount() {\r\n      this.$store.dispatch(USER_REGISTER_DETAILS, {\r\n        'id': this.user.user_id,\r\n        'first_name': this.firstName,\r\n        'last_name': this.lastName,\r\n        'phone': this.phone,\r\n        'role': this.role,\r\n        'linked_ARN': this.authRepNo,\r\n        'AFSL': {\r\n          'AFSL_number': this.AFSLNumber\r\n        },\r\n      }).then(() => {\r\n        this.success = true;\r\n        this.stepper += 1;\r\n      }).catch(err => {\r\n        this.error = this.handleErr(err);\r\n      })\r\n    },\r\n    handleErr(err) {\r\n      if (err.data.email) {\r\n        return err.data.email[0];\r\n      } else {\r\n        return err.data.detail;\r\n      }\r\n    },\r\n    goLogin() {\r\n      this.$router.push({ name: 'login' })\r\n    },\r\n    checkLoggedIn() {\r\n      if (this.loggedIn) {\r\n        this.$router.push({ name: 'home' })\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.checkLoggedIn();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n</style>\r\n"]}]}