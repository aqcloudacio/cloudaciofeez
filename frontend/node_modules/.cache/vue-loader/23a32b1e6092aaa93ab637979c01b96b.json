{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentDetail.vue","mtime":1597031109166},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KaW1wb3J0IEludmVzdG1lbnRBQUNoYXJ0U3VtbWFyeSBmcm9tICJAL2NvbXBvbmVudHMvSW52ZXN0bWVudEFBQ2hhcnRTdW1tYXJ5LnZ1ZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkludmVzdG1lbnREZXRhaWwiLA0KICBpbmplY3Q6IHsNCiAgICBwbGF0Zm9ybUlkOiB7IGRlZmF1bHQ6IG51bGwgfSwNCiAgICBzY2VuYXJpb0lkOiB7IGRlZmF1bHQ6IG51bGwgfSwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBpbnZlc3RtZW50OiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBpZDogbnVsbCwNCiAgICAgICAgICBjdXN0b21fbmFtZTogbnVsbCwNCiAgICAgICAgICBpbnZlc3RtZW50X2NsYXNzOiBudWxsLA0KICAgICAgICAgIGFtb3VudDogbnVsbCwNCiAgICAgICAgICBpbnZlc3RtZW50X2ZlZTogbnVsbCwNCiAgICAgICAgICBfaW52ZXN0bWVudF9mZWU6IG51bGwsDQogICAgICAgICAgYnV5X3NwcmVhZDogbnVsbCwNCiAgICAgICAgICBzZWxsX3NwcmVhZDogbnVsbCwNCiAgICAgICAgICBjYXNoOiBmYWxzZSwNCiAgICAgICAgICBURDogZmFsc2UsDQogICAgICAgICAgYWE6IG51bGwsDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgfSwNCiAgICB0ZW1wbGF0ZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZQ0KICAgIH0sDQogICAgUlBBQU5hbWVzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfSwNCiAgICBpbnZlc3RtZW50Q2xhc3NMaXN0OiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfSwNCiAgICBpbnZlc3RtZW50TmFtZXM6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlDQogICAgfSwNCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIEludmVzdG1lbnRBQUNoYXJ0U3VtbWFyeSwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZXJyb3I6IG51bGwsDQogICAgICBkaWFsb2c6IGZhbHNlLA0KICAgICAgcGxhdGZvcm1zOiBudWxsLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgaW52OiB7DQogICAgICBnZXQoKSB7DQogICAgICAgIHJldHVybiB0aGlzLmludmVzdG1lbnQNCiAgICAgIH0sDQogICAgICBzZXQobmV3SW52ZXN0bWVudCkgew0KICAgICAgICByZXR1cm4gbmV3SW52ZXN0bWVudA0KICAgICAgfQ0KICAgIH0sDQogICAgbmFtZVNldDogZnVuY3Rpb24gKCl7DQogICAgICBsZXQgQUFOYW1lTGlzdCA9IFtdOw0KICAgICAgbGV0IGNoZWNrTGlzdCA9IFtdDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuUlBBQU5hbWVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOw0KICAgICAgICBsZXQgYWFOYW1lID0gdGhpcy5SUEFBTmFtZXNbaV07DQogICAgICAgICAgaWYgKGNoZWNrTGlzdC5pbmNsdWRlcyhhYU5hbWUuY3VzdG9tX25hbWUpKSB7DQogICAgICAgICAgICBmb3VuZCA9IHRydWU7DQogICAgICAgICAgfQ0KICAgICAgICAgIGlmICghZm91bmQpIHsNCiAgICAgICAgICAgIGxldCBuZXdBQSA9IHt9Ow0KICAgICAgICAgICAgbmV3QUFbYWFOYW1lLmlkXSA9IGFhTmFtZS5jdXN0b21fbmFtZTsNCiAgICAgICAgICAgIG5ld0FBLm5hbWUgPSBhYU5hbWUubmFtZTsNCiAgICAgICAgICAgIEFBTmFtZUxpc3QucHVzaChuZXdBQSk7DQogICAgICAgICAgICBmb3VuZCA9IGZhbHNlOw0KICAgICAgICAgICAgY2hlY2tMaXN0LnB1c2goYWFOYW1lLmN1c3RvbV9uYW1lKTsNCiAgICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gKEFBTmFtZUxpc3QpDQogICAgfSwNCg0KICB9LA0KICB3YXRjaDogew0KICAgIGludjogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5nZXRBQURhdGEoKTsNCiAgICAgIGlmICh0aGlzLnRlbXBsYXRlID09IHRydWUpIHsNCiAgICAgICAgdGhpcy5pbnYudGVtcGxhdGUgPSB0cnVlOw0KICAgICAgICB0aGlzLmdldFBsYXRmb3JtTGlzdCgpOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNldEFBUGVyY2VudGFnZShldmVudCwgYWFOYW1lLCBpbnYpIHsNCiAgICAgIGNvbnN0IGFhSUQgPSBOdW1iZXIoT2JqZWN0LmtleXMoYWFOYW1lKVswXSk7DQogICAgICBsZXQgZm91bmQgPSBmYWxzZTsNCiAgICAgIGZvciAobGV0IGk9MDsgaSA8IHRoaXMuaW52LmFhLmxlbmd0aDsgaSsrKXsNCiAgICAgICAgZm91bmQgPSBmYWxzZTsNCiAgICAgICAgbGV0IHJwID0gbnVsbDsNCiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuaW52LmFhW2ldLm5hbWUpLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgIHJwID0gdGhpcy5pbnYuYWFbaV0ucnBfbmFtZV9pZDsNCiAgICAgICAgICBpZiAocnAgPT0gYWFJRCkgew0KICAgICAgICAgICAgdGhpcy5pbnYuYWFbaV0ucGVyY2VudGFnZSA9IGV2ZW50LzEwMDsNCiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBycCA9IHRoaXMuaW52LmFhW2ldLm5hbWUucnBfYWFuYW1lX2xpbms7DQogICAgICAgICAgaWYgKHJwLmluY2x1ZGVzKGFhSUQpKSB7DQogICAgICAgICAgICB0aGlzLmludi5hYVtpXS5wZXJjZW50YWdlID0gZXZlbnQvMTAwOw0KICAgICAgICAgICAgbGV0IG51bUxpbmtzID0gcnAubGVuZ3RoOw0KICAgICAgICAgICAgdGhpcy5pbnYuYWFbaV0ucnBfYWFfcGVyY2VudGFnZSA9IGV2ZW50LzEwMC9udW1MaW5rczsNCiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKCFmb3VuZCkgew0KICAgICAgICBsZXQgbmV3QWxsb2NhdGlvbiA9IHt9DQogICAgICAgIG5ld0FsbG9jYXRpb24ubmFtZSA9IHt9DQogICAgICAgIG5ld0FsbG9jYXRpb24ucnBfbmFtZV9pZCA9IGFhSUQ7DQogICAgICAgIG5ld0FsbG9jYXRpb24ucGVyY2VudGFnZSA9IGV2ZW50LzEwMDsNCiAgICAgICAgbmV3QWxsb2NhdGlvbi5pbnZlc3RtZW50ID0gaW52LmlkOw0KICAgICAgICBuZXdBbGxvY2F0aW9uLmlkID0gbnVsbDsNCiAgICAgICAgdGhpcy5pbnYuYWEucHVzaChuZXdBbGxvY2F0aW9uKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldEFBUGVyY2VudGFnZShhYU5hbWUsIGludikgew0KICAgICAgbGV0IHBlcmNlbnRhZ2UgPSAwDQogICAgICBpZiAodGhpcy5pbnYuYWEpIHsNCiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgaW52LmFhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgbGV0IHJwID0gbnVsbDsNCiAgICAgICAgICBjb25zdCBhYSA9IE51bWJlcihPYmplY3Qua2V5cyhhYU5hbWUpWzBdKTsNCiAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5pbnYuYWFbaV0ubmFtZSkubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICBycCA9IHRoaXMuaW52LmFhW2ldLnJwX25hbWVfaWQ7DQogICAgICAgICAgICBpZiAocnAgPT0gYWEpIHsNCiAgICAgICAgICAgICAgcGVyY2VudGFnZSArPSBOdW1iZXIoaW52LmFhW2ldLnBlcmNlbnRhZ2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBycCA9IHRoaXMuaW52LmFhW2ldLm5hbWUucnBfYWFuYW1lX2xpbms7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhycCkNCiAgICAgICAgICAgIGlmIChycC5pbmNsdWRlcyhhYSkpIHsNCiAgICAgICAgICAgICAgcGVyY2VudGFnZSArPSBOdW1iZXIoaW52LmFhW2ldLnBlcmNlbnRhZ2UpIC8gcnAubGVuZ3RoOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfTsNCiAgICAgIHJldHVybiArKHBlcmNlbnRhZ2UqMTAwKS50b0ZpeGVkKDIpDQogICAgfSwNCiAgICBzZXRQZXJjZW50YWdlKGV2ZW50LCBpbnYsIGZpZWxkKSB7DQogICAgICB0aGlzLmludltmaWVsZF0gPSAoZXZlbnQvMTAwKS50b0ZpeGVkKDYpOw0KICAgIH0sDQogICAgZ2V0UGVyY2VudGFnZShpbnYsIGZpZWxkKSB7DQogICAgICByZXR1cm4gKyh0aGlzLmludltmaWVsZF0qMTAwKS50b0ZpeGVkKDIpOw0KICAgIH0sDQogICAgZ2V0QUFEYXRhKCkgew0KICAgICAgaWYgKHRoaXMuaW52LmlkICE9IG51bGwpIHsNCiAgICAgICAgbGV0IGVuZHBvaW50ID0gbnVsbDsNCiAgICAgICAgaWYgKHRoaXMudGVtcGxhdGUgPT0gZmFsc2UpIHsNCiAgICAgICAgICBlbmRwb2ludCA9IGAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuc2NlbmFyaW9JZH0vcGxhdGZvcm1zLyR7dGhpcy5wbGF0Zm9ybUlkfS9pbnZlc3RtZW50cy8ke3RoaXMuaW52LmlkfS9hYS9gOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGVuZHBvaW50ID0gYC9hcGkvaW52ZXN0bWVudHRlbXBsYXRlLyR7dGhpcy5pbnYuaWR9L2FhL2A7DQogICAgICAgIH0NCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmludiwgJ2FhJywgZGF0YS5yZXN1bHRzKTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBvblN1Ym1pdCgpIHsNCiAgICAgIGlmICh0aGlzLnRlbXBsYXRlID09IGZhbHNlKSB7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW52KTsNCiAgICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvc2NlbmFyaW9zLyR7dGhpcy5zY2VuYXJpb0lkfS9wbGF0Zm9ybXMvJHt0aGlzLnBsYXRmb3JtSWR9L2ludmVzdG1lbnRzLyR7dGhpcy5pbnYuaWR9L2A7DQogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIHRoaXMuaW52KS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgIHRoaXMuYWRkQUEoZGF0YS5pZCk7DQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvaW52ZXN0bWVudHRlbXBsYXRlLyR7dGhpcy5pbnYuaWR9L2A7DQogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIHRoaXMuaW52KS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgIHRoaXMuYWRkQUEoZGF0YS5pZCk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkQUEoaWQpIHsNCiAgICAgIGlmICh0aGlzLmludi5hYSkgew0KICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCB0aGlzLmludi5hYS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGlmICh0aGlzLm5ld0FBKHRoaXMuaW52LmFhW2ldKSkgew0KICAgICAgICAgICAgbGV0IGVuZHBvaW50ID0gIiINCiAgICAgICAgICAgIGlmICh0aGlzLnRlbXBsYXRlPT1mYWxzZSkgew0KICAgICAgICAgICAgICBlbmRwb2ludCA9YC9hcGkvc2NlbmFyaW9zLyR7dGhpcy5zY2VuYXJpb0lkfS9wbGF0Zm9ybXMvJHt0aGlzLnBsYXRmb3JtSWR9L2ludmVzdG1lbnRzLyR7dGhpcy5pbnYuaWR9L2FhLyR7dGhpcy5pbnYuYWFbaV0uaWR9L2A7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBlbmRwb2ludCA9YC9hcGkvaW52ZXN0bWVudHRlbXBsYXRlLyR7dGhpcy5pbnYuaWR9L2FhLyR7dGhpcy5pbnYuYWFbaV0uaWR9L2A7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUEFUQ0giLCB7DQogICAgICAgICAgICAgIG5hbWVfaWQ6IHRoaXMuaW52LmFhW2ldLm5hbWUuaWQsDQogICAgICAgICAgICAgIHJwX25hbWVfaWQ6IHRoaXMuaW52LmFhW2ldLnJwX25hbWVfaWQsDQogICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMuaW52LmFhW2ldLnBlcmNlbnRhZ2UsDQogICAgICAgICAgICB9KS50aGVuKA0KICAgICAgICAgICAgICB0aGlzLmdldEFBRGF0YSgpDQogICAgICAgICAgICApDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGxldCBlbmRwb2ludCA9ICIiDQogICAgICAgICAgICBpZiAodGhpcy50ZW1wbGF0ZT09ZmFsc2UpIHsNCiAgICAgICAgICAgICAgZW5kcG9pbnQgPWAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuc2NlbmFyaW9JZH0vcGxhdGZvcm1zLyR7dGhpcy5wbGF0Zm9ybUlkfS9pbnZlc3RtZW50cy8ke3RoaXMuaW52LmlkfS9hYS9gOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgZW5kcG9pbnQgPWAvYXBpL2ludmVzdG1lbnR0ZW1wbGF0ZS8ke3RoaXMuaW52LmlkfS9hYS9gOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBPU1QiLCB7DQogICAgICAgICAgICAgIG5hbWVfaWQ6IG51bGwsDQogICAgICAgICAgICAgIHJwX25hbWVfaWQ6IHRoaXMuaW52LmFhW2ldLnJwX25hbWVfaWQsDQogICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMuaW52LmFhW2ldLnBlcmNlbnRhZ2UsDQogICAgICAgICAgICAgIGludmVzdG1lbnQ6IGlkDQogICAgICAgICAgICB9KS50aGVuKA0KICAgICAgICAgICAgICB0aGlzLmdldEFBRGF0YSgpDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsNCiAgICAgICAgdGhpcy4kZW1pdCgiYWRkLWludmVzdG1lbnQiLHRoaXMuaW52KTsNCiAgICAgIH0NCg0KICAgIH0sDQogICAgbmV3QUEoYWEpIHsNCiAgICAgIGlmIChhYS5uYW1lLnJwX2FhbmFtZV9saW5rKSB7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0UGxhdGZvcm1MaXN0KCkgew0KICAgICAgaWYgKHRoaXMudGVtcGxhdGUgPT0gdHJ1ZSkgew0KICAgICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9wbGF0Zm9ybW5hbWVzL2A7DQogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJHRVQiKS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgIHRoaXMucGxhdGZvcm1zID0gZGF0YS5yZXN1bHRzOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGN1c3RvbU9yRnVsbCgpIHsNCiAgICAgIGlmICh0aGlzLmludi5jdXN0b21fbmFtZSAhPSAiIikgew0KICAgICAgICByZXR1cm4gdGhpcy5pbnYuY3VzdG9tX25hbWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiB0aGlzLmludi5uYW1lLm5hbWUNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRBQURhdGEoKTsNCiAgICB0aGlzLmdldFBsYXRmb3JtTGlzdCgpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["InvestmentDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InvestmentDetail.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n\r\n  <v-form @submit.prevent=\"onSubmit\">\r\n    <v-container>\r\n      <v-row>\r\n        <v-col>\r\n          <v-card class=\"pa-4\">\r\n            <v-row>\r\n              <v-col v-if=\"template==true\">\r\n                <v-autocomplete\r\n                  v-model=\"inv.name\"\r\n                  :items=\"investmentNames\"\r\n                  :return-object=\"true\"\r\n                  item-text=\"name\"\r\n                  dense\r\n                  label=\"Investment Name\"/>\r\n              </v-col>\r\n              <v-col v-if=\"template==false\">\r\n                <v-text-field\r\n                  :value=\"customOrFull()\"\r\n                  @input=\"inv.custom_name = $event\"\r\n                  dense\r\n                  label=\"Investment Name\"/>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <v-text-field\r\n                  v-if=\"template==false\"\r\n                  label=\"Amount\"\r\n                  dense\r\n                  type=\"number\"\r\n                  v-model=\"inv.amount\" />\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox v-model=\"inv.cash\" label=\"Cash Account\"></v-checkbox>\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox v-model=\"inv.TD\" label=\"Term Deposit\"></v-checkbox>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <v-autocomplete\r\n                    :value=\"inv.investment_class\"\r\n                    @input=\"(inv.investment_class = $event) && (inv.investment_class_id = $event)\"\r\n                    :items=\"investmentClassList\"\r\n                    item-text=\"name\"\r\n                    item-value=\"id\"\r\n                    dense\r\n                    label=\"Select an investment class\"/>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Investment fee\"\r\n                  dense\r\n                  type=\"number\"\r\n                  suffix=\"%\"\r\n                  :value=\"getPercentage(inv, 'investment_fee')\"\r\n                  @change=\"setPercentage($event, inv, '_investment_fee')\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Buy spread\"\r\n                  dense\r\n                  type=\"number\"\r\n                  suffix=\"%\"\r\n                  :value=\"getPercentage(inv, 'buy_spread')\"\r\n                  @change=\"setPercentage($event, inv, 'buy_spread')\"\r\n                 />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Sell spread\"\r\n                  dense\r\n                  type=\"number\"\r\n                  suffix=\"%\"\r\n                  :value=\"getPercentage(inv, 'sell_spread')\"\r\n                  @change=\"setPercentage($event, inv, 'sell_spread')\" />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"template==true\">\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"APIR Code\"\r\n                  dense\r\n                  v-model=\"inv.APIR_code\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"ASX Code\"\r\n                  dense\r\n                  v-model=\"inv.ASX_code\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Other Code\"\r\n                  dense\r\n                  v-model=\"inv.other_code\" />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"template==true\">\r\n                <v-col>\r\n                  <v-autocomplete\r\n                    label=\"Platform Limitation\"\r\n                    dense\r\n                    v-model=\"inv.platform_limitation\"\r\n                    :items=\"platforms\"\r\n                    item-text=\"name\"\r\n                    item-value=\"id\"\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n\r\n            <v-btn type=\"submit\" color=\"primary\">Save</v-btn>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col>\r\n          <InvestmentAAChartSummary\r\n            v-if=\"!template\"\r\n            :RPAANames=\"RPAANames\"\r\n            :AASummary=\"investment.aa\"\r\n            :amount=\"investment.amount\"\r\n          />\r\n          <v-card>\r\n              <v-row\r\n                class=\"ma-2\"\r\n                v-for=\"aaName in nameSet\"\r\n                :key=\"Object.values(aaName)[0]\"\r\n                dense>\r\n                <v-col :cols=\"9\">\r\n                    {{Object.values(aaName)[0]}}\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  :cols=\"3\"\r\n                  dense\r\n                  suffix=\"%\"\r\n                  :value = \"getAAPercentage(aaName,inv)\"\r\n                  @input = \"setAAPercentage($event, aaName, inv)\"\r\n                    hide-details />\r\n\r\n                </v-col>\r\n              </v-row>\r\n            </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport InvestmentAAChartSummary from \"@/components/InvestmentAAChartSummary.vue\";\r\n\r\nexport default {\r\n  name: \"InvestmentDetail\",\r\n  inject: {\r\n    platformId: { default: null },\r\n    scenarioId: { default: null },\r\n  },\r\n  props: {\r\n    investment: {\r\n      type: Object,\r\n      required: false,\r\n      default: function() {\r\n        return {\r\n          id: null,\r\n          custom_name: null,\r\n          investment_class: null,\r\n          amount: null,\r\n          investment_fee: null,\r\n          _investment_fee: null,\r\n          buy_spread: null,\r\n          sell_spread: null,\r\n          cash: false,\r\n          TD: false,\r\n          aa: null,\r\n        }\r\n      },\r\n    },\r\n    template: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    RPAANames: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    investmentClassList: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    investmentNames: {\r\n      type: Array,\r\n      required: false\r\n    },\r\n  },\r\n  components: {\r\n    InvestmentAAChartSummary,\r\n  },\r\n  data() {\r\n    return {\r\n      error: null,\r\n      dialog: false,\r\n      platforms: null,\r\n    };\r\n  },\r\n  computed: {\r\n    inv: {\r\n      get() {\r\n        return this.investment\r\n      },\r\n      set(newInvestment) {\r\n        return newInvestment\r\n      }\r\n    },\r\n    nameSet: function (){\r\n      let AANameList = [];\r\n      let checkList = []\r\n      for (let i = 0; i < this.RPAANames.length; i++) {\r\n        let found = false;\r\n        let aaName = this.RPAANames[i];\r\n          if (checkList.includes(aaName.custom_name)) {\r\n            found = true;\r\n          }\r\n          if (!found) {\r\n            let newAA = {};\r\n            newAA[aaName.id] = aaName.custom_name;\r\n            newAA.name = aaName.name;\r\n            AANameList.push(newAA);\r\n            found = false;\r\n            checkList.push(aaName.custom_name);\r\n          }\r\n      }\r\n      return (AANameList)\r\n    },\r\n\r\n  },\r\n  watch: {\r\n    inv: function () {\r\n      this.getAAData();\r\n      if (this.template == true) {\r\n        this.inv.template = true;\r\n        this.getPlatformList();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    setAAPercentage(event, aaName, inv) {\r\n      const aaID = Number(Object.keys(aaName)[0]);\r\n      let found = false;\r\n      for (let i=0; i < this.inv.aa.length; i++){\r\n        found = false;\r\n        let rp = null;\r\n        if (Object.keys(this.inv.aa[i].name).length === 0) {\r\n          rp = this.inv.aa[i].rp_name_id;\r\n          if (rp == aaID) {\r\n            this.inv.aa[i].percentage = event/100;\r\n            found = true;\r\n            break;\r\n          }\r\n        } else {\r\n          rp = this.inv.aa[i].name.rp_aaname_link;\r\n          if (rp.includes(aaID)) {\r\n            this.inv.aa[i].percentage = event/100;\r\n            let numLinks = rp.length;\r\n            this.inv.aa[i].rp_aa_percentage = event/100/numLinks;\r\n            found = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if (!found) {\r\n        let newAllocation = {}\r\n        newAllocation.name = {}\r\n        newAllocation.rp_name_id = aaID;\r\n        newAllocation.percentage = event/100;\r\n        newAllocation.investment = inv.id;\r\n        newAllocation.id = null;\r\n        this.inv.aa.push(newAllocation);\r\n      }\r\n    },\r\n    getAAPercentage(aaName, inv) {\r\n      let percentage = 0\r\n      if (this.inv.aa) {\r\n        for (let i=0; i < inv.aa.length; i++) {\r\n          let rp = null;\r\n          const aa = Number(Object.keys(aaName)[0]);\r\n          if (Object.keys(this.inv.aa[i].name).length === 0) {\r\n            rp = this.inv.aa[i].rp_name_id;\r\n            if (rp == aa) {\r\n              percentage += Number(inv.aa[i].percentage);\r\n            }\r\n          } else {\r\n            rp = this.inv.aa[i].name.rp_aaname_link;\r\n            console.log(rp)\r\n            if (rp.includes(aa)) {\r\n              percentage += Number(inv.aa[i].percentage) / rp.length;\r\n            }\r\n          }\r\n        }\r\n      };\r\n      return +(percentage*100).toFixed(2)\r\n    },\r\n    setPercentage(event, inv, field) {\r\n      this.inv[field] = (event/100).toFixed(6);\r\n    },\r\n    getPercentage(inv, field) {\r\n      return +(this.inv[field]*100).toFixed(2);\r\n    },\r\n    getAAData() {\r\n      if (this.inv.id != null) {\r\n        let endpoint = null;\r\n        if (this.template == false) {\r\n          endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/aa/`;\r\n        } else {\r\n          endpoint = `/api/investmenttemplate/${this.inv.id}/aa/`;\r\n        }\r\n        apiService(endpoint).then(data => {\r\n            this.$set(this.inv, 'aa', data.results);\r\n        });\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (this.template == false) {\r\n        console.log(this.inv);\r\n        let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/`;\r\n        apiService(endpoint, \"PATCH\", this.inv).then(data => {\r\n          console.log(data);\r\n          this.addAA(data.id);\r\n        });\r\n      } else {\r\n        let endpoint = `/api/investmenttemplate/${this.inv.id}/`;\r\n        apiService(endpoint, \"PATCH\", this.inv).then(data => {\r\n          this.addAA(data.id);\r\n        });\r\n      }\r\n    },\r\n    addAA(id) {\r\n      if (this.inv.aa) {\r\n        for (let i=0; i < this.inv.aa.length; i++) {\r\n          if (this.newAA(this.inv.aa[i])) {\r\n            let endpoint = \"\"\r\n            if (this.template==false) {\r\n              endpoint =`/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/aa/${this.inv.aa[i].id}/`;\r\n            } else {\r\n              endpoint =`/api/investmenttemplate/${this.inv.id}/aa/${this.inv.aa[i].id}/`;\r\n            }\r\n            apiService(endpoint, \"PATCH\", {\r\n              name_id: this.inv.aa[i].name.id,\r\n              rp_name_id: this.inv.aa[i].rp_name_id,\r\n              percentage: this.inv.aa[i].percentage,\r\n            }).then(\r\n              this.getAAData()\r\n            )\r\n          } else {\r\n            let endpoint = \"\"\r\n            if (this.template==false) {\r\n              endpoint =`/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/aa/`;\r\n            } else {\r\n              endpoint =`/api/investmenttemplate/${this.inv.id}/aa/`;\r\n            }\r\n            apiService(endpoint, \"POST\", {\r\n              name_id: null,\r\n              rp_name_id: this.inv.aa[i].rp_name_id,\r\n              percentage: this.inv.aa[i].percentage,\r\n              investment: id\r\n            }).then(\r\n              this.getAAData()\r\n            );\r\n          }\r\n        };\r\n        this.dialog = false;\r\n        this.$emit(\"add-investment\",this.inv);\r\n      }\r\n\r\n    },\r\n    newAA(aa) {\r\n      if (aa.name.rp_aaname_link) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    getPlatformList() {\r\n      if (this.template == true) {\r\n        let endpoint = `/api/platformnames/`;\r\n        apiService(endpoint, \"GET\").then(data => {\r\n          this.platforms = data.results;\r\n        });\r\n      }\r\n    },\r\n    customOrFull() {\r\n      if (this.inv.custom_name != \"\") {\r\n        return this.inv.custom_name\r\n      } else {\r\n        return this.inv.name.name\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getAAData();\r\n    this.getPlatformList();\r\n  }\r\n};\r\n</script>\r\n"]}]}