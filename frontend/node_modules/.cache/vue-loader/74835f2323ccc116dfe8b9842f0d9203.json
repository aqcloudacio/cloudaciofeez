{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\AddInvestment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\AddInvestment.vue","mtime":1609993386975},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IHsNCiAgSU5WRVNUTUVOVE5BTUVfQUxMLA0KICBQTEFURk9STV9BQV9GRVRDSCwNCn0gZnJvbSAiQC9zdG9yZS9hY3Rpb25zLnR5cGUiOw0KaW1wb3J0IHtydWxlOERpZ2l0c30gZnJvbSAiQC9jb21wb25lbnRzL21peGlucy9SdWxlcy5qcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkFkZEludmVzdG1lbnQiLA0KICBtaXhpbnM6IFtydWxlOERpZ2l0cyxdLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzZWFyY2g6IG51bGwsDQogICAgICBuZXdJbnZlc3RtZW50OiBudWxsLA0KICAgICAgaW52ZXN0bWVudEFtb3VudDogbnVsbCwNCiAgICAgIGxpbmtlZEludmVzdG1lbnROYW1lczogW10sDQogICAgICBlcnJvcjogbnVsbCwNCiAgICAgIG5leHQ6IG51bGwsDQogICAgICBzZWxlY3RlZDogW10sDQogICAgICBpc1NhdmluZzogZmFsc2UsDQogICAgICBmaWx0ZXJJdGVtczogWw0KICAgICAgICB7bmFtZTogIlNob3cgYWxsIiwgc2VsZWN0ZWQ6IHRydWUsIGRpc2FibGVkOiBmYWxzZSwgaWQ6IDF9LA0KICAgICAgICB7bmFtZTogIlNob3cgZnVuZC1zcGVjaWZpYyBpbnZlc3RtZW50cyIsIHNlbGVjdGVkOiBmYWxzZSwgZGlzYWJsZWQ6IHRydWUsIGlkOiAyfSwNCiAgICAgICAge25hbWU6ICJTaG93IG1hbmFnZWQgZnVuZHMiLCBzZWxlY3RlZDogdHJ1ZSwgZGlzYWJsZWQ6IGZhbHNlLCBpZDogM30sDQogICAgICAgIHtuYW1lOiAiU2hvdyBtYW5hZ2VkIGFjY291bnRzIiwgc2VsZWN0ZWQ6IHRydWUsIGRpc2FibGVkOiBmYWxzZSwgaWQ6IDR9LA0KICAgICAgICB7bmFtZTogIlNob3cgbGlzdGVkIGludmVzdG1lbnRzIiwgc2VsZWN0ZWQ6IHRydWUsIGRpc2FibGVkOiBmYWxzZSwgaWQ6IDV9LA0KICAgICAgICB7bmFtZTogIlNob3cgb3RoZXIgYXNzZXRzIiwgc2VsZWN0ZWQ6IHRydWUsIGRpc2FibGVkOiBmYWxzZSwgaWQ6IDZ9LA0KICAgICAgXQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsiYWN0aXZlUGxhdGZvcm0iLCAiYWN0aXZlU2NlbmFyaW8iLCAiaW52ZXN0bWVudE5hbWVzIiwgImFkdmVydHMiXSksDQogICAgaXNEaXNhYmxlZCgpIHsNCiAgICAgIHJldHVybiB0aGlzLm5ld0ludmVzdG1lbnQgPT09IG51bGwgJiYgdGhpcy5zZWFyY2ggPT09IG51bGwNCiAgICB9LA0KICAgIHJlY09yQWx0KCkgew0KICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlUGxhdGZvcm0uc3RhdHVzID09PSAiUmVjb21tZW5kZWQiIHx8IHRoaXMuYWN0aXZlUGxhdGZvcm0uc3RhdHVzID09PSAiQWx0ZXJuYXRpdmUiDQogICAgfSwNCiAgICBzaG93U3BvbnNvcmVkSXRlbSgpIHsNCiAgICAgIHJldHVybiAoIXRoaXMuXy5pc0VtcHR5KHRoaXMuc3BvbnNvcmVkSXRlbSkgJiYgdGhpcy5yZWNPckFsdCAmJiAhdGhpcy5mdW5kU3BlY2lmaWNTaG93bikNCiAgICB9LA0KICAgIHNwb25zb3JlZEl0ZW0oKSB7DQogICAgICBsZXQgaXRlbSA9IFtdOw0KICAgICAgaWYgKHRoaXMuYWR2ZXJ0cykgew0KICAgICAgICBpdGVtID0gIHRoaXMuYWR2ZXJ0cy5maWx0ZXIoeCA9PiB4LnR5cGVfbmFtZSA9PT0gInN0YXJyZWRfaW52ZXN0bWVudCIpOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIGl0ZW1bMF0NCiAgICB9LA0KICAgIG5hbWVJZE9yTnVsbCgpIHsNCiAgICAgIGlmICh0aGlzLm5ld0ludmVzdG1lbnQuaWQgIT0gbnVsbCkgew0KICAgICAgICByZXR1cm4gdGhpcy5uZXdJbnZlc3RtZW50LmlkOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICB9DQogICAgfSwNCiAgICBjdXN0b21OYW1lKCkgew0KICAgICAgaWYgKHRoaXMubmV3SW52ZXN0bWVudC5pZCAhPSBudWxsKSB7DQogICAgICAgIHJldHVybiBudWxsDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gdGhpcy5uZXdJbnZlc3RtZW50Ow0KICAgICAgfQ0KICAgIH0sDQogICAgZnVuZFNwZWNpZmljU2hvd24oKSB7DQogICAgICByZXR1cm4gdGhpcy5maWx0ZXJJdGVtcy5maW5kKHggPT4geC5pZCA9PT0gMikuc2VsZWN0ZWQgPT09IHRydWUNCiAgICB9LA0KICAgIGZpbHRlcmVkTGlzdCgpIHsNCiAgICAgIC8vIGZpbHRlcnMgdGhlIHdob2xlIHVubGlua2VkIGludmVzdG1lbnQgbGlzdCBiYXNlZCBvbiB1c2VyIGlucHV0Lg0KICAgICAgbGV0IGxpc3QgPSBbXTsNCiAgICAgIGlmICh0aGlzLmZpbHRlckl0ZW1zLmZpbmQoeCA9PiB4LmlkID09PSAxKS5zZWxlY3RlZCA9PT0gdHJ1ZSkgew0KICAgICAgICBsaXN0LnB1c2goLi4udGhpcy5pbnZlc3RtZW50TmFtZXMpOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZmlsdGVySXRlbXMuZmluZCh4ID0+IHguaWQgPT09IDMpLnNlbGVjdGVkID09PSB0cnVlKSB7DQogICAgICAgIGxldCBmID0gdGhpcy5fLmZpbHRlcih0aGlzLmludmVzdG1lbnROYW1lcywge2ludmVzdG1lbnRfY2xhc3M6ICdNRid9KTsNCiAgICAgICAgbGlzdC5wdXNoKC4uLmYpOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZmlsdGVySXRlbXMuZmluZCh4ID0+IHguaWQgPT09IDQpLnNlbGVjdGVkID09PSB0cnVlKSB7DQogICAgICAgIGxldCBmID0gdGhpcy5fLmZpbHRlcih0aGlzLmludmVzdG1lbnROYW1lcywge2ludmVzdG1lbnRfY2xhc3M6ICdNQSd9KTsNCiAgICAgICAgbGlzdC5wdXNoKC4uLmYpOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZmlsdGVySXRlbXMuZmluZCh4ID0+IHguaWQgPT09IDUpLnNlbGVjdGVkID09PSB0cnVlKSB7DQogICAgICAgIGxldCBmID0gdGhpcy5fLmZpbHRlcih0aGlzLmludmVzdG1lbnROYW1lcywge2ludmVzdG1lbnRfY2xhc3M6ICdMSVNURUQnfSk7DQogICAgICAgIGxpc3QucHVzaCguLi5mKTsNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmZpbHRlckl0ZW1zLmZpbmQoeCA9PiB4LmlkID09PSA2KS5zZWxlY3RlZCA9PT0gdHJ1ZSkgew0KICAgICAgICBsZXQgZiA9IHRoaXMuXy5maWx0ZXIodGhpcy5pbnZlc3RtZW50TmFtZXMsIHtpbnZlc3RtZW50X2NsYXNzOiAnT1RIRVInfSk7DQogICAgICAgIGxpc3QucHVzaCguLi5mKTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBsaXN0DQogICAgfSwNCiAgICBpbnZlc3RtZW50TGlzdCgpIHsNCiAgICAgIC8vIGpvaW5zIHRoZSBsaW5rZWQgaW52ZXN0bWVudCBuYW1lcyAoaWYgYXBwbGljYWJsZSkgYW5kIHRoZSBmaWx0ZXJlZCBmdWxsDQogICAgICAvLyBpbnZlc3RtZW50IG5hbWUgbGlzdA0KICAgICAgbGV0IGZ1bGxMaXN0ID0gW107DQogICAgICBpZiAodGhpcy5maWx0ZXJJdGVtcy5maW5kKHggPT4geC5pZCA9PT0gMikuc2VsZWN0ZWQgPT09IHRydWUpIHsNCiAgICAgICAgZnVsbExpc3QucHVzaCguLi50aGlzLmxpbmtlZEludmVzdG1lbnROYW1lcyk7DQogICAgICB9DQogICAgICBpZiAodGhpcy5maWx0ZXJJdGVtcy5zb21lKHggPT4gKHguaWQgIT0gMikgJiYgKHguc2VsZWN0ZWQ9PT10cnVlKSkpIHsNCiAgICAgICAgZnVsbExpc3QucHVzaCguLi50aGlzLmZpbHRlcmVkTGlzdCk7DQogICAgICB9DQogICAgICByZXR1cm4gZnVsbExpc3QNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgYWN0aXZlUGxhdGZvcm0oKSB7DQogICAgICB0aGlzLnNldENoZWNrQm94ZXMoKTsNCiAgICAgIHRoaXMuZ2V0TGlua2VkSW52ZXN0bWVudE5hbWVzKCk7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2VsZWN0U3BvbnNvcmVkKCl7DQogICAgICB0aGlzLnNlYXJjaCA9IHRoaXMuc3BvbnNvcmVkSXRlbS5pbnZlc3RtZW50X25hbWU7DQogICAgICB0aGlzLm5ld0ludmVzdG1lbnQgPSBuZXcgT2JqZWN0KCk7DQogICAgICB0aGlzLm5ld0ludmVzdG1lbnRbJ25hbWUnXSA9IHRoaXMuc3BvbnNvcmVkSXRlbS5pbnZlc3RtZW50X25hbWU7DQogICAgICB0aGlzLm5ld0ludmVzdG1lbnRbJ2lkJ10gPSB0aGlzLnNwb25zb3JlZEl0ZW0uaW52ZXN0bWVudF90ZW1wbGF0ZTsNCiAgICAgIHRoaXMuJHJlZnMuY29tYm9ib3guaXNNZW51QWN0aXZlID0gZmFsc2U7DQogICAgfSwNCiAgICBnZXRJbnZlc3RtZW50QW1vdW50KGFtb3VudCl7DQogICAgICBpZiAoYW1vdW50KSB7DQogICAgICAgIHJldHVybiBhbW91bnQNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAwDQogICAgICB9DQogICAgfSwNCiAgICBmaWx0ZXJPYmplY3QoaXRlbSwgcXVlcnlUZXh0KSB7DQogICAgICAvLyBBbGxvd3Mgc2VhcmNoaW5nIGJ5IGNvZGUgYXMgd2VsbCBhcyBuYW1lDQogICAgICBpZiAoaXRlbSkgew0KICAgICAgICBjb25zdCB0ZXh0T25lID0gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkNCiAgICAgICAgY29uc3Qgc2VhcmNoVGV4dCA9IHF1ZXJ5VGV4dC50b0xvd2VyQ2FzZSgpDQoNCiAgICAgICAgaWYgKGl0ZW0uY29kZSkgew0KICAgICAgICAgIGNvbnN0IHRleHRUd28gPSBpdGVtLmNvZGUudG9Mb3dlckNhc2UoKQ0KICAgICAgICAgIHJldHVybiB0ZXh0T25lLmluZGV4T2Yoc2VhcmNoVGV4dCkgPiAtMSB8fA0KICAgICAgICAgICAgdGV4dFR3by5pbmRleE9mKHNlYXJjaFRleHQpID4gLTENCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gdGV4dE9uZS5pbmRleE9mKHNlYXJjaFRleHQpID4gLTENCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgbmFtZUFuZENvZGUoaXRlbSkgew0KICAgICAgcmV0dXJuIGl0ZW0ubmFtZSArIGl0ZW0uY29kZQ0KICAgIH0sDQogICAgc2V0U2VsZWN0ZWQoZXZlbnQsIGlkKSB7DQogICAgICAvLyBJZiAiU2hvdyBhbGwiIGlzIHNlbGVjdGVkLCBzaG93L2hpZGUgYWxsIGl0ZW1zIGV4Y2VwdCAiZnVuZC1zcGVjZmljIg0KICAgICAgaWYgKGlkID09PSAxKXsNCiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLmZpbHRlckl0ZW1zKSB7DQogICAgICAgICAgLy8gRG9uJ3QgYXV0b21hdGljYWxseSBzZWxlY3QvZGVzZWxlY3QgImZ1bmQtc3BlY2lmaWMiDQogICAgICAgICAgaWYgKGl0ZW0uaWQgIT0gMikgew0KICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGV2ZW50Ow0KICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQgaGFzIGxpbmtlZF9pbnZlc3RtZW50cyBmaXJzdA0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVQbGF0Zm9ybS5uYW1lICYmIHRoaXMuYWN0aXZlUGxhdGZvcm0ubmFtZS5saW5rZWRfaW52ZXN0bWVudHMpIHsNCiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBldmVudDsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gLy8gRWxzZSBpZiBhIGZpZWxkIGlzIGJlaW5nIGRlc2VsZWN0ZWQsIGNoYW5nZSB0aGUgcHJvcC4NCiAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSBmYWxzZSkgew0KICAgICAgICBsZXQgaWR4ID0gdGhpcy5maWx0ZXJJdGVtcy5maW5kSW5kZXgoeCA9PiB4LmlkID09PSAxKTsNCiAgICAgICAgdGhpcy5maWx0ZXJJdGVtc1tpZHhdLnNlbGVjdGVkID0gZmFsc2U7DQogICAgICB9DQogICAgfSwNCiAgICBzZXRDaGVja0JveGVzKCkgew0KICAgICAgLy8gQ2hlY2tzIGlmIHRoZSBhY3RpdmVQbGF0Zm9ybSBoYXMgbGlua2VkIGludmVzdG1lbnRzLiBJZiBpdCBkb2VzLA0KICAgICAgLy8gc2VsZWN0cyB0aGUgInNob3cgZnVuZCBzcGVjaWZpYyIgaXRlbSBhbmQgZGVzZWxlY3RzIHRoZSByZXN0Lg0KICAgICAgbGV0IGxpbmtlZEludklkeCA9IHRoaXMuZmlsdGVySXRlbXMuZmluZEluZGV4KHggPT4geC5pZCA9PT0gMik7DQogICAgICBpZiAodGhpcy5hY3RpdmVQbGF0Zm9ybS5uYW1lICYmIHRoaXMuYWN0aXZlUGxhdGZvcm0ubmFtZS5saW5rZWRfaW52ZXN0bWVudHMpIHsNCiAgICAgICAgdGhpcy5maWx0ZXJJdGVtc1tsaW5rZWRJbnZJZHhdLnNlbGVjdGVkID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5maWx0ZXJJdGVtc1tsaW5rZWRJbnZJZHhdLmRpc2FibGVkID0gZmFsc2U7DQogICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5maWx0ZXJJdGVtcykgew0KICAgICAgICAgIGlmIChpdGVtLmlkICE9IDIpIHsNCiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuc2V0U2VsZWN0ZWQodHJ1ZSwxKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldEludmVzdG1lbnROYW1lcygpIHsNCiAgICAgIGlmICh0aGlzLl8uaXNFbXB0eSh0aGlzLmludmVzdG1lbnROYW1lcykpIHsNCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goSU5WRVNUTUVOVE5BTUVfQUxMKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0TGlua2VkSW52ZXN0bWVudE5hbWVzKCkgew0KICAgICAgaWYgKHRoaXMuYWN0aXZlUGxhdGZvcm0ubmFtZSAmJiB0aGlzLmFjdGl2ZVBsYXRmb3JtLm5hbWUubGlua2VkX2ludmVzdG1lbnRzKSB7DQogICAgICAgIGxldCBlbmRwb2ludCA9ICcnDQogICAgICAgIGlmICh0aGlzLm5leHQgPT09IG51bGwpIHsNCiAgICAgICAgICBlbmRwb2ludCA9IGAvYXBpL3BsYXRmb3JtbmFtZXMvJHt0aGlzLmFjdGl2ZVBsYXRmb3JtLm5hbWUuaWR9L2ludmVzdG1lbnRuYW1lcy9gDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgZW5kcG9pbnQgPSB0aGlzLm5leHQ7DQogICAgICAgIH0NCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIkdFVCIpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgdGhpcy5saW5rZWRJbnZlc3RtZW50TmFtZXMucHVzaCguLi5kYXRhLnJlc3VsdHMpOw0KICAgICAgICAgIGlmIChkYXRhLm5leHQpIHsNCiAgICAgICAgICAgIHRoaXMubmV4dCA9IGRhdGEubmV4dDsNCiAgICAgICAgICAgIHRoaXMuZ2V0TGlua2VkSW52ZXN0bWVudE5hbWVzKCkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgZGVsYXlTdWJtaXQoKSB7DQogICAgICAvLyBSZXNvbHZlcyBhIHdlaXJkIGNvbWJvYm94IGJ1ZyB3aGVyZSBpdCBkb2VzIG5vdCB1cGRhdGUgcHJvcHMgdW50aWwgYmx1cg0KICAgICAgdGhpcy4kcmVmcy5jb21ib2JveC5ibHVyKCk7DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMub25TdWJtaXQoKTsNCiAgICAgIH0pDQogICAgfSwNCiAgICBvblN1Ym1pdCgpIHsNCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgew0KICAgICAgICB0aGlzLmlzU2F2aW5nID0gdHJ1ZTsNCiAgICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvc2NlbmFyaW9zLyR7dGhpcy5hY3RpdmVTY2VuYXJpby5pZH0vcGxhdGZvcm1zLyR7dGhpcy5hY3RpdmVQbGF0Zm9ybS5pZH0vaW52ZXN0bWVudHMvYDsNCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBPU1QiLCB7DQogICAgICAgICAgbmFtZV9pZDogdGhpcy5uYW1lSWRPck51bGwsDQogICAgICAgICAgaW52ZXN0bWVudF9jbGFzc19pZDogbnVsbCwNCiAgICAgICAgICBwbGF0Zm9ybTogdGhpcy5hY3RpdmVQbGF0Zm9ybS5pZCwNCiAgICAgICAgICBhbW91bnQ6IHRoaXMuZ2V0SW52ZXN0bWVudEFtb3VudCh0aGlzLmludmVzdG1lbnRBbW91bnQpLA0KICAgICAgICAgIGN1c3RvbV9uYW1lOiB0aGlzLmN1c3RvbU5hbWUsDQogICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgdGhpcy4kZW1pdCgiYWRkLWludmVzdG1lbnQiLCBkYXRhKTsNCiAgICAgICAgICB0aGlzLm5ld0ludmVzdG1lbnQgPSBudWxsOw0KICAgICAgICAgIHRoaXMuaW52ZXN0bWVudEFtb3VudCA9IG51bGw7DQogICAgICAgICAgdGhpcy5nZXRBY3RpdmVQbGF0Zm9ybUFBKCk7DQogICAgICAgICAgdGhpcy5pc1NhdmluZyA9IGZhbHNlOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldEFjdGl2ZVBsYXRmb3JtQUEoKSB7DQogICAgICAvLyBSZWZyZXNoZXMgdGhlIHBsYXRmb3JtIGFhIGNoYXJ0IHdoZW4gYW4gaW52ZXN0bWVudCBpcyBzYXZlZA0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goUExBVEZPUk1fQUFfRkVUQ0gsIHsNCiAgICAgICAgJ3NjZW5hcmlvSWQnOiB0aGlzLmFjdGl2ZVNjZW5hcmlvLmlkLA0KICAgICAgICAncGxhdGZvcm1JZCc6IHRoaXMuYWN0aXZlUGxhdGZvcm0uaWQsDQogICAgICB9KQ0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRJbnZlc3RtZW50TmFtZXMoKTsNCiAgICB0aGlzLnNldENoZWNrQm94ZXMoKTsNCiAgICB0aGlzLmdldExpbmtlZEludmVzdG1lbnROYW1lcygpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["AddInvestment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddInvestment.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n  <v-expansion-panel @click.stop class=\"py-0\">\r\n    <v-expansion-panel-header class=\"px-3 py-2\"  @click.stop expand-icon=\"mdi-plus\" disabled>\r\n      <v-form ref=\"form\">\r\n        <v-row class=\"ma-0\" @click.stop >\r\n          <v-col :cols=\"8\" class=\"py-0 pl-0\" @click.stop>\r\n            <v-combobox\r\n              solo dense\r\n              class=\"rounded-card small-text\"\r\n              v-model=\"newInvestment\"\r\n              :items=\"investmentList\"\r\n              @keyup.enter=\"$refs.combobox.blur()\"\r\n              ref=\"combobox\"\r\n              no-data-text=\"Create a custom investment\"\r\n              allow-overflow\r\n              @keyup.space.prevent\r\n              @click.stop\r\n              hide-details=\"auto\"\r\n              placeholder=\"Add an investment by typing its name\"\r\n              :search-input.sync=\"search\"\r\n              item-text=\"name\"\r\n              :filter=\"filterObject\"\r\n              :rules=\"[v => !!(v) || 'You must select an investment']\"\r\n              validate-on-blur>\r\n              <!-- <template v-slot:append-outer>\r\n                <v-menu\r\n                  top offset-y\r\n                  :close-on-content-click=\"false\">\r\n                  <template v-slot:activator=\"{ on }\">\r\n                    <v-icon\r\n                      color=\"teal\"\r\n                      @click.stop\r\n                      v-on=\"on\">\r\n                        mdi-sort\r\n                    </v-icon>\r\n                  </template>\r\n                  <v-list dense>\r\n                    <template v-for=\"(item, idx) in filterItems\">\r\n                      <v-list-item\r\n                        :key=\"item.id\"\r\n                        :disabled=\"item.disabled\">\r\n                        <v-checkbox\r\n                          dense\r\n                          class='mt-0'\r\n                          hide-details\r\n                          @change=\"setSelected($event, item.id)\"\r\n                          v-model=\"item.selected\"\r\n                        />\r\n                        <v-list-item-title class=\"mt-1\">\r\n                          {{ item.name }}\r\n                        </v-list-item-title>\r\n                      </v-list-item>\r\n                      <v-divider v-if=\"item.id===1\" :key=\"idx\" class=\"mx-4\"></v-divider>\r\n                    </template>\r\n                  </v-list>\r\n                </v-menu>\r\n              </template> -->\r\n              <template v-slot:prepend-item v-if=\"showSponsoredItem\">\r\n                <v-list-item @click=\"selectSponsored\">\r\n                  <v-tooltip left>\r\n                    <template v-slot:activator=\"{ on }\">\r\n                      <v-list-item-icon class=\"my-3 mr-2\"  v-on=\"on\">\r\n                        <v-icon color=\"yellow\">mdi-star</v-icon>\r\n                      </v-list-item-icon>\r\n                    </template>\r\n                    <span>Sponsored Product</span>\r\n                  </v-tooltip>\r\n                  <v-list-item-content>\r\n                    <v-list-item-title>{{sponsoredItem.investment_name}}</v-list-item-title>\r\n                  </v-list-item-content>\r\n                  <v-list-item-action class=\"ml-2 my-2\">\r\n                    <v-btn icon @click.stop :href=\"sponsoredItem.link\" target=\"_blank\">\r\n                      <v-icon color=\"grey lighten-1\">mdi-information</v-icon>\r\n                    </v-btn>\r\n                  </v-list-item-action>\r\n                </v-list-item>\r\n              </template>\r\n              <template v-slot:no-data>\r\n                <v-list-item>\r\n                  <v-list-item-content>\r\n                    <v-list-item-title>\r\n                      No investments match \"<strong>{{ search }}</strong>\". Press <kbd>enter</kbd> to create a custom investment.\r\n                    </v-list-item-title>\r\n                  </v-list-item-content>\r\n                </v-list-item>\r\n              </template>\r\n              <template v-slot:item='{ item }'>\r\n                <v-list-item-content class=\"pr-2\">\r\n                  <v-list-item-title v-text=\"item.name\"></v-list-item-title>\r\n                </v-list-item-content>\r\n                <v-spacer></v-spacer>\r\n                <v-chip v-if=\"item.code\" right outlined>\r\n                  {{ item.code }}\r\n                </v-chip>\r\n              </template>\r\n            </v-combobox>\r\n          </v-col>\r\n          <v-col :cols=\"4\" class=\"py-0 pl-0\">\r\n            <v-currency-field\r\n              style=\"color:grey\"\r\n              prefix=\"$\"\r\n              :decimal-length=\"0\"\r\n              placeholder=\"Amount\"\r\n              dense solo\r\n              class=\"rounded-card small-text\"\r\n              hide-details=\"auto\"\r\n              type=\"number\"\r\n              @keydown.space.prevent\r\n              @click.stop\r\n              v-model=\"investmentAmount\"\r\n              :rules=\"$rule8Digits\">\r\n              <template v-slot:append>\r\n                <v-slide-x-reverse-transition\r\n                   mode=\"out-in\"\r\n                   >\r\n                  <v-icon\r\n                    :key=\"`icon-${isSaving}`\"\r\n                    ref=\"submit\"\r\n                    @click=\"delaySubmit\"\r\n                    color=\"primary\"\r\n                    v-text=\"'mdi-plus-circle'\"\r\n                    :disabled=\"isDisabled\"\r\n                    >\r\n                  </v-icon>\r\n                </v-slide-x-reverse-transition>\r\n              </template>\r\n              <template v-slot:append-outer>\r\n\r\n                <v-menu\r\n                  top offset-y\r\n                  :close-on-content-click=\"false\">\r\n                  <template v-slot:activator=\"{ on }\">\r\n                    <v-icon\r\n                      color=\"grey\"\r\n                      @click.stop\r\n                      v-on=\"on\">\r\n                        mdi-sort\r\n                    </v-icon>\r\n                  </template>\r\n                  <v-list dense>\r\n                    <template v-for=\"(item, idx) in filterItems\">\r\n                      <v-list-item\r\n                        :key=\"item.id\"\r\n                        :disabled=\"item.disabled\">\r\n                        <v-checkbox\r\n                          dense\r\n                          class='mt-0'\r\n                          hide-details\r\n                          @change=\"setSelected($event, item.id)\"\r\n                          v-model=\"item.selected\"\r\n                        />\r\n                        <v-list-item-title class=\"mt-1\">\r\n                          {{ item.name }}\r\n                        </v-list-item-title>\r\n                      </v-list-item>\r\n                      <v-divider v-if=\"item.id===1\" :key=\"idx\" class=\"mx-4\"></v-divider>\r\n                    </template>\r\n                  </v-list>\r\n                </v-menu>\r\n              </template>\r\n            </v-currency-field>\r\n          </v-col>\r\n        </v-row>\r\n      </v-form>\r\n    </v-expansion-panel-header>\r\n  </v-expansion-panel>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport { mapGetters } from \"vuex\";\r\nimport {\r\n  INVESTMENTNAME_ALL,\r\n  PLATFORM_AA_FETCH,\r\n} from \"@/store/actions.type\";\r\nimport {rule8Digits} from \"@/components/mixins/Rules.js\";\r\n\r\nexport default {\r\n  name: \"AddInvestment\",\r\n  mixins: [rule8Digits,],\r\n  data() {\r\n    return {\r\n      search: null,\r\n      newInvestment: null,\r\n      investmentAmount: null,\r\n      linkedInvestmentNames: [],\r\n      error: null,\r\n      next: null,\r\n      selected: [],\r\n      isSaving: false,\r\n      filterItems: [\r\n        {name: \"Show all\", selected: true, disabled: false, id: 1},\r\n        {name: \"Show fund-specific investments\", selected: false, disabled: true, id: 2},\r\n        {name: \"Show managed funds\", selected: true, disabled: false, id: 3},\r\n        {name: \"Show managed accounts\", selected: true, disabled: false, id: 4},\r\n        {name: \"Show listed investments\", selected: true, disabled: false, id: 5},\r\n        {name: \"Show other assets\", selected: true, disabled: false, id: 6},\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"activePlatform\", \"activeScenario\", \"investmentNames\", \"adverts\"]),\r\n    isDisabled() {\r\n      return this.newInvestment === null && this.search === null\r\n    },\r\n    recOrAlt() {\r\n      return this.activePlatform.status === \"Recommended\" || this.activePlatform.status === \"Alternative\"\r\n    },\r\n    showSponsoredItem() {\r\n      return (!this._.isEmpty(this.sponsoredItem) && this.recOrAlt && !this.fundSpecificShown)\r\n    },\r\n    sponsoredItem() {\r\n      let item = [];\r\n      if (this.adverts) {\r\n        item =  this.adverts.filter(x => x.type_name === \"starred_investment\");\r\n      }\r\n      return item[0]\r\n    },\r\n    nameIdOrNull() {\r\n      if (this.newInvestment.id != null) {\r\n        return this.newInvestment.id;\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n    customName() {\r\n      if (this.newInvestment.id != null) {\r\n        return null\r\n      } else {\r\n        return this.newInvestment;\r\n      }\r\n    },\r\n    fundSpecificShown() {\r\n      return this.filterItems.find(x => x.id === 2).selected === true\r\n    },\r\n    filteredList() {\r\n      // filters the whole unlinked investment list based on user input.\r\n      let list = [];\r\n      if (this.filterItems.find(x => x.id === 1).selected === true) {\r\n        list.push(...this.investmentNames);\r\n      }\r\n      if (this.filterItems.find(x => x.id === 3).selected === true) {\r\n        let f = this._.filter(this.investmentNames, {investment_class: 'MF'});\r\n        list.push(...f);\r\n      }\r\n      if (this.filterItems.find(x => x.id === 4).selected === true) {\r\n        let f = this._.filter(this.investmentNames, {investment_class: 'MA'});\r\n        list.push(...f);\r\n      }\r\n      if (this.filterItems.find(x => x.id === 5).selected === true) {\r\n        let f = this._.filter(this.investmentNames, {investment_class: 'LISTED'});\r\n        list.push(...f);\r\n      }\r\n      if (this.filterItems.find(x => x.id === 6).selected === true) {\r\n        let f = this._.filter(this.investmentNames, {investment_class: 'OTHER'});\r\n        list.push(...f);\r\n      }\r\n      return list\r\n    },\r\n    investmentList() {\r\n      // joins the linked investment names (if applicable) and the filtered full\r\n      // investment name list\r\n      let fullList = [];\r\n      if (this.filterItems.find(x => x.id === 2).selected === true) {\r\n        fullList.push(...this.linkedInvestmentNames);\r\n      }\r\n      if (this.filterItems.some(x => (x.id != 2) && (x.selected===true))) {\r\n        fullList.push(...this.filteredList);\r\n      }\r\n      return fullList\r\n    }\r\n  },\r\n  watch: {\r\n    activePlatform() {\r\n      this.setCheckBoxes();\r\n      this.getLinkedInvestmentNames();\r\n    }\r\n  },\r\n  methods: {\r\n    selectSponsored(){\r\n      this.search = this.sponsoredItem.investment_name;\r\n      this.newInvestment = new Object();\r\n      this.newInvestment['name'] = this.sponsoredItem.investment_name;\r\n      this.newInvestment['id'] = this.sponsoredItem.investment_template;\r\n      this.$refs.combobox.isMenuActive = false;\r\n    },\r\n    getInvestmentAmount(amount){\r\n      if (amount) {\r\n        return amount\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    filterObject(item, queryText) {\r\n      // Allows searching by code as well as name\r\n      if (item) {\r\n        const textOne = item.name.toLowerCase()\r\n        const searchText = queryText.toLowerCase()\r\n\r\n        if (item.code) {\r\n          const textTwo = item.code.toLowerCase()\r\n          return textOne.indexOf(searchText) > -1 ||\r\n            textTwo.indexOf(searchText) > -1\r\n        } else {\r\n          return textOne.indexOf(searchText) > -1\r\n        }\r\n      }\r\n    },\r\n    nameAndCode(item) {\r\n      return item.name + item.code\r\n    },\r\n    setSelected(event, id) {\r\n      // If \"Show all\" is selected, show/hide all items except \"fund-specfic\"\r\n      if (id === 1){\r\n        for (let item of this.filterItems) {\r\n          // Don't automatically select/deselect \"fund-specific\"\r\n          if (item.id != 2) {\r\n            item.selected = event;\r\n            // Check if it has linked_investments first\r\n          } else if (this.activePlatform.name && this.activePlatform.name.linked_investments) {\r\n            item.selected = event;\r\n          }\r\n        }\r\n      } // Else if a field is being deselected, change the prop.\r\n      else if (event === false) {\r\n        let idx = this.filterItems.findIndex(x => x.id === 1);\r\n        this.filterItems[idx].selected = false;\r\n      }\r\n    },\r\n    setCheckBoxes() {\r\n      // Checks if the activePlatform has linked investments. If it does,\r\n      // selects the \"show fund specific\" item and deselects the rest.\r\n      let linkedInvIdx = this.filterItems.findIndex(x => x.id === 2);\r\n      if (this.activePlatform.name && this.activePlatform.name.linked_investments) {\r\n        this.filterItems[linkedInvIdx].selected = true;\r\n        this.filterItems[linkedInvIdx].disabled = false;\r\n        for (let item of this.filterItems) {\r\n          if (item.id != 2) {\r\n            item.selected = false;\r\n          }\r\n        }\r\n      } else {\r\n        this.setSelected(true,1);\r\n      }\r\n    },\r\n    getInvestmentNames() {\r\n      if (this._.isEmpty(this.investmentNames)) {\r\n        this.$store.dispatch(INVESTMENTNAME_ALL)\r\n      }\r\n    },\r\n    getLinkedInvestmentNames() {\r\n      if (this.activePlatform.name && this.activePlatform.name.linked_investments) {\r\n        let endpoint = ''\r\n        if (this.next === null) {\r\n          endpoint = `/api/platformnames/${this.activePlatform.name.id}/investmentnames/`\r\n        } else {\r\n          endpoint = this.next;\r\n        }\r\n        apiService(endpoint, \"GET\").then(data => {\r\n          this.linkedInvestmentNames.push(...data.results);\r\n          if (data.next) {\r\n            this.next = data.next;\r\n            this.getLinkedInvestmentNames()\r\n          } else {\r\n            this.next = null;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    delaySubmit() {\r\n      // Resolves a weird combobox bug where it does not update props until blur\r\n      this.$refs.combobox.blur();\r\n      this.$nextTick(() => {\r\n        this.onSubmit();\r\n      })\r\n    },\r\n    onSubmit() {\r\n      if (this.$refs.form.validate()) {\r\n        this.isSaving = true;\r\n        let endpoint = `/api/scenarios/${this.activeScenario.id}/platforms/${this.activePlatform.id}/investments/`;\r\n        apiService(endpoint, \"POST\", {\r\n          name_id: this.nameIdOrNull,\r\n          investment_class_id: null,\r\n          platform: this.activePlatform.id,\r\n          amount: this.getInvestmentAmount(this.investmentAmount),\r\n          custom_name: this.customName,\r\n        }).then(data => {\r\n          this.$emit(\"add-investment\", data);\r\n          this.newInvestment = null;\r\n          this.investmentAmount = null;\r\n          this.getActivePlatformAA();\r\n          this.isSaving = false;\r\n        });\r\n      }\r\n    },\r\n    getActivePlatformAA() {\r\n      // Refreshes the platform aa chart when an investment is saved\r\n      this.$store.dispatch(PLATFORM_AA_FETCH, {\r\n        'scenarioId': this.activeScenario.id,\r\n        'platformId': this.activePlatform.id,\r\n      })\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getInvestmentNames();\r\n    this.setCheckBoxes();\r\n    this.getLinkedInvestmentNames();\r\n  }\r\n};\r\n</script>\r\n"]}]}