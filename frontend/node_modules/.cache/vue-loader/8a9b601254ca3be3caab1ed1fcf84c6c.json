{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\App.vue","mtime":1612156895933},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZiYXIgZnJvbSAiQC9jb21wb25lbnRzL05hdmJhci52dWUiCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsKICBVU0VSX0ZFVENILAogIFJFRlJFU0hfQUNDRVNTX1RPS0VOLAogIFVTRVJfTE9HT1VULAp9IGZyb20gIkAvc3RvcmUvYWN0aW9ucy50eXBlIjsKaW1wb3J0IENoYXJ0IGZyb20gJ2NoYXJ0LmpzJzsKLy8gaW1wb3J0ICogYXMgQWRibG9jayBmcm9tICJAL2Fzc2V0cy9qcy9wcmViaWQtYWRzLmpzIjsKCkNoYXJ0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udEZhbWlseSA9ICJQb3BwaW5zIjsKCiAgZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkFwcCIsCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHByb2NlZWQ6IGZhbHNlLAogICAgICAgIGFsbG93ZWRSb3V0ZXM6IFsKICAgICAgICAgICJsb2dpbiIsCiAgICAgICAgICAidmVyaWZ5IiwKICAgICAgICAgICJyZXNldFBhc3N3b3JkIiwKICAgICAgICAgICJyZWdvIiwKICAgICAgICAgICJ2ZXJpZnlSZXNldCIsCiAgICAgICAgXQogICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICBOYXZiYXIKICAgIH0sCiAgICBoZWFkOiB7CiAgICAgIHNjcmlwdDogWwogICAgICAgIHsgdHlwZTogJ3RleHQvamF2YXNjcmlwdCcsIHNyYzogcmVxdWlyZSgiQC9hc3NldHMvanMvcHJlYmlkLWFkcy5qcyIpLCBhc3luYzogdHJ1ZSwgYm9keTogdHJ1ZX0sIC8vIEluc2VydCBpbiBib2R5CiAgICAgIF0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAuLi5tYXBHZXR0ZXJzKFsiYWN0aXZlVXNlciIsICJyZWZyZXNoVG9rZW4iLCAiYWNjZXNzVG9rZW5Jc1ZhbGlkIiwgInJlZnJlc2hUb2tlbklzVmFsaWQiXSksCiAgICAgIGlzTG9naW5WaWV3KCkgewogICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5uYW1lID09PSAnbG9naW4nCiAgICAgIH0KICAgIH0sCiAgICAvLyB3YXRjaDogewogICAgLy8gICBhY3RpdmVVc2VyICgpIHsKICAgIC8vICAgICB0aGlzLnNldFVzZXJJbmZvKCk7CiAgICAvLyAgIH0sCiAgICAvLyB9LAogICAgbWV0aG9kczogewogICAgICBzZXRVc2VySW5mbygpIHsKICAgICAgICBpZiAodGhpcy5hY2Nlc3NUb2tlbklzVmFsaWQgJiYgdGhpcy5yZWZyZXNoVG9rZW5Jc1ZhbGlkKSB7CiAgICAgICAgICBpZiAodGhpcy5fLmlzRW1wdHkodGhpcy5hY3RpdmVVc2VyKSkgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChVU0VSX0ZFVENIKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLnByb2NlZWQgPSB0cnVlOwogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5wcm9jZWVkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMucmVmcmVzaFRva2VuSXNWYWxpZCkgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChSRUZSRVNIX0FDQ0VTU19UT0tFTikudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goVVNFUl9GRVRDSCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnByb2NlZWQgPSB0cnVlOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVmcmVzaFRva2VuKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKFVTRVJfTE9HT1VUKQogICAgICAgICAgICB0aGlzLnByb2NlZWQgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFsbG93ZWRSb3V0ZXMuaW5jbHVkZXModGhpcy4kcm91dGUubmFtZSkpewogICAgICAgICAgICB0aGlzLnByb2NlZWQgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnbG9naW4nIH0pOwogICAgICAgICAgICB0aGlzLnByb2NlZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY2hlY2tBZEJsb2NrZXIoKSB7CiAgICAgICAgLy8gdGhpcy4kbG9hZFNjcmlwdChyZXF1aXJlKCJAL2Fzc2V0cy9qcy9wcmViaWQtYWRzLmpzIikpLnRoZW4oKCkgPT4gewogICAgICAgICAgaWYgKHdpbmRvdy5jYW5SdW5BZHMgPT09IHVuZGVmaW5lZCl7CiAgICAgICAgICAvLyBhZGJsb2NrZXIgZGV0ZWN0ZWQsIHNob3cgZmFsbGJhY2sKICAgICAgICAgICAgY29uc29sZS5sb2coImFkYmxvY2tlciBkZXRlY3RlZCIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2coImFkYmxvY2tlciBkaXNhYmxlZCIpOwogICAgICAgICAgfQogICAgICAgIC8vIH0pCiAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICB0aGlzLnNldFVzZXJJbmZvKCk7CiAgICAgIHRoaXMuY2hlY2tBZEJsb2NrZXIoKTsKICAgIH0KICB9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["\n<template>\n    <v-app style=\"background: #ffffff\">\n      <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n      <link href=\"https://fonts.googleapis.com/css?family=Poppins:100,300,400,500,700,900\" rel=\"stylesheet\">\n      <template v-if=\"accessTokenIsValid && proceed\">\n        <Navbar/>\n          <v-container style=\"width: 1012px; height: 100%\" class=\"pa-0\">\n              <router-view\n                :key=\"$route.fullPath\"\n                />\n          </v-container>\n\n        </template>\n        <template v-else-if=\"proceed || isLoginView\">\n          <router-view\n            :key=\"$route.fullPath\"\n            />\n        </template>\n    </v-app>\n</template>\n\n<script type=\"text/javascript\">\nimport Navbar from \"@/components/Navbar.vue\"\nimport { mapGetters } from \"vuex\";\nimport {\n  USER_FETCH,\n  REFRESH_ACCESS_TOKEN,\n  USER_LOGOUT,\n} from \"@/store/actions.type\";\nimport Chart from 'chart.js';\n// import * as Adblock from \"@/assets/js/prebid-ads.js\";\n\nChart.defaults.global.defaultFontFamily = \"Poppins\";\n\n  export default {\n    name: \"App\",\n    data() {\n      return {\n        proceed: false,\n        allowedRoutes: [\n          \"login\",\n          \"verify\",\n          \"resetPassword\",\n          \"rego\",\n          \"verifyReset\",\n        ]\n      }\n    },\n    components: {\n      Navbar\n    },\n    head: {\n      script: [\n        { type: 'text/javascript', src: require(\"@/assets/js/prebid-ads.js\"), async: true, body: true}, // Insert in body\n      ]\n    },\n    computed: {\n      ...mapGetters([\"activeUser\", \"refreshToken\", \"accessTokenIsValid\", \"refreshTokenIsValid\"]),\n      isLoginView() {\n        return this.$route.name === 'login'\n      }\n    },\n    // watch: {\n    //   activeUser () {\n    //     this.setUserInfo();\n    //   },\n    // },\n    methods: {\n      setUserInfo() {\n        if (this.accessTokenIsValid && this.refreshTokenIsValid) {\n          if (this._.isEmpty(this.activeUser)) {\n            this.$store.dispatch(USER_FETCH).then(() => {\n              this.proceed = true;\n            })\n          } else {\n            this.proceed = true;\n          }\n        } else {\n          if (this.refreshTokenIsValid) {\n            this.$store.dispatch(REFRESH_ACCESS_TOKEN).then(() => {\n              this.$store.dispatch(USER_FETCH).then(() => {\n                this.proceed = true;\n              })\n            })\n          } else if (this.refreshToken) {\n            this.$store.dispatch(USER_LOGOUT)\n            this.proceed = true;\n          } else if (this.allowedRoutes.includes(this.$route.name)){\n            this.proceed = true;\n          } else {\n            this.$router.push({ name: 'login' });\n            this.proceed = true;\n          }\n        }\n      },\n      checkAdBlocker() {\n        // this.$loadScript(require(\"@/assets/js/prebid-ads.js\")).then(() => {\n          if (window.canRunAds === undefined){\n          // adblocker detected, show fallback\n            console.log(\"adblocker detected\");\n          } else {\n            console.log(\"adblocker disabled\");\n          }\n        // })\n      }\n    },\n    mounted() {\n      this.setUserInfo();\n      this.checkAdBlocker();\n    }\n  }\n</script>\n"]}]}