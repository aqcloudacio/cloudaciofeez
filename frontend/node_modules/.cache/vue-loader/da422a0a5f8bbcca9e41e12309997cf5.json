{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\ThemeTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\ThemeTable.vue","mtime":1600077776291},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KaW1wb3J0IEFkZFRoZW1lIGZyb20gIkAvY29tcG9uZW50cy9BZGRUaGVtZS52dWUiOw0KaW1wb3J0IFdpdGhvdXRXYXRjaGVycyBmcm9tICJAL2NvbXBvbmVudHMvbWl4aW5zL1dpdGhvdXRXYXRjaGVycy5qcyI7DQppbXBvcnQgVGhlbWVTdHlsZXIgZnJvbSAiQC9jb21wb25lbnRzL1RoZW1lU3R5bGVyLnZ1ZSI7DQppbXBvcnQgVGhlbWVCdWlsZGVyIGZyb20gIkAvY29tcG9uZW50cy9UaGVtZUJ1aWxkZXIudnVlIjsNCmltcG9ydCBUaGVtZVNldHVwIGZyb20gIkAvY29tcG9uZW50cy9UaGVtZVNldHVwLnZ1ZSI7DQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgew0KICBVU0VSX1VQREFURQ0KfSBmcm9tICJAL3N0b3JlL2FjdGlvbnMudHlwZSI7DQppbXBvcnQgew0KICBTRVRfQUNUSVZFX1VTRVJfUFJPUA0KfSBmcm9tICJAL3N0b3JlL211dGF0aW9ucy50eXBlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiVGhlbWVUYWJsZSIsDQogIG1peGluczogW1dpdGhvdXRXYXRjaGVyc10sDQogIHByb3BzOiB7DQogICAgc2NlbmFyaW86IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhY3RpdmVTd2l0Y2g6IGZhbHNlLA0KICAgICAgZXJyb3I6IG51bGwsDQogICAgICBlZGl0VGhlbWVOYW1lOiBmYWxzZSwNCiAgICAgIHNlbGVjdGVkVGhlbWU6IHt9LA0KICAgICAgbmV3VGhlbWVOYW1lOiAnJywNCiAgICAgIHRoZW1lczogbnVsbCwNCiAgICAgIGFjdGl2ZTogJ3NldHVwJywNCiAgICB9Ow0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgQWRkVGhlbWUsDQogICAgVGhlbWVTdHlsZXIsDQogICAgVGhlbWVCdWlsZGVyLA0KICAgIFRoZW1lU2V0dXAsDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbImFjdGl2ZVVzZXIiXSksDQogICAgY2FuRWRpdCgpIHsNCiAgICAgIGlmICh0aGlzLmlzUHJhY3RpY2VBZG1pbiAmJiB0aGlzLmlzTm90QUZTTExpbWl0ZWQgJiYgdGhpcy5pc05vdERlZmF1bHRUZW1wbGF0ZSkgew0KICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICBpc05vdERlZmF1bHRUZW1wbGF0ZSgpIHsNCiAgICAgIGlmICh0aGlzLnRoZW1lcyAmJiAhdGhpcy5fLmlzRW1wdHkodGhpcy5zZWxlY3RlZFRoZW1lKSkgew0KICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRoZW1lLnRlbXBsYXRlICYmIHRoaXMuc2VsZWN0ZWRUaGVtZS5kZWZhdWx0KSB7DQogICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIGlzUHJhY3RpY2VBZG1pbigpIHsNCiAgICAgIGlmICh0aGlzLnRoZW1lcyAmJiAhdGhpcy5fLmlzRW1wdHkodGhpcy5zZWxlY3RlZFRoZW1lKSkgew0KICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRoZW1lLmFjdGl2ZV9wcmFjdGljZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkVGhlbWUuYWN0aXZlX3ByYWN0aWNlcy5zb21lKGl0ZW0gPT4gdGhpcy5hY3RpdmVVc2VyLmFkbWluX3ByYWN0aWNlcy5pbmNsdWRlcyhpdGVtKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIGlzTm90QUZTTExpbWl0ZWQoKSB7DQogICAgICBpZiAodGhpcy50aGVtZXMgJiYgdGhpcy5zZWxlY3RlZFRoZW1lKSB7DQogICAgICAgIGlmICh0aGlzLl8uaXNFbXB0eSh0aGlzLnNlbGVjdGVkVGhlbWUuYWZzbHMpKSB7DQogICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIHNlbGVjdGVkSXNBY3RpdmUoKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RlZFRoZW1lKSB7DQogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkVGhlbWUuaWQgPT09IHRoaXMuYWN0aXZlVXNlci5hY3RpdmVfdGhlbWUpIHsNCiAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2NlbmFyaW9UaGVtZSgpew0KICAgICAgaWYgKHRoaXMuc2NlbmFyaW8pIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmFyaW8udGhlbWU7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgc2VsZWN0ZWRUaGVtZTogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5zZXRBY3RpdmVTd2l0Y2goKQ0KICAgIH0sDQogICAgYWN0aXZlU3dpdGNoOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLnNldEFjdGl2ZVRoZW1lKCkNCiAgICB9LA0KICAgIHNjZW5hcmlvVGhlbWU6IGZ1bmN0aW9uKCkgew0KICAgICAgdGhpcy5zZXRTZWxlY3RlZFRoZW1lKCk7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2V0QWN0aXZlU3dpdGNoKCkgew0KICAgICAgdGhpcy4kd2l0aG91dFdhdGNoZXJzKCgpID0+IHsNCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJc0FjdGl2ZSkgew0KICAgICAgICAgIHRoaXMuYWN0aXZlU3dpdGNoID0gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmFjdGl2ZVN3aXRjaCA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0VGhlbWVJbmRleCh0aGVtZSkgew0KICAgICAgcmV0dXJuIHRoaXMudGhlbWVzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IHRoZW1lLmlkKTsNCiAgICB9LA0KICAgIHVwZGF0ZVRoZW1lTmFtZSgpIHsNCiAgICAgIHRoaXMudXBkYXRlVGhlbWUoJ25hbWUnLCB0aGlzLm5ld1RoZW1lTmFtZSkNCiAgICAgIHRoaXMuZWRpdFRoZW1lTmFtZSA9ICF0aGlzLmVkaXRUaGVtZU5hbWUNCiAgICAgIHRoaXMubmV3VGhlbWVOYW1lID0gbnVsbDsNCiAgICB9LA0KICAgIHVwZGF0ZVRoZW1lKHByb3AsdmFsdWUpIHsNCiAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS90aGVtZXMvJHt0aGlzLnNlbGVjdGVkVGhlbWUuaWR9L2A7DQogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIHsNCiAgICAgICAgICBbcHJvcF06IHZhbHVlLA0KICAgICAgICB9KS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUaGVtZVtwcm9wXSA9IGRhdGFbcHJvcF07DQogICAgICAgICAgdGhpcy50aGVtZXNbdGhpcy5nZXRUaGVtZUluZGV4KGRhdGEpXSA9IGRhdGE7DQogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlLWFjdGl2ZS10aGVtZScsIGRhdGEpDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgc2V0QWN0aXZlVGhlbWUoKSB7DQogICAgICBsZXQgc2V0QWN0aXZlID0gbnVsbDsNCiAgICAgIGlmICh0aGlzLmFjdGl2ZVN3aXRjaCkgew0KICAgICAgICBzZXRBY3RpdmUgPSB0aGlzLnNlbGVjdGVkVGhlbWUuaWQ7DQogICAgICB9DQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoU0VUX0FDVElWRV9VU0VSX1BST1AsIHsNCiAgICAgICAgJ3Byb3AnOiAnYWN0aXZlX3RoZW1lJywNCiAgICAgICAgJ3ZhbHVlJzogc2V0QWN0aXZlDQogICAgICB9KQ0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goVVNFUl9VUERBVEUpOw0KICAgIH0sDQogICAgYWRkVGhlbWUoZGF0YSkgew0KICAgICAgdGhpcy50aGVtZXMucHVzaChkYXRhKTsNCiAgICAgIHRoaXMuc2VsZWN0ZWRUaGVtZSA9IGRhdGE7DQogICAgfSwNCiAgICBnZXRUaGVtZURhdGEoKSB7DQogICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS90aGVtZXMvYDsNCiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgIHRoaXMudGhlbWVzID0gZGF0YS5yZXN1bHRzOw0KICAgICAgICB0aGlzLnNldFNlbGVjdGVkVGhlbWUoKTsNCiAgICAgICAgdGhpcy4kZW1pdCgnbG9hZC10aGVtZXMnLCBkYXRhLnJlc3VsdHMpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBzZXRTZWxlY3RlZFRoZW1lKCkgew0KICAgICAgaWYgKCF0aGlzLl8uaXNFbXB0eSh0aGlzLnNjZW5hcmlvKSkgew0KICAgICAgICB0aGlzLnNlbGVjdGVkVGhlbWUgPSB0aGlzLnRoZW1lcy5maW5kKGUgPT4gZS5pZCA9PT0gdGhpcy5zY2VuYXJpb1RoZW1lKTsNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVVc2VyLmFjdGl2ZV90aGVtZSAmJiB0aGlzLnRoZW1lcyl7DQogICAgICAgIHRoaXMuc2VsZWN0ZWRUaGVtZSA9IHRoaXMudGhlbWVzLmZpbmQoZSA9PiBlLmlkID09PSB0aGlzLmFjdGl2ZVVzZXIuYWN0aXZlX3RoZW1lKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0VGhlbWVEYXRhKCk7DQogICAgdGhpcy5zZXRBY3RpdmVTd2l0Y2goKQ0KICB9DQp9Ow0K"},{"version":3,"sources":["ThemeTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ThemeTable.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n  <v-container>\r\n    <v-form  @submit.prevent=\"onSubmit\">\r\n      <v-card class=\"px-4\" v-if=\"!scenario\">\r\n        <v-row align=\"center\">\r\n          <v-col\r\n          :cols=\"8\">\r\n            <v-select\r\n                v-if=\"!editThemeName\"\r\n                :items=\"themes\"\r\n                item-text=\"name\"\r\n                return-object\r\n                v-model=\"selectedTheme\"\r\n                label=\"Theme Name\"\r\n                outlined dense hide-details>\r\n                <template v-slot:append-outer v-if=\"canEdit\" style=\"margin-top: 0px\">\r\n                  <v-icon\r\n                    v-if=\"!editThemeName\"\r\n                    color=\"green\" icon\r\n                    @click=\"editThemeName = !editThemeName\">mdi-pencil-circle</v-icon>\r\n                </template>\r\n            </v-select>\r\n            <v-text-field\r\n              v-else\r\n              label=\"Theme Name\"\r\n              :value=\"selectedTheme.name\"\r\n              @change=\"newThemeName = $event\"\r\n              dense outlined\r\n              hide-details>\r\n              <template v-slot:append-outer v-if=\"canEdit\">\r\n                <v-icon\r\n                  v-if=\"editThemeName\"\r\n                  color=\"green\" icon\r\n                  @click=\"updateThemeName()\">mdi-check-circle</v-icon>\r\n              </template>\r\n            </v-text-field>\r\n          </v-col>\r\n          <v-col\r\n          :cols=\"3\">\r\n            <v-switch\r\n              v-if=\"!_.isEmpty(selectedTheme) && canEdit\"\r\n              v-model=\"activeSwitch\"\r\n              label=\"Active Theme\"/>\r\n          </v-col>\r\n\r\n          <v-col\r\n          :cols=\"1\">\r\n            <AddTheme\r\n              v-if=\"activeUser\"\r\n              :userID=\"activeUser.id\"\r\n              @add-theme=\"addTheme($event)\"/>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card>\r\n      <v-divider class=\"mt-6 mb-2\" v-if=\"(!_.isEmpty(selectedTheme) && !scenario)\"/>\r\n      <v-row v-if=\"!scenario\">\r\n        <v-col :cols=\"4\">\r\n          <v-card\r\n            @click=\"active='setup'\">\r\n            <v-card-title  class=\"justify-center\">\r\n              Document Preferences\r\n            </v-card-title>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col :cols=\"4\">\r\n          <v-card\r\n            @click=\"active='builder'\">\r\n            <v-card-title  class=\"justify-center\">\r\n              Table Builder\r\n            </v-card-title>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col :cols=\"4\">\r\n          <v-card\r\n            @click=\"active='styler'\">\r\n            <v-card-title  class=\"justify-center\">\r\n              Theme Styler\r\n            </v-card-title>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n      <v-divider class=\"mt-3 mb-3\" v-if=\"!_.isEmpty(selectedTheme) && !scenario\"/>\r\n      <v-row v-if=\"themes\">\r\n        <v-col>\r\n          <ThemeStyler\r\n            v-if=\"active=='styler' && !_.isEmpty(selectedTheme)\"\r\n            :theme=\"selectedTheme\"\r\n            :canEdit=\"canEdit\"\r\n          />\r\n          <ThemeBuilder\r\n            v-if=\"active=='builder' && !_.isEmpty(selectedTheme)\"\r\n            :theme=\"selectedTheme\"\r\n            :canEdit=\"canEdit\"\r\n          />\r\n          <ThemeSetup\r\n            v-if=\"active=='setup' && !_.isEmpty(selectedTheme)\"\r\n            :theme=\"selectedTheme\"\r\n            :canEdit=\"canEdit\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport AddTheme from \"@/components/AddTheme.vue\";\r\nimport WithoutWatchers from \"@/components/mixins/WithoutWatchers.js\";\r\nimport ThemeStyler from \"@/components/ThemeStyler.vue\";\r\nimport ThemeBuilder from \"@/components/ThemeBuilder.vue\";\r\nimport ThemeSetup from \"@/components/ThemeSetup.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport {\r\n  USER_UPDATE\r\n} from \"@/store/actions.type\";\r\nimport {\r\n  SET_ACTIVE_USER_PROP\r\n} from \"@/store/mutations.type\";\r\n\r\nexport default {\r\n  name: \"ThemeTable\",\r\n  mixins: [WithoutWatchers],\r\n  props: {\r\n    scenario: {\r\n      type: Object,\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activeSwitch: false,\r\n      error: null,\r\n      editThemeName: false,\r\n      selectedTheme: {},\r\n      newThemeName: '',\r\n      themes: null,\r\n      active: 'setup',\r\n    };\r\n  },\r\n  components: {\r\n    AddTheme,\r\n    ThemeStyler,\r\n    ThemeBuilder,\r\n    ThemeSetup,\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"activeUser\"]),\r\n    canEdit() {\r\n      if (this.isPracticeAdmin && this.isNotAFSLLimited && this.isNotDefaultTemplate) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    isNotDefaultTemplate() {\r\n      if (this.themes && !this._.isEmpty(this.selectedTheme)) {\r\n        if (this.selectedTheme.template && this.selectedTheme.default) {\r\n          return false\r\n        } else {\r\n          return true\r\n        }\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    isPracticeAdmin() {\r\n      if (this.themes && !this._.isEmpty(this.selectedTheme)) {\r\n        if (this.selectedTheme.active_practices.length > 0) {\r\n          return this.selectedTheme.active_practices.some(item => this.activeUser.admin_practices.includes(item));\r\n        } else {\r\n          return true\r\n        }\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    isNotAFSLLimited() {\r\n      if (this.themes && this.selectedTheme) {\r\n        if (this._.isEmpty(this.selectedTheme.afsls)) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    selectedIsActive() {\r\n      if (this.selectedTheme) {\r\n        if (this.selectedTheme.id === this.activeUser.active_theme) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    scenarioTheme(){\r\n      if (this.scenario) {\r\n        return this.scenario.theme;\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    selectedTheme: function () {\r\n      this.setActiveSwitch()\r\n    },\r\n    activeSwitch: function () {\r\n      this.setActiveTheme()\r\n    },\r\n    scenarioTheme: function() {\r\n      this.setSelectedTheme();\r\n    }\r\n  },\r\n  methods: {\r\n    setActiveSwitch() {\r\n      this.$withoutWatchers(() => {\r\n        if (this.selectedIsActive) {\r\n          this.activeSwitch = true;\r\n        } else {\r\n          this.activeSwitch = false;\r\n        }\r\n      })\r\n    },\r\n    getThemeIndex(theme) {\r\n      return this.themes.findIndex(item => item.id === theme.id);\r\n    },\r\n    updateThemeName() {\r\n      this.updateTheme('name', this.newThemeName)\r\n      this.editThemeName = !this.editThemeName\r\n      this.newThemeName = null;\r\n    },\r\n    updateTheme(prop,value) {\r\n      if (value) {\r\n        let endpoint = `/api/themes/${this.selectedTheme.id}/`;\r\n        apiService(endpoint, \"PATCH\", {\r\n          [prop]: value,\r\n        }).then(data => {\r\n          this.selectedTheme[prop] = data[prop];\r\n          this.themes[this.getThemeIndex(data)] = data;\r\n          this.$emit('update-active-theme', data)\r\n        });\r\n      }\r\n    },\r\n    setActiveTheme() {\r\n      let setActive = null;\r\n      if (this.activeSwitch) {\r\n        setActive = this.selectedTheme.id;\r\n      }\r\n      this.$store.commit(SET_ACTIVE_USER_PROP, {\r\n        'prop': 'active_theme',\r\n        'value': setActive\r\n      })\r\n      this.$store.dispatch(USER_UPDATE);\r\n    },\r\n    addTheme(data) {\r\n      this.themes.push(data);\r\n      this.selectedTheme = data;\r\n    },\r\n    getThemeData() {\r\n      let endpoint = `/api/themes/`;\r\n      apiService(endpoint).then(data => {\r\n        this.themes = data.results;\r\n        this.setSelectedTheme();\r\n        this.$emit('load-themes', data.results);\r\n      });\r\n    },\r\n    setSelectedTheme() {\r\n      if (!this._.isEmpty(this.scenario)) {\r\n        this.selectedTheme = this.themes.find(e => e.id === this.scenarioTheme);\r\n      } else if (this.activeUser.active_theme && this.themes){\r\n        this.selectedTheme = this.themes.find(e => e.id === this.activeUser.active_theme);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getThemeData();\r\n    this.setActiveSwitch()\r\n  }\r\n};\r\n</script>\r\n"]}]}