{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentDetail.vue","mtime":1602563636859},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KDQppbXBvcnQgew0KICBQTEFURk9STV9BQV9GRVRDSA0KfSBmcm9tICJAL3N0b3JlL2FjdGlvbnMudHlwZSI7DQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQoNCmltcG9ydCBJbnZlc3RtZW50QUFDaGFydFN1bW1hcnkgZnJvbSAiQC9jb21wb25lbnRzL0ludmVzdG1lbnRBQUNoYXJ0U3VtbWFyeS52dWUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJJbnZlc3RtZW50RGV0YWlsIiwNCiAgcHJvcHM6IHsNCiAgICBpbnZlc3RtZW50OiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBpZDogbnVsbCwNCiAgICAgICAgICBjdXN0b21fbmFtZTogbnVsbCwNCiAgICAgICAgICBpbnZlc3RtZW50X2NsYXNzOiBudWxsLA0KICAgICAgICAgIGFtb3VudDogbnVsbCwNCiAgICAgICAgICBpbnZlc3RtZW50X2ZlZTogbnVsbCwNCiAgICAgICAgICBfaW52ZXN0bWVudF9mZWU6IG51bGwsDQogICAgICAgICAgYnV5X3NwcmVhZDogbnVsbCwNCiAgICAgICAgICBzZWxsX3NwcmVhZDogbnVsbCwNCiAgICAgICAgICBjYXNoOiBmYWxzZSwNCiAgICAgICAgICBURDogZmFsc2UsDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgfSwNCiAgICB0ZW1wbGF0ZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZQ0KICAgIH0sDQogICAgaW52ZXN0bWVudENsYXNzTGlzdDogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBJbnZlc3RtZW50QUFDaGFydFN1bW1hcnksDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGVycm9yOiBudWxsLA0KICAgICAgZGlhbG9nOiBmYWxzZSwNCiAgICAgIHBsYXRmb3JtczogbnVsbCwNCiAgICAgIGFhU3VtbWFyeTogbnVsbCwNCiAgICAgIGFhOiBudWxsLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbImFjdGl2ZVNjZW5hcmlvIiwgImFjdGl2ZVBsYXRmb3JtIiwiaW52ZXN0bWVudE5hbWVzIl0pLA0KICAgIGludjogew0KICAgICAgZ2V0KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5pbnZlc3RtZW50DQogICAgICB9LA0KICAgICAgc2V0KG5ld0ludmVzdG1lbnQpIHsNCiAgICAgICAgcmV0dXJuIG5ld0ludmVzdG1lbnQNCiAgICAgIH0NCiAgICB9LA0KICAgIGN1c3RvbVJQQUFOYW1lcygpIHsNCiAgICAgIGlmICghdGhpcy5fLmlzRW1wdHkodGhpcy5hYVN1bW1hcnkpKSB7DQoNCiAgICAgICAgbGV0IGN1c3RvbV9uYW1lcyA9IHRoaXMuYWFTdW1tYXJ5Lm1hcChhID0+IGEuY3VzdG9tX25hbWUpOw0KICAgICAgICBsZXQgYWFuYW1lcyA9IFsuLi5uZXcgU2V0KGN1c3RvbV9uYW1lcyldOw0KICAgICAgICByZXR1cm4gYWFuYW1lcw0KICAgICAgICAvLyByZXR1cm4gdGhpcy5hYVN1bW1hcnkubWFwKGUgPT4gZS5jdXN0b21fbmFtZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gW10NCiAgICAgIH0NCiAgICB9LA0KICAgIGNsZWFyQUEoKSB7DQogICAgICBpZiAoIXRoaXMuXy5pc0VtcHR5KHRoaXMuYWEpICYmICF0aGlzLl8uaXNFbXB0eSh0aGlzLmFhU3VtbWFyeSkgKSB7DQogICAgICAgIC8vIElmIGFuIGludmVzdG1lbnQgaGFzIGFueSBhc3NldCBhbGxvY2F0aW9uIG5hbWVzIHdoaWNoIGRvIG5vdCBtYXRjaA0KICAgICAgICAvLyB0aGUgZGVmYXVsdCBSUCBBQSBOYW1lcyAoQUFTdW1tYXJ5Lm5hbWUpLCB0aGlzIGNvbXB1dGVkIHByb3Agd2lsbA0KICAgICAgICAvLyB0cmlnZ2VyIGEgc2lnbmFsIG9uIHNhdmUgdG8gY2xlYXIgYWxsIGV4aXN0aW5nIGFzc2V0IGFsbG9jYXRpb25zDQogICAgICAgIC8vIGFuZCByZXBsYWNlIHRoZW0gd2l0aCBkZWZhdWx0IFJQIEFBIE5hbWVzLg0KICAgICAgICBsZXQgZGVmYXVsdFJQQUFOYW1lcyA9IHRoaXMuYWFTdW1tYXJ5Lm1hcChlID0+IGUubmFtZSk7DQogICAgICAgIGxldCBjbGVhbkFBTmFtZXMgPSB0aGlzLmFhLmZpbHRlcihlID0+IGUubmFtZSAhPSBudWxsKQ0KICAgICAgICBsZXQgQUFOYW1lcyA9IGNsZWFuQUFOYW1lcy5tYXAoZSA9PiBlLm5hbWUubmFtZSk7DQogICAgICAgIHJldHVybiAoQUFOYW1lcy5zb21lKGUgPT4gIWRlZmF1bHRSUEFBTmFtZXMuaW5jbHVkZXMoZSkpKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlYnVpbHRBQSgpIHsNCiAgICAgIGlmICh0aGlzLmNsZWFyQUEpIHsNCiAgICAgICAgbGV0IHJlYnVpbHRBQSA9IG5ldyBBcnJheTsNCiAgICAgICAgZm9yIChsZXQgYWEgb2YgdGhpcy5hYVN1bW1hcnkpIHsNCiAgICAgICAgICBsZXQgaXRlbSA9IG5ldyBPYmplY3Q7DQogICAgICAgICAgaXRlbVsnbmFtZV9pZCddID0gbnVsbDsNCiAgICAgICAgICBpdGVtWydycF9uYW1lX2lkJ10gPSBhYS5pZA0KICAgICAgICAgIGl0ZW1bJ2ludmVzdG1lbnQnXSA9IHRoaXMuaW52LmlkOw0KICAgICAgICAgIGlmIChhYS5hYV90b3RhbF9wZXJjKSB7DQogICAgICAgICAgICBpdGVtWydwZXJjZW50YWdlJ10gPSAoYWEuYWFfdG90YWxfcGVyYykudG9GaXhlZCg2KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaXRlbVsncGVyY2VudGFnZSddID0gMA0KICAgICAgICAgIH0NCiAgICAgICAgICBpdGVtWyduYW1lJ10gPSBuZXcgT2JqZWN0KCk7DQogICAgICAgICAgaXRlbS5uYW1lWyduYW1lJ10gPSBhYS5uYW1lOw0KICAgICAgICAgIGlmIChpdGVtWydwZXJjZW50YWdlJ10gPiAwKSB7DQogICAgICAgICAgICByZWJ1aWx0QUEucHVzaChpdGVtKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmVidWlsdEFBDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gbnVsbA0KICAgICAgfQ0KICAgIH0sDQogICAgdW5pcXVlQUEoKSB7DQogICAgICBpZiAoIXRoaXMuXy5pc0VtcHR5KHRoaXMuYWFTdW1tYXJ5KSkgew0KICAgICAgICBsZXQgdW5pcXVlID0gW107DQogICAgICAgIGZvciAoY29uc3QgYWEgb2YgdGhpcy5hYVN1bW1hcnkpIHsNCiAgICAgICAgICBpZiAoIXRoaXMuXy5pc0VtcHR5KHVuaXF1ZSkpIHsNCiAgICAgICAgICAgIC8vIENoZWNrcyBmb3IgZXhpc3RlbmNlIG9mIHRoZSBjdXJyZW50IGl0ZXJhdGVkIGl0ZW0ncyBjdXN0b21fbmFtZSBpbiB0aGUgdW5pcXVlIGxpc3QNCiAgICAgICAgICAgIGxldCBmb3VuZCA9IHVuaXF1ZS5zb21lKHggPT4geC5jdXN0b21fbmFtZSA9PT0gYWEuY3VzdG9tX25hbWUpOw0KICAgICAgICAgICAgaWYgKCFmb3VuZCkgew0KICAgICAgICAgICAgICAvL0lmIG5vIG1hdGNoLCBhZGQgaXQNCiAgICAgICAgICAgICAgdW5pcXVlLnB1c2goYWEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBJZiB0aGUgdW5pcXVlIGxpc3QgZG9lcyBub3QgeWV0IGV4aXN0LCBhZGQgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGFhIGFycmF5DQogICAgICAgICAgICB1bmlxdWUucHVzaChhYSk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB1bmlxdWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBbXQ0KICAgICAgfQ0KICAgIH0sDQogICAgY3VzdG9tT3JGdWxsKCkgew0KICAgICAgaWYgKHRoaXMuaW52LmN1c3RvbV9uYW1lICE9IG51bGwpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuaW52LmN1c3RvbV9uYW1lDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gdGhpcy5pbnYubmFtZS5uYW1lDQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGludjogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5nZXRBQURhdGEoKTsNCiAgICAgIGlmICh0aGlzLnRlbXBsYXRlID09IHRydWUpIHsNCiAgICAgICAgdGhpcy5pbnYudGVtcGxhdGUgPSB0cnVlOw0KICAgICAgICB0aGlzLmdldFBsYXRmb3JtTGlzdCgpOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNldEFBUGVyY2VudGFnZShldmVudCwgdW5pcXVlU3VtbWFyeUl0ZW0pIHsNCiAgICAgIGxldCBhYVN1bW1hcnlJdGVtID0gdGhpcy5hYVN1bW1hcnkuZmluZCh4ID0+IHguaWQgPT09IHVuaXF1ZVN1bW1hcnlJdGVtLmlkKQ0KICAgICAgLy8gQ2hlY2tzIGZvciBtZXJnZWQgaXRlbXMgdGhhdCBhcmUgbm90IHNob3duIG9uIHRoZSB1bmlxdWUgYWEgbGlzdA0KICAgICAgLy8gVGhhdCBpcywgbWVyZ2VkIGl0ZW1zIHRoYXQgYXJlIGVzc2VudGFpbGx5ICJoaWRkZW4iLg0KICAgICAgLy8gVGhlcmUgd2lsbCBhbHdheXMgYmUgb25lIG1lcmdlZCBpdGVtIHRoYXQgaXMgbm90IGhpZGRlbg0KICAgICAgbGV0IG1lcmdlZEFBU3VtbWFyeUl0ZW1zID0gdGhpcy5hYVN1bW1hcnkuZmlsdGVyKA0KICAgICAgICB4ID0+ICh4LmlkICE9IHVuaXF1ZVN1bW1hcnlJdGVtLmlkKSAmJiAoeC5jdXN0b21fbmFtZSA9PT0gdW5pcXVlU3VtbWFyeUl0ZW0uY3VzdG9tX25hbWUpICkNCiAgICAgIC8vIElmIHRoZXJlIGFyZSBtZXJnZWQgaXRlbXMsIGNsZWFyIHRoZWlyIHZhbHVlcw0KICAgICAgaWYgKCF0aGlzLl8uaXNFbXB0eShtZXJnZWRBQVN1bW1hcnlJdGVtcykpIHsNCiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBtZXJnZWRBQVN1bW1hcnlJdGVtcykgew0KICAgICAgICAgIGl0ZW0uYWFfdG90YWxfcGVyYyA9IDANCiAgICAgICAgICBjb25zdCBpZHggPSB0aGlzLmFhLmZpbmRJbmRleCh4ID0+IHgucnBfbmFtZV9pZCA9PT0gaXRlbS5pZCk7DQogICAgICAgICAgaWYgKGlkeCA+PSAwKSB7DQogICAgICAgICAgICB0aGlzLmFhW2lkeF0ucGVyY2VudGFnZSA9IDA7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAodGhpcy5jbGVhckFBKSB7DQogICAgICAgIC8vIElmIEFBIGlzIGJlaW5nIGNsZWFyZWQsIGVkaXQgdGhlIGFhU3VtbWFyeSBhcnJheSBkaXJlY3RseS4NCiAgICAgICAgLy8gVGhpcyB3aWxsIGFsc28gdXBkYXRlIHRoZSByZWJ1aWx0QUEgY29tcHV0ZWQgcHJvcGVydHkgZm9yIEFQSSBjYWxsDQogICAgICAgIGFhU3VtbWFyeUl0ZW0uYWFfdG90YWxfcGVyYyA9IGV2ZW50LzEwMDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIEFkZCB0byBhYVN1bW1hcnkgc28gaXQgdXBkYXRlcyBjaGFydCBldGMNCiAgICAgICAgYWFTdW1tYXJ5SXRlbS5hYV90b3RhbF9wZXJjID0gZXZlbnQvMTAwOw0KDQogICAgICAgIGxldCBhYV9pdGVtID0gdGhpcy5hYS5maW5kKHggPT4geC5uYW1lLm5hbWUgPT09IGFhU3VtbWFyeUl0ZW0ubmFtZSk7DQogICAgICAgIC8vIExvb2tzIGZvciB0aGUgYWEgaXRlbSBpbiB0aGUgYWEgYXJyYXkgdGhhdCBtYXRjaGVzIHRoZSBSUEFBIG5hbWUNCiAgICAgICAgaWYgKGFhX2l0ZW0gIT0gbnVsbCkgew0KICAgICAgICAgIC8vIElmIGl0IGZpbmRzIGl0LCBzZXRzIHRoZSB2YWx1ZQ0KICAgICAgICAgIGFhX2l0ZW0ucGVyY2VudGFnZSA9IGV2ZW50LzEwMDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvLyBJZiBpdCBjYW4ndCBmaW5kIGl0IGluIHRoZSBhcnJheSwgY3JlYXRlcyBhIG5ldyBlbnRyeQ0KICAgICAgICAgIGxldCBuZXdfYWFfaXRlbSA9IG5ldyBPYmplY3QoKQ0KICAgICAgICAgIG5ld19hYV9pdGVtWyduYW1lX2lkJ10gPSBudWxsOw0KICAgICAgICAgIG5ld19hYV9pdGVtWydycF9uYW1lX2lkJ10gPSBhYVN1bW1hcnlJdGVtLmlkDQogICAgICAgICAgbmV3X2FhX2l0ZW1bJ2ludmVzdG1lbnQnXSA9IHRoaXMuaW52LmlkOw0KICAgICAgICAgIG5ld19hYV9pdGVtWydwZXJjZW50YWdlJ10gPSBldmVudC8xMDA7DQogICAgICAgICAgbmV3X2FhX2l0ZW1bJ25hbWUnXSA9IG5ldyBPYmplY3QoKTsNCiAgICAgICAgICBuZXdfYWFfaXRlbS5uYW1lWyduYW1lJ10gPSBhYVN1bW1hcnlJdGVtLm5hbWU7DQogICAgICAgICAgaWYgKGV2ZW50ID4gMCkgew0KICAgICAgICAgICAgdGhpcy5hYS5wdXNoKG5ld19hYV9pdGVtKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0QUFQZXJjZW50YWdlKGFhKSB7DQogICAgICBjb25zdCBmaWx0ZXJBcnIgPSB0aGlzLmFhU3VtbWFyeS5maWx0ZXIoDQogICAgICAgIHggPT4geC5jdXN0b21fbmFtZSA9PT0gYWEuY3VzdG9tX25hbWUpDQogICAgICAvLyBjcmVhdGVzIGFuIGFycmF5IHdpdGggdGhlIGZvdW5kIGl0ZW1zDQogICAgICBjb25zdCBwZXJjZW50YWdlQXJyID0gZmlsdGVyQXJyLm1hcChhID0+IGEuYWFfdG90YWxfcGVyYyk7DQogICAgICBpZiAoIXRoaXMuXy5pc0VtcHR5KHBlcmNlbnRhZ2VBcnIpKSB7DQogICAgICAgIC8vIElmIHRoZSBmb3VuZCBpdGVtIGFycmF5IGhhcyB2YWx1ZSwgc3VtcyB0aGUgaXRlbXMNCiAgICAgICAgY29uc3QgcGVyY2VudGFnZVRvdGFsID0gcGVyY2VudGFnZUFyci5yZWR1Y2UoKGFjYywgY3VyVmFsKSA9Pg0KICAgICAgICAgIE51bWJlcihhY2MpICsgTnVtYmVyKGN1clZhbCkpDQogICAgICAgIHJldHVybiAocGVyY2VudGFnZVRvdGFsKjEwMCkudG9GaXhlZCgyKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIElmIG5vIGRhdGEgaXMgZm91bmQsIGFkZHMgMCB0byB0aGUgYXJyYXkgdG8gbWFpbnRhaW4gZGF0YSBvcmRlci4NCiAgICAgICAgcmV0dXJuIDANCiAgICAgIH0NCiAgICAgIC8vIHJldHVybiAocmVzdWx0KjEwMCkudG9GaXhlZCgyKTsNCiAgICB9LA0KICAgIHNldFBlcmNlbnRhZ2UoZXZlbnQsIGludiwgZmllbGQpIHsNCiAgICAgIHRoaXMuaW52W2ZpZWxkXSA9IChldmVudC8xMDApLnRvRml4ZWQoNik7DQogICAgfSwNCiAgICBnZXRQZXJjZW50YWdlKGludiwgZmllbGQpIHsNCiAgICAgIHJldHVybiArKHRoaXMuaW52W2ZpZWxkXSoxMDApLnRvRml4ZWQoMik7DQogICAgfSwNCiAgICBnZXRBQVN1bW1hcnlEYXRhKCkgew0KICAgICAgaWYgKHRoaXMudGVtcGxhdGUgPT09IGZhbHNlKSB7DQogICAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuYWN0aXZlU2NlbmFyaW8uaWR9L3BsYXRmb3Jtcy8ke3RoaXMuYWN0aXZlUGxhdGZvcm0uaWR9L2ludmVzdG1lbnRzLyR7dGhpcy5pbnYuaWR9L2Fhc3VtbWFyeS9gOw0KICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgdGhpcy5hYVN1bW1hcnkgPSBkYXRhLnJlc3VsdHM7DQogICAgICAgICAgICB0aGlzLmdldEFBRGF0YSgpOw0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgZ2V0QUFEYXRhKCkgew0KICAgICAgaWYgKHRoaXMudGVtcGxhdGUgPT09IGZhbHNlKSB7DQogICAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuYWN0aXZlU2NlbmFyaW8uaWR9L3BsYXRmb3Jtcy8ke3RoaXMuYWN0aXZlUGxhdGZvcm0uaWR9L2ludmVzdG1lbnRzLyR7dGhpcy5pbnYuaWR9L2FhL2A7DQogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICB0aGlzLmFhID0gZGF0YS5yZXN1bHRzOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIG9uU3VibWl0KCkgew0KICAgICAgaWYgKHRoaXMudGVtcGxhdGUgPT0gZmFsc2UpIHsNCiAgICAgICAgbGV0IGludk9iaiA9IHRoaXMuaW52DQogICAgICAgIGlmICh0aGlzLmNsZWFyQUEpIHsNCiAgICAgICAgICAvLyBBZGRzIGEgbmV3IGFhIGFycmF5IHRvIHRoZSBpbnZlc3RtZW50IGlmIHRoZSBvbGQgb25lIGlzIHRvIGJlDQogICAgICAgICAgLy8gY2xlYXJlZA0KICAgICAgICAgIGludk9ialsnY2xlYXJfYWEnXSA9IHRoaXMuY2xlYXJBQTsNCiAgICAgICAgICBpbnZPYmpbJ2Fzc2V0X2FsbG9jYXRpb25zJ10gPSB0aGlzLnJlYnVpbHRBQTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvLyBPdGhlcndpc2UgYWRkcyB0aGUgZXhpc3RpbmcgYWEgYXJyYXkNCiAgICAgICAgICBpbnZPYmpbJ2Fzc2V0X2FsbG9jYXRpb25zJ10gPSB0aGlzLmFhOw0KICAgICAgICB9DQogICAgICAgIGZvciAobGV0IGFhIG9mIGludk9iai5hc3NldF9hbGxvY2F0aW9ucykgew0KICAgICAgICAgICAgYWEubmFtZSA9IGFhLm5hbWUuaWQNCiAgICAgICAgfQ0KICAgICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9zY2VuYXJpb3MvJHt0aGlzLmFjdGl2ZVNjZW5hcmlvLmlkfS9wbGF0Zm9ybXMvJHt0aGlzLmFjdGl2ZVBsYXRmb3JtLmlkfS9pbnZlc3RtZW50cy8ke3RoaXMuaW52LmlkfS9gOw0KICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUEFUQ0giLCBpbnZPYmopLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgdGhpcy5pbnYgPSBkYXRhOw0KICAgICAgICAgIHRoaXMuZ2V0QUFTdW1tYXJ5RGF0YSgpOw0KICAgICAgICAgIHRoaXMuZ2V0QWN0aXZlUGxhdGZvcm1BQSgpOw0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL2ludmVzdG1lbnR0ZW1wbGF0ZS8ke3RoaXMuaW52LmlkfS9gOw0KICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUEFUQ0giLCB0aGlzLmludikNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldEFjdGl2ZVBsYXRmb3JtQUEoKSB7DQogICAgICAvLyBSZWZyZXNoZXMgdGhlIHBsYXRmb3JtIGFhIGNoYXJ0IHdoZW4gYW4gaW52ZXN0bWVudCBpcyBzYXZlZA0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goUExBVEZPUk1fQUFfRkVUQ0gsIHsNCiAgICAgICAgJ3NjZW5hcmlvSWQnOiB0aGlzLmFjdGl2ZVNjZW5hcmlvLmlkLA0KICAgICAgICAncGxhdGZvcm1JZCc6IHRoaXMuYWN0aXZlUGxhdGZvcm0uaWQsDQogICAgICB9KQ0KICAgIH0sDQogICAgZ2V0UGxhdGZvcm1MaXN0KCkgew0KICAgICAgaWYgKHRoaXMudGVtcGxhdGUgPT09IHRydWUpIHsNCiAgICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvcGxhdGZvcm1uYW1lcy9gOw0KICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiR0VUIikudGhlbihkYXRhID0+IHsNCiAgICAgICAgICB0aGlzLnBsYXRmb3JtcyA9IGRhdGEucmVzdWx0czsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldEFBU3VtbWFyeURhdGEoKTsNCiAgICB0aGlzLmdldFBsYXRmb3JtTGlzdCgpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["InvestmentDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InvestmentDetail.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n\r\n  <v-form @submit.prevent=\"onSubmit\">\r\n    <v-container>\r\n      <v-row>\r\n        <v-col>\r\n          <v-card class=\"pa-4\">\r\n            <v-row>\r\n              <v-col v-if=\"template===true\">\r\n                <v-autocomplete\r\n                  v-model=\"inv.name\"\r\n                  :items=\"investmentNames\"\r\n                  :return-object=\"true\"\r\n                  item-text=\"name\"\r\n                  dense\r\n                  label=\"Investment Name\"/>\r\n              </v-col>\r\n              <!-- <v-col v-if=\"template==false\">\r\n                <v-text-field\r\n                  :value=\"customOrFull\"\r\n                  @input=\"inv.custom_name = $event\"\r\n                  dense\r\n                  label=\"Investment Name\"/>\r\n              </v-col> -->\r\n            </v-row>\r\n            <v-row>\r\n              <!-- <v-col>\r\n                <v-text-field\r\n                  v-if=\"template==false\"\r\n                  label=\"Amount\"\r\n                  dense\r\n                  type=\"number\"\r\n                  v-model=\"inv.amount\" />\r\n              </v-col> -->\r\n              <v-col>\r\n                <v-checkbox v-model=\"inv.cash\" label=\"Cash Account\"></v-checkbox>\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox v-model=\"inv.TD\" label=\"Term Deposit\"></v-checkbox>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <v-autocomplete\r\n                    hide-details\r\n                    clearable\r\n                    :value=\"inv.investment_class\"\r\n                    @input=\"(inv.investment_class = $event) && (inv.investment_class_id = $event)\"\r\n                    :items=\"investmentClassList\"\r\n                    item-text=\"name\"\r\n                    item-value=\"id\"\r\n                    label=\"Select an investment class\"/>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col>\r\n                  <v-text-field\r\n                    hide-details=\"auto\"\r\n                    label=\"Investment fee\"\r\n                    type=\"number\"\r\n                    suffix=\"%\"\r\n                    :value=\"getPercentage(inv, 'investment_fee')\"\r\n                    @change=\"setPercentage($event, inv, '_investment_fee')\"\r\n                  />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  hide-details=\"auto\"\r\n\r\n                  label=\"Buy spread\"\r\n                  type=\"number\"\r\n                  suffix=\"%\"\r\n                  :value=\"getPercentage(inv, 'buy_spread')\"\r\n                  @change=\"setPercentage($event, inv, 'buy_spread')\"\r\n                 />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  hide-details=\"auto\"\r\n\r\n                  label=\"Sell spread\"\r\n                  type=\"number\"\r\n                  suffix=\"%\"\r\n                  :value=\"getPercentage(inv, 'sell_spread')\"\r\n                  @change=\"setPercentage($event, inv, 'sell_spread')\" />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"template==true\">\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"APIR Code\"\r\n                  dense\r\n                  v-model=\"inv.APIR_code\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"ASX Code\"\r\n                  dense\r\n                  v-model=\"inv.ASX_code\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Other Code\"\r\n                  dense\r\n                  v-model=\"inv.other_code\" />\r\n                </v-col>\r\n              </v-row>\r\n              <v-row v-if=\"template==true\">\r\n                <v-col>\r\n                  <v-autocomplete\r\n                    label=\"Platform Limitation\"\r\n                    dense\r\n                    v-model=\"inv.platform_limitation\"\r\n                    :items=\"platforms\"\r\n                    item-text=\"name\"\r\n                    item-value=\"id\"\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n\r\n            <v-btn type=\"submit\" color=\"primary\">Save</v-btn>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col v-if=\"!template\">\r\n          <InvestmentAAChartSummary\r\n            :RPAANames=\"customRPAANames\"\r\n            :aaSummary=\"aaSummary\"\r\n          />\r\n          <v-card>\r\n              <v-row\r\n                class=\"mx-2\"\r\n                v-for=\"aa in uniqueAA\"\r\n                :key=\"aa.id\"\r\n                dense>\r\n                <v-col :cols=\"9\">\r\n                    {{ aa.custom_name }}\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  :cols=\"3\"\r\n                  dense\r\n                  suffix=\"%\"\r\n                  :value = \"getAAPercentage(aa)\"\r\n                  @change = \"setAAPercentage($event, aa)\"\r\n                  hide-details />\r\n                </v-col>\r\n              </v-row>\r\n            </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\n\r\nimport {\r\n  PLATFORM_AA_FETCH\r\n} from \"@/store/actions.type\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nimport InvestmentAAChartSummary from \"@/components/InvestmentAAChartSummary.vue\";\r\n\r\nexport default {\r\n  name: \"InvestmentDetail\",\r\n  props: {\r\n    investment: {\r\n      type: Object,\r\n      required: false,\r\n      default: function() {\r\n        return {\r\n          id: null,\r\n          custom_name: null,\r\n          investment_class: null,\r\n          amount: null,\r\n          investment_fee: null,\r\n          _investment_fee: null,\r\n          buy_spread: null,\r\n          sell_spread: null,\r\n          cash: false,\r\n          TD: false,\r\n        }\r\n      },\r\n    },\r\n    template: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    investmentClassList: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n  },\r\n  components: {\r\n    InvestmentAAChartSummary,\r\n  },\r\n  data() {\r\n    return {\r\n      error: null,\r\n      dialog: false,\r\n      platforms: null,\r\n      aaSummary: null,\r\n      aa: null,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"activeScenario\", \"activePlatform\",\"investmentNames\"]),\r\n    inv: {\r\n      get() {\r\n        return this.investment\r\n      },\r\n      set(newInvestment) {\r\n        return newInvestment\r\n      }\r\n    },\r\n    customRPAANames() {\r\n      if (!this._.isEmpty(this.aaSummary)) {\r\n\r\n        let custom_names = this.aaSummary.map(a => a.custom_name);\r\n        let aanames = [...new Set(custom_names)];\r\n        return aanames\r\n        // return this.aaSummary.map(e => e.custom_name);\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    clearAA() {\r\n      if (!this._.isEmpty(this.aa) && !this._.isEmpty(this.aaSummary) ) {\r\n        // If an investment has any asset allocation names which do not match\r\n        // the default RP AA Names (AASummary.name), this computed prop will\r\n        // trigger a signal on save to clear all existing asset allocations\r\n        // and replace them with default RP AA Names.\r\n        let defaultRPAANames = this.aaSummary.map(e => e.name);\r\n        let cleanAANames = this.aa.filter(e => e.name != null)\r\n        let AANames = cleanAANames.map(e => e.name.name);\r\n        return (AANames.some(e => !defaultRPAANames.includes(e)))\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    rebuiltAA() {\r\n      if (this.clearAA) {\r\n        let rebuiltAA = new Array;\r\n        for (let aa of this.aaSummary) {\r\n          let item = new Object;\r\n          item['name_id'] = null;\r\n          item['rp_name_id'] = aa.id\r\n          item['investment'] = this.inv.id;\r\n          if (aa.aa_total_perc) {\r\n            item['percentage'] = (aa.aa_total_perc).toFixed(6);\r\n          } else {\r\n            item['percentage'] = 0\r\n          }\r\n          item['name'] = new Object();\r\n          item.name['name'] = aa.name;\r\n          if (item['percentage'] > 0) {\r\n            rebuiltAA.push(item)\r\n          }\r\n        }\r\n        return rebuiltAA\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n    uniqueAA() {\r\n      if (!this._.isEmpty(this.aaSummary)) {\r\n        let unique = [];\r\n        for (const aa of this.aaSummary) {\r\n          if (!this._.isEmpty(unique)) {\r\n            // Checks for existence of the current iterated item's custom_name in the unique list\r\n            let found = unique.some(x => x.custom_name === aa.custom_name);\r\n            if (!found) {\r\n              //If no match, add it\r\n              unique.push(aa);\r\n            }\r\n          } else {\r\n            // If the unique list does not yet exist, add the first item in the aa array\r\n            unique.push(aa);\r\n          }\r\n        }\r\n        return unique\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    customOrFull() {\r\n      if (this.inv.custom_name != null) {\r\n        return this.inv.custom_name\r\n      } else {\r\n        return this.inv.name.name\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    inv: function () {\r\n      this.getAAData();\r\n      if (this.template == true) {\r\n        this.inv.template = true;\r\n        this.getPlatformList();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    setAAPercentage(event, uniqueSummaryItem) {\r\n      let aaSummaryItem = this.aaSummary.find(x => x.id === uniqueSummaryItem.id)\r\n      // Checks for merged items that are not shown on the unique aa list\r\n      // That is, merged items that are essentailly \"hidden\".\r\n      // There will always be one merged item that is not hidden\r\n      let mergedAASummaryItems = this.aaSummary.filter(\r\n        x => (x.id != uniqueSummaryItem.id) && (x.custom_name === uniqueSummaryItem.custom_name) )\r\n      // If there are merged items, clear their values\r\n      if (!this._.isEmpty(mergedAASummaryItems)) {\r\n        for (let item of mergedAASummaryItems) {\r\n          item.aa_total_perc = 0\r\n          const idx = this.aa.findIndex(x => x.rp_name_id === item.id);\r\n          if (idx >= 0) {\r\n            this.aa[idx].percentage = 0;\r\n          }\r\n        }\r\n      }\r\n      if (this.clearAA) {\r\n        // If AA is being cleared, edit the aaSummary array directly.\r\n        // This will also update the rebuiltAA computed property for API call\r\n        aaSummaryItem.aa_total_perc = event/100;\r\n      } else {\r\n        // Add to aaSummary so it updates chart etc\r\n        aaSummaryItem.aa_total_perc = event/100;\r\n\r\n        let aa_item = this.aa.find(x => x.name.name === aaSummaryItem.name);\r\n        // Looks for the aa item in the aa array that matches the RPAA name\r\n        if (aa_item != null) {\r\n          // If it finds it, sets the value\r\n          aa_item.percentage = event/100;\r\n        } else {\r\n          // If it can't find it in the array, creates a new entry\r\n          let new_aa_item = new Object()\r\n          new_aa_item['name_id'] = null;\r\n          new_aa_item['rp_name_id'] = aaSummaryItem.id\r\n          new_aa_item['investment'] = this.inv.id;\r\n          new_aa_item['percentage'] = event/100;\r\n          new_aa_item['name'] = new Object();\r\n          new_aa_item.name['name'] = aaSummaryItem.name;\r\n          if (event > 0) {\r\n            this.aa.push(new_aa_item)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    getAAPercentage(aa) {\r\n      const filterArr = this.aaSummary.filter(\r\n        x => x.custom_name === aa.custom_name)\r\n      // creates an array with the found items\r\n      const percentageArr = filterArr.map(a => a.aa_total_perc);\r\n      if (!this._.isEmpty(percentageArr)) {\r\n        // If the found item array has value, sums the items\r\n        const percentageTotal = percentageArr.reduce((acc, curVal) =>\r\n          Number(acc) + Number(curVal))\r\n        return (percentageTotal*100).toFixed(2);\r\n      } else {\r\n        // If no data is found, adds 0 to the array to maintain data order.\r\n        return 0\r\n      }\r\n      // return (result*100).toFixed(2);\r\n    },\r\n    setPercentage(event, inv, field) {\r\n      this.inv[field] = (event/100).toFixed(6);\r\n    },\r\n    getPercentage(inv, field) {\r\n      return +(this.inv[field]*100).toFixed(2);\r\n    },\r\n    getAASummaryData() {\r\n      if (this.template === false) {\r\n        let endpoint = `/api/scenarios/${this.activeScenario.id}/platforms/${this.activePlatform.id}/investments/${this.inv.id}/aasummary/`;\r\n        apiService(endpoint).then(data => {\r\n            this.aaSummary = data.results;\r\n            this.getAAData();\r\n        })\r\n      }\r\n    },\r\n    getAAData() {\r\n      if (this.template === false) {\r\n        let endpoint = `/api/scenarios/${this.activeScenario.id}/platforms/${this.activePlatform.id}/investments/${this.inv.id}/aa/`;\r\n        apiService(endpoint).then(data => {\r\n            this.aa = data.results;\r\n        });\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (this.template == false) {\r\n        let invObj = this.inv\r\n        if (this.clearAA) {\r\n          // Adds a new aa array to the investment if the old one is to be\r\n          // cleared\r\n          invObj['clear_aa'] = this.clearAA;\r\n          invObj['asset_allocations'] = this.rebuiltAA;\r\n        } else {\r\n          // Otherwise adds the existing aa array\r\n          invObj['asset_allocations'] = this.aa;\r\n        }\r\n        for (let aa of invObj.asset_allocations) {\r\n            aa.name = aa.name.id\r\n        }\r\n        let endpoint = `/api/scenarios/${this.activeScenario.id}/platforms/${this.activePlatform.id}/investments/${this.inv.id}/`;\r\n        apiService(endpoint, \"PATCH\", invObj).then(data => {\r\n          this.inv = data;\r\n          this.getAASummaryData();\r\n          this.getActivePlatformAA();\r\n        });\r\n      } else {\r\n        let endpoint = `/api/investmenttemplate/${this.inv.id}/`;\r\n        apiService(endpoint, \"PATCH\", this.inv)\r\n      }\r\n    },\r\n    getActivePlatformAA() {\r\n      // Refreshes the platform aa chart when an investment is saved\r\n      this.$store.dispatch(PLATFORM_AA_FETCH, {\r\n        'scenarioId': this.activeScenario.id,\r\n        'platformId': this.activePlatform.id,\r\n      })\r\n    },\r\n    getPlatformList() {\r\n      if (this.template === true) {\r\n        let endpoint = `/api/platformnames/`;\r\n        apiService(endpoint, \"GET\").then(data => {\r\n          this.platforms = data.results;\r\n        });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getAASummaryData();\r\n    this.getPlatformList();\r\n  }\r\n};\r\n</script>\r\n"]}]}