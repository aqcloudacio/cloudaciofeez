{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentSummary.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\InvestmentSummary.vue","mtime":1611120210153},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KaW1wb3J0IEFkZEludmVzdG1lbnQgZnJvbSAiQC9jb21wb25lbnRzL0FkZEludmVzdG1lbnQudnVlIjsNCmltcG9ydCBJbnZlc3RtZW50RGV0YWlsIGZyb20gIkAvY29tcG9uZW50cy9JbnZlc3RtZW50RGV0YWlsLnZ1ZSI7DQppbXBvcnQgRGVsZXRlT2JqIGZyb20gIkAvY29tcG9uZW50cy9EZWxldGVPYmoudnVlIjsNCmltcG9ydCB7IHJ1bGU4RGlnaXRzIH0gZnJvbSAiQC9jb21wb25lbnRzL21peGlucy9SdWxlcy5qcyI7DQoNCmltcG9ydCB7DQogIFBMQVRGT1JNX0FBX0ZFVENILA0KICBQTEFURk9STV9GRVRDSA0KfSBmcm9tICJAL3N0b3JlL2FjdGlvbnMudHlwZSI7DQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkludmVzdG1lbnRTdW1tYXJ5IiwNCiAgbWl4aW5zOiBbcnVsZThEaWdpdHNdLA0KICBpbmplY3Q6IFsicGxhdGZvcm1JZCIsICJzY2VuYXJpb0lkIl0sDQogIHByb3BzOiB7DQogICAgLy8gT25seSBwYXNzZWQgYXMgYSBwcm9wIHNvIGl0IGNhbiBiZSB3YXRjaGVkIGFuZCBuZXcgaW52ZXN0bWVudHMgY2FsbGVkDQogICAgLy8gd2hlbiB2YWx1ZXMgY2hhbmdlcyAoZHVlIHRvIHBvcnRmb2xpbyBhZGRpdGlvbikNCiAgICBwbGF0Zm9ybVRvdGFsOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogICAgcGxhdGZvcm1GZWVzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBBZGRJbnZlc3RtZW50LA0KICAgIERlbGV0ZU9iaiwNCiAgICBJbnZlc3RtZW50RGV0YWlsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGVycm9yOiBudWxsLA0KICAgICAgaW52ZXN0bWVudHM6IFtdLA0KICAgICAgY2hhbmdlTGlzdDogW10sDQogICAgICBpbnZlc3RtZW50Q2xhc3NMaXN0OiBbXSwNCiAgICAgIGVkaXROYW1lOiBbXSwNCiAgICAgIGVkaXRBbW91bnQ6IFtdLA0KICAgICAgZHVwbGljYXRlOiBbXSwNCiAgICB9Ow0KICB9LA0KICB3YXRjaDogew0KICAgIHBsYXRmb3JtVG90YWwoKSB7DQogICAgICB0aGlzLmdldEludmVzdG1lbnREYXRhKCk7DQogICAgfSwNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsiYWN0aXZlU2NlbmFyaW8iLCAiYWN0aXZlUGxhdGZvcm0iXSksDQogICAgY2hhbmdlTGlzdElEKCkgew0KICAgICAgcmV0dXJuIHRoaXMuY2hhbmdlTGlzdC5tYXAoZSA9PiBlLmlkKTsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyBzdHJpbmdUb0NvbG91cihzdHIpIHsNCiAgICAvLyAgIGxldCBoYXNoID0gMDsNCiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7DQogICAgLy8gICAgIGhhc2ggPSBzdHIuY2hhckNvZGVBdChpKSArICgoaGFzaCA8PCA1KSAtIGhhc2gpOw0KICAgIC8vICAgfQ0KICAgIC8vICAgbGV0IGNvbG91ciA9ICcjJzsNCiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7DQogICAgLy8gICAgIGxldCB2YWx1ZSA9IChoYXNoID4+IChpICogOCkpICYgMHhGRjsNCiAgICAvLyAgICAgY29sb3VyICs9ICgnMDAnICsgdmFsdWUudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTIpOw0KICAgIC8vICAgfQ0KICAgIC8vICAgcmV0dXJuIGNvbG91cjsNCiAgICAvLyB9LA0KICAgIGludmVzdG1lbnROYW1lKGludikgew0KICAgICAgaWYgKGludi5jdXN0b21fbmFtZSkgew0KICAgICAgICByZXR1cm4gaW52LmN1c3RvbV9uYW1lDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gaW52Lm5hbWUubmFtZQ0KICAgICAgfQ0KICAgIH0sDQogICAgcmVtb3ZlRnJvbUVkaXRlZChpbnZlc3RtZW50KSB7DQogICAgICAvLyBSZW1vdmUgZnJvbSBjaGFuZ2VMaXN0DQogICAgICBjb25zdCBpID0gdGhpcy5jaGFuZ2VMaXN0LmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IGludmVzdG1lbnQuaWQpOw0KICAgICAgdGhpcy5jaGFuZ2VMaXN0LnNwbGljZShpLDEpDQogICAgfSwNCiAgICBhZGRJbnZlc3RtZW50KGludmVzdG1lbnQpIHsNCiAgICAgIHRoaXMuaW52ZXN0bWVudHMudW5zaGlmdChpbnZlc3RtZW50KTsNCiAgICAgIHRoaXMuZHVwbGljYXRlLnVuc2hpZnQoLi4ue2ludmVzdG1lbnR9KTsNCiAgICB9LA0KICAgIGRlbGV0ZU9iaihvYmplY3RUb0RlbGV0ZSkgew0KICAgICAgLy8gRGVsZXRlcyB0aGUgZ2l2ZW4gaXRlbSBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSAiY2hhbmdlZCIgbGlzdA0KICAgICAgdGhpcy5yZW1vdmVGcm9tQ2hhbmdlZChvYmplY3RUb0RlbGV0ZSkNCiAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLmludmVzdG1lbnRzLCB0aGlzLmludmVzdG1lbnRzLmluZGV4T2Yob2JqZWN0VG9EZWxldGUpKTsNCiAgICB9LA0KICAgIGFkZFRvQ2hhbmdlZChpbnZlc3RtZW50LCBldmVudCkgew0KICAgICAgaWYgKGV2ZW50KSB7DQogICAgICAgIGludmVzdG1lbnQuY3VzdG9tX25hbWUgPSBldmVudDsNCiAgICAgIH0NCiAgICAgIC8vIEFkZCBnaXZlbiBpbnZlc3RtZW50IHRvIGEgbGlzdCBvZiBpbnZlc3RtZW50cyB0aGF0IGhhdmUgY2hhbmdlZC4NCiAgICAgIC8vIFRoaXMgbGlzdCBpcyB1c2VkIHRvICJzYXZlIGFsbCIgYXMgd2VsbCBhcyBzaG93IHNhdmUgdGlja3MgbmV4dCB0bw0KICAgICAgLy8gaW52ZXN0bWVudCBzdW1tYXJpZXMNCg0KICAgICAgLy8gIElmIGl0J3MgdW5jaGFuZ2VkIGZyb20gdGhlIG9yaWdpbmFsLCByZW1vdmUgaXQgZnJvbSB0aGUgY2hhbmdlZCBsaXN0DQogICAgICBpZiAoIXRoaXMuaW52SXNDaGFuZ2VkKGludmVzdG1lbnQpKSB7DQogICAgICAgIHRoaXMucmVtb3ZlRnJvbUNoYW5nZWQoaW52ZXN0bWVudCk7DQogICAgICB9IGVsc2UgaWYgKCF0aGlzLmNoYW5nZUxpc3QuaW5jbHVkZXMoaW52ZXN0bWVudCkpIHsNCiAgICAgICAgLy8gZWxzZSBpZiBpdCBpc24ndCBhbHJlYWR5IGluIHRoZSBjaGFuZ2VMaXN0LCBhZGQgaXQuDQogICAgICAgICAgdGhpcy5jaGFuZ2VMaXN0LnB1c2goaW52ZXN0bWVudCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyBJZiBpdCBpcyBjaGFuZ2VkLCBhbmQgaXMgaW4gdGhlIGNoYW5nZUxpc3QsIGRvIG5vdGhpbmcuDQogICAgICAgIC8vcGFzcw0KICAgICAgfQ0KICAgIH0sDQogICAgcmVtb3ZlRnJvbUNoYW5nZWQoaW52ZXN0bWVudCl7DQogICAgICAvLyBSZW1vdmVzIGdpdmVuIGludmVzdG1lbnQgZnJvbSB0aGUgY2hhbmdlbGlzdA0KICAgICAgY29uc3QgaSA9IHRoaXMuY2hhbmdlTGlzdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSBpbnZlc3RtZW50LmlkKTsNCiAgICAgIHRoaXMuY2hhbmdlTGlzdC5zcGxpY2UoaSwgMSk7DQogICAgfSwNCiAgICBpbnZJc0NoYW5nZWQoaW52ZXN0bWVudCl7DQogICAgICAvLyBDaGVja3MgdGhlIGdpdmVuIGludmVzdG1lbnQgYWdhaW5zdCB0aGUgb3JpZ2luYWwgbGlzdCBvZiBpbnZlc3RtZW50cw0KICAgICAgLy8gdG8gc2VlIGlmIHRoZSBhbW91bnQgb3IgY3VzdG9tX25hbWUgaGFzIGNoYW5nZWQuDQogICAgICBsZXQgb3JpZ2luYWwgPSB0aGlzLmR1cGxpY2F0ZS5maW5kKHggPT4geC5pZCA9PT0gaW52ZXN0bWVudC5pZCk7DQogICAgICBpZiAoKChpbnZlc3RtZW50LmN1c3RvbV9uYW1lIHx8IGludmVzdG1lbnQubmFtZS5uYW1lKSA9PT0gKG9yaWdpbmFsLmN1c3RvbV9uYW1lIHx8IG9yaWdpbmFsLm5hbWUubmFtZSkpDQogICAgICAgICYmIChpbnZlc3RtZW50LmFtb3VudCA9PSBOdW1iZXIob3JpZ2luYWwuYW1vdW50KSkpDQogICAgICB7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICB9LA0KICAgIHZhbGlkYXRlSW52ZXN0bWVudChpbnZlc3RtZW50KSB7DQogICAgICAvLyBNYW51YWwgdmFsaWRhdGlvbiB0byBibG9jayB1cGRhdGluZyBpbnZlc3RtZW50cy4gVnVldGlmeSBkb2Vzbid0DQogICAgICAvLyBzdXBwb3J0IG5lc3RlZCB2YWxpZGF0aW9uIGF0bS4NCiAgICAgIHJldHVybiAoaW52ZXN0bWVudC5hbW91bnQgPj0gMCAmJiBpbnZlc3RtZW50LmFtb3VudCA8IDEwMDAwMDAwICYmIGludmVzdG1lbnQuY3VzdG9tX25hbWUpDQogICAgfSwNCiAgICB1cGRhdGVJbnZlc3RtZW50KGludmVzdG1lbnQpIHsNCiAgICAgIGlmICh0aGlzLnZhbGlkYXRlSW52ZXN0bWVudChpbnZlc3RtZW50KSl7DQogICAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuc2NlbmFyaW9JZH0vcGxhdGZvcm1zLyR7dGhpcy5wbGF0Zm9ybUlkfS9pbnZlc3RtZW50cy8ke2ludmVzdG1lbnQuaWR9L2A7DQogICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIHsNCiAgICAgICAgICBjdXN0b21fbmFtZTogaW52ZXN0bWVudC5jdXN0b21fbmFtZSwNCiAgICAgICAgICBhbW91bnQ6IGludmVzdG1lbnQuYW1vdW50LA0KICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLnJlbW92ZUZyb21FZGl0ZWQoaW52ZXN0bWVudCk7DQogICAgICAgICAgdGhpcy5nZXRBY3RpdmVQbGF0Zm9ybUFBKCk7DQogICAgICAgICAgdGhpcy5nZXRBY3RpdmVQbGF0Zm9ybSgpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIG9uU3VibWl0KCkgew0KICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7DQogICAgICAgIGlmICh0aGlzLmNoYW5nZUxpc3QpIHsNCiAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCB0aGlzLmNoYW5nZUxpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuc2NlbmFyaW9JZH0vcGxhdGZvcm1zLyR7dGhpcy5wbGF0Zm9ybUlkfS9pbnZlc3RtZW50cy8ke3RoaXMuY2hhbmdlTGlzdFtpXS5pZH0vYDsNCiAgICAgICAgICAgIGF3YWl0IGFwaVNlcnZpY2UoZW5kcG9pbnQsICJQQVRDSCIsIHRoaXMuY2hhbmdlTGlzdFtpXSkNCiAgICAgICAgICB9Ow0KICAgICAgICAgIHRoaXMuZ2V0SW52ZXN0bWVudERhdGEoKTsNCiAgICAgICAgICB0aGlzLmdldEFjdGl2ZVBsYXRmb3JtQUEoKTsNCiAgICAgICAgICB0aGlzLmdldEFjdGl2ZVBsYXRmb3JtKCk7DQogICAgICAgIH07DQogICAgICB9DQogICAgfSwNCiAgICBnZXRBY3RpdmVQbGF0Zm9ybUFBKCkgew0KICAgICAgLy8gcmVmcmVzaGVzIHRoZSBwbGF0Zm9ybSBhYSBjaGFydCB3aGVuIGFuIGludmVzdG1lbnQgaXMgc2F2ZWQNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKFBMQVRGT1JNX0FBX0ZFVENILCB7DQogICAgICAgICdzY2VuYXJpb0lkJzogdGhpcy5hY3RpdmVTY2VuYXJpby5pZCwNCiAgICAgICAgJ3BsYXRmb3JtSWQnOiB0aGlzLmFjdGl2ZVBsYXRmb3JtLmlkLA0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldEFjdGl2ZVBsYXRmb3JtKCkgew0KICAgICAgLy8gcmVmcmVzaGVzIHRoZSBwbGF0Zm9ybSBhYSBjaGFydCB3aGVuIGFuIGludmVzdG1lbnQgaXMgc2F2ZWQNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKFBMQVRGT1JNX0ZFVENILCB7DQogICAgICAgICdzY2VuYXJpb0lkJzogdGhpcy5hY3RpdmVTY2VuYXJpby5pZCwNCiAgICAgICAgJ3BsYXRmb3JtSWQnOiB0aGlzLmFjdGl2ZVBsYXRmb3JtLmlkLA0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldEludmVzdG1lbnREYXRhKCkgew0KICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvc2NlbmFyaW9zLyR7dGhpcy5zY2VuYXJpb0lkfS9wbGF0Zm9ybXMvJHt0aGlzLnBsYXRmb3JtSWR9L2ludmVzdG1lbnRzL2A7DQogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGRhdGEgPT4gew0KICAgICAgICB0aGlzLmR1cGxpY2F0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YS5yZXN1bHRzKSk7DQogICAgICAgIHRoaXMuaW52ZXN0bWVudHMgPSBkYXRhLnJlc3VsdHM7DQogICAgICAgIHRoaXMuY2hhbmdlTGlzdCA9IFtdOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRJbnZlc3RtZW50Q2xhc3NMaXN0KCkgew0KICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvaW52ZXN0bWVudGNsYXNzL2A7DQogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiR0VUIikudGhlbihkYXRhID0+IHsNCiAgICAgICAgdGhpcy5pbnZlc3RtZW50Q2xhc3NMaXN0ID0gZGF0YS5yZXN1bHRzOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAvLyBzZXRDdXN0b21OYW1lcygpew0KICAgIC8vICAgaWYgKCF0aGlzLl8uaXNFbXB0eSh0aGlzLmludmVzdG1lbnRzKSkgew0KICAgIC8vICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuaW52ZXN0bWVudHMpIHsNCiAgICAvLyAgICAgICBpZiAoaXRlbS5jdXN0b21fbmFtZSA9PT0gIiIpIHsNCiAgICAvLyAgICAgICAgIGl0ZW0uY3VzdG9tX25hbWUgPSBpdGVtLm5hbWUubmFtZQ0KICAgIC8vICAgICAgIH0NCiAgICAvLyAgICAgfQ0KICAgIC8vICAgICB0aGlzLmR1cGxpY2F0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5pbnZlc3RtZW50cykpOw0KICAgIC8vICAgfQ0KICAgIC8vIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldEludmVzdG1lbnREYXRhKCk7DQogICAgdGhpcy5nZXRJbnZlc3RtZW50Q2xhc3NMaXN0KCk7DQogIH0NCn07DQo="},{"version":3,"sources":["InvestmentSummary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InvestmentSummary.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n  <v-form\r\n    @submit.prevent=\"onSubmit\"\r\n    ref=\"form\">\r\n    <v-expansion-panels\r\n      focusable\r\n      multiple>\r\n      <AddInvestment\r\n        class=\"transparent\"\r\n        @add-investment=\"getInvestmentData\"\r\n        v-on=\"$listeners\" />\r\n      <v-expansion-panel v-for=\"investment in investments\"\r\n        class=\"transparent expansion-grey3-button py-0\"\r\n        :key=\"investment.id\"\r\n        dense>\r\n        <v-expansion-panel-header class=\"px-3 py-2\" @keyup.space.prevent >\r\n          <v-row class=\"ma-0\">\r\n            <v-col\r\n              @click.stop\r\n              :cols=\"8\"\r\n              class=\"py-0 pl-0\">\r\n              <v-text-field\r\n                class=\"rounded-card small-text\"\r\n                @click.stop\r\n                @space.stop\r\n                :value=\"investmentName(investment)\"\r\n                @input=\"addToChanged(investment, $event)\"\r\n                hide-details=\"auto\"\r\n                dense solo\r\n                :rules=\"[v => !!(v) || 'You must enter an investment name']\">\r\n              </v-text-field>\r\n            </v-col>\r\n            <v-col\r\n              @click.stop\r\n              :cols=\"4\"\r\n              class=\"py-0 pl-0\">\r\n              <v-currency-field\r\n                class=\"rounded-card small-text\"\r\n                @click.stop\r\n                @input=\"addToChanged(investment)\"\r\n                v-model=\"investment.amount\"\r\n                hide-details=\"auto\"\r\n                prefix=\"$\"\r\n                :decimal-length=\"0\"\r\n                dense solo\r\n                :rules=\"$rule8Digits\">\r\n                <template v-slot:append-outer>\r\n                  <template  v-if=\"changeListID.includes(investment.id)\">\r\n                    <v-icon\r\n                      color=\"teal\"\r\n                      @click.stop\r\n                      @click=\"updateInvestment(investment)\"\r\n                    >mdi-check-circle-outline</v-icon>\r\n                  </template>\r\n                  <v-slide-x-reverse-transition\r\n                     mode=\"out-in\"\r\n                     >\r\n                     <DeleteObj\r\n                       :objectType=\"'investment'\"\r\n                       :objectToDelete=\"investment\"\r\n                       :portfolioId=\"investment.portfolio\"\r\n                       @delete-object=\"deleteObj\"\r\n                       v-on=\"$listeners\"\r\n                     />\r\n                  </v-slide-x-reverse-transition>\r\n                </template>\r\n              </v-currency-field>\r\n            </v-col>\r\n          </v-row>\r\n        </v-expansion-panel-header>\r\n        <v-expansion-panel-content>\r\n          <InvestmentDetail\r\n            :platformFees=\"platformFees\"\r\n             @add-investment=\"getInvestmentData\"\r\n             v-on=\"$listeners\"\r\n             :investment=\"investment\"\r\n             :investmentClassList=\"investmentClassList\"\r\n          />\r\n        </v-expansion-panel-content>\r\n    </v-expansion-panel>\r\n    </v-expansion-panels>\r\n    <v-row v-if=\"!(_.isEmpty(changeList))\">\r\n      <v-col class=\"text-right\">\r\n        <v-btn\r\n          @click=\"onSubmit\"\r\n          color=\"primary\"\r\n          small\r\n          rounded\r\n          ><span class=\"font-weight-light\">Update All Investments</span>\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n  </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport AddInvestment from \"@/components/AddInvestment.vue\";\r\nimport InvestmentDetail from \"@/components/InvestmentDetail.vue\";\r\nimport DeleteObj from \"@/components/DeleteObj.vue\";\r\nimport { rule8Digits } from \"@/components/mixins/Rules.js\";\r\n\r\nimport {\r\n  PLATFORM_AA_FETCH,\r\n  PLATFORM_FETCH\r\n} from \"@/store/actions.type\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"InvestmentSummary\",\r\n  mixins: [rule8Digits],\r\n  inject: [\"platformId\", \"scenarioId\"],\r\n  props: {\r\n    // Only passed as a prop so it can be watched and new investments called\r\n    // when values changes (due to portfolio addition)\r\n    platformTotal: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    platformFees: {\r\n      type: Array,\r\n      required: false,\r\n    }\r\n  },\r\n  components: {\r\n    AddInvestment,\r\n    DeleteObj,\r\n    InvestmentDetail\r\n  },\r\n  data() {\r\n    return {\r\n      error: null,\r\n      investments: [],\r\n      changeList: [],\r\n      investmentClassList: [],\r\n      editName: [],\r\n      editAmount: [],\r\n      duplicate: [],\r\n    };\r\n  },\r\n  watch: {\r\n    platformTotal() {\r\n      this.getInvestmentData();\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"activeScenario\", \"activePlatform\"]),\r\n    changeListID() {\r\n      return this.changeList.map(e => e.id);\r\n    }\r\n  },\r\n  methods: {\r\n    // stringToColour(str) {\r\n    //   let hash = 0;\r\n    //   for (let i = 0; i < str.length; i++) {\r\n    //     hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n    //   }\r\n    //   let colour = '#';\r\n    //   for (let i = 0; i < 3; i++) {\r\n    //     let value = (hash >> (i * 8)) & 0xFF;\r\n    //     colour += ('00' + value.toString(16)).substr(-2);\r\n    //   }\r\n    //   return colour;\r\n    // },\r\n    investmentName(inv) {\r\n      if (inv.custom_name) {\r\n        return inv.custom_name\r\n      } else {\r\n        return inv.name.name\r\n      }\r\n    },\r\n    removeFromEdited(investment) {\r\n      // Remove from changeList\r\n      const i = this.changeList.findIndex(item => item.id === investment.id);\r\n      this.changeList.splice(i,1)\r\n    },\r\n    addInvestment(investment) {\r\n      this.investments.unshift(investment);\r\n      this.duplicate.unshift(...{investment});\r\n    },\r\n    deleteObj(objectToDelete) {\r\n      // Deletes the given item and removes it from the \"changed\" list\r\n      this.removeFromChanged(objectToDelete)\r\n      this.$delete(this.investments, this.investments.indexOf(objectToDelete));\r\n    },\r\n    addToChanged(investment, event) {\r\n      if (event) {\r\n        investment.custom_name = event;\r\n      }\r\n      // Add given investment to a list of investments that have changed.\r\n      // This list is used to \"save all\" as well as show save ticks next to\r\n      // investment summaries\r\n\r\n      //  If it's unchanged from the original, remove it from the changed list\r\n      if (!this.invIsChanged(investment)) {\r\n        this.removeFromChanged(investment);\r\n      } else if (!this.changeList.includes(investment)) {\r\n        // else if it isn't already in the changeList, add it.\r\n          this.changeList.push(investment);\r\n      } else {\r\n        // If it is changed, and is in the changeList, do nothing.\r\n        //pass\r\n      }\r\n    },\r\n    removeFromChanged(investment){\r\n      // Removes given investment from the changelist\r\n      const i = this.changeList.findIndex(item => item.id === investment.id);\r\n      this.changeList.splice(i, 1);\r\n    },\r\n    invIsChanged(investment){\r\n      // Checks the given investment against the original list of investments\r\n      // to see if the amount or custom_name has changed.\r\n      let original = this.duplicate.find(x => x.id === investment.id);\r\n      if (((investment.custom_name || investment.name.name) === (original.custom_name || original.name.name))\r\n        && (investment.amount == Number(original.amount)))\r\n      {\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    validateInvestment(investment) {\r\n      // Manual validation to block updating investments. Vuetify doesn't\r\n      // support nested validation atm.\r\n      return (investment.amount >= 0 && investment.amount < 10000000 && investment.custom_name)\r\n    },\r\n    updateInvestment(investment) {\r\n      if (this.validateInvestment(investment)){\r\n        let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${investment.id}/`;\r\n        apiService(endpoint, \"PATCH\", {\r\n          custom_name: investment.custom_name,\r\n          amount: investment.amount,\r\n        }).then(() => {\r\n          this.removeFromEdited(investment);\r\n          this.getActivePlatformAA();\r\n          this.getActivePlatform();\r\n        });\r\n      }\r\n    },\r\n    async onSubmit() {\r\n      if (this.$refs.form.validate()) {\r\n        if (this.changeList) {\r\n          for (let i=0; i < this.changeList.length; i++) {\r\n            let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.changeList[i].id}/`;\r\n            await apiService(endpoint, \"PATCH\", this.changeList[i])\r\n          };\r\n          this.getInvestmentData();\r\n          this.getActivePlatformAA();\r\n          this.getActivePlatform();\r\n        };\r\n      }\r\n    },\r\n    getActivePlatformAA() {\r\n      // refreshes the platform aa chart when an investment is saved\r\n      this.$store.dispatch(PLATFORM_AA_FETCH, {\r\n        'scenarioId': this.activeScenario.id,\r\n        'platformId': this.activePlatform.id,\r\n      })\r\n    },\r\n    getActivePlatform() {\r\n      // refreshes the platform aa chart when an investment is saved\r\n      this.$store.dispatch(PLATFORM_FETCH, {\r\n        'scenarioId': this.activeScenario.id,\r\n        'platformId': this.activePlatform.id,\r\n      })\r\n    },\r\n    getInvestmentData() {\r\n      let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/`;\r\n      apiService(endpoint).then(data => {\r\n        this.duplicate = JSON.parse(JSON.stringify(data.results));\r\n        this.investments = data.results;\r\n        this.changeList = [];\r\n      });\r\n    },\r\n    getInvestmentClassList() {\r\n      let endpoint = `/api/investmentclass/`;\r\n      apiService(endpoint, \"GET\").then(data => {\r\n        this.investmentClassList = data.results;\r\n      });\r\n    },\r\n    // setCustomNames(){\r\n    //   if (!this._.isEmpty(this.investments)) {\r\n    //     for (let item of this.investments) {\r\n    //       if (item.custom_name === \"\") {\r\n    //         item.custom_name = item.name.name\r\n    //       }\r\n    //     }\r\n    //     this.duplicate = JSON.parse(JSON.stringify(this.investments));\r\n    //   }\r\n    // }\r\n  },\r\n  mounted() {\r\n    this.getInvestmentData();\r\n    this.getInvestmentClassList();\r\n  }\r\n};\r\n</script>\r\n<style>\r\n  .v-expansion-panel-content__wrap {\r\n    padding: 0 !important;\r\n  }\r\n</style>\r\n"]}]}