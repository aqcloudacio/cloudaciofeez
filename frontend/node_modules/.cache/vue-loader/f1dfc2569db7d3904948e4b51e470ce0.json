{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\AddCustomInvestment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\AddCustomInvestment.vue","mtime":1585798311474},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQWRkQ3VzdG9tSW52ZXN0bWVudCIsDQogIGluamVjdDogew0KICAgIHBsYXRmb3JtSWQ6IHsgZGVmYXVsdDogbnVsbCB9LA0KICAgIHNjZW5hcmlvSWQ6IHsgZGVmYXVsdDogbnVsbCB9LA0KICB9LA0KICBwcm9wczogew0KICAgIGludmVzdG1lbnQ6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIGN1c3RvbV9uYW1lOiBudWxsLA0KICAgICAgICAgIGludmVzdG1lbnRfY2xhc3M6IG51bGwsDQogICAgICAgICAgYW1vdW50OiBudWxsLA0KICAgICAgICAgIGludmVzdG1lbnRfZmVlOiBudWxsLA0KICAgICAgICAgIGJ1eV9zcHJlYWQ6IG51bGwsDQogICAgICAgICAgc2VsbF9zcHJlYWQ6IG51bGwsDQogICAgICAgICAgY2FzaDogZmFsc2UsDQogICAgICAgICAgVEQ6IGZhbHNlLA0KICAgICAgICAgIGFhOiBbXSwNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICB9LA0KICAgIGN1c3RvbTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZQ0KICAgIH0sDQogICAgdGVtcGxhdGU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICByZXF1aXJlZDogZmFsc2UNCiAgICB9LA0KICAgIG5hbWVMaXN0OiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfSwNCiAgICBpbnZlc3RtZW50Q2xhc3NMaXN0OiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfSwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8gbmV3SW52ZXN0bWVudDogew0KDQogICAgICAvLyAgIGFhOiB7fQ0KICAgICAgLy8gfSwNCiAgICAgIGVycm9yOiBudWxsLA0KICAgICAgZGlhbG9nOiBmYWxzZSwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGludjogew0KICAgICAgZ2V0KCkgew0KICAgICAgICByZXR1cm4gdGhpcy5pbnZlc3RtZW50DQogICAgICB9LA0KICAgICAgc2V0KG5ld0ludmVzdG1lbnQpIHsNCiAgICAgICAgcmV0dXJuIG5ld0ludmVzdG1lbnQNCiAgICAgIH0NCiAgICB9LA0KICAgIG5hbWVTZXQ6IGZ1bmN0aW9uICgpew0KICAgICAgbGV0IEFBTmFtZUxpc3QgPSBbXTsNCiAgICAgIGxldCBjaGVja0xpc3QgPSBbXQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5hbWVMaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOw0KICAgICAgICBsZXQgYWFOYW1lID0gdGhpcy5uYW1lTGlzdFtpXTsNCiAgICAgICAgICBpZiAoY2hlY2tMaXN0LmluY2x1ZGVzKGFhTmFtZS5jdXN0b21fbmFtZSkpIHsNCiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKCFmb3VuZCkgew0KICAgICAgICAgICAgbGV0IG5ld0FBID0ge307DQogICAgICAgICAgICBuZXdBQVthYU5hbWUuaWRdID0gYWFOYW1lLmN1c3RvbV9uYW1lOw0KICAgICAgICAgICAgbmV3QUEubmFtZSA9IGFhTmFtZS5uYW1lOw0KICAgICAgICAgICAgQUFOYW1lTGlzdC5wdXNoKG5ld0FBKTsNCiAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7DQogICAgICAgICAgICBjaGVja0xpc3QucHVzaChhYU5hbWUuY3VzdG9tX25hbWUpOw0KICAgICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiAoQUFOYW1lTGlzdCkNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgaW52ZXN0bWVudDogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5nZXRBQURhdGEoKTsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2V0QUFQZXJjZW50YWdlKGV2ZW50LCBhYU5hbWUsIGludikgew0KICAgICAgY29uc3QgYWFJRCA9IE51bWJlcihPYmplY3Qua2V5cyhhYU5hbWUpWzBdKTsNCiAgICAgIGxldCBmb3VuZCA9IGZhbHNlOw0KICAgICAgZm9yIChsZXQgaT0wOyBpIDwgdGhpcy5pbnYuYWEubGVuZ3RoOyBpKyspew0KICAgICAgICBmb3VuZCA9IGZhbHNlOw0KICAgICAgICBsZXQgcnAgPSBudWxsOw0KICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5pbnYuYWFbaV0ubmFtZSkubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgcnAgPSB0aGlzLmludi5hYVtpXS5ycF9uYW1lX2lkOw0KICAgICAgICAgIGlmIChycCA9PSBhYUlEKSB7DQogICAgICAgICAgICB0aGlzLmludi5hYVtpXS5wZXJjZW50YWdlID0gZXZlbnQvMTAwOw0KICAgICAgICAgICAgZm91bmQgPSB0cnVlOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJwID0gdGhpcy5pbnYuYWFbaV0ubmFtZS5ycF9hYW5hbWVfbGluazsNCiAgICAgICAgICBpZiAocnAuaW5jbHVkZXMoYWFJRCkpIHsNCiAgICAgICAgICAgIHRoaXMuaW52LmFhW2ldLnBlcmNlbnRhZ2UgPSBldmVudC8xMDA7DQogICAgICAgICAgICBmb3VuZCA9IHRydWU7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmICghZm91bmQpIHsNCiAgICAgICAgbGV0IG5ld0FsbG9jYXRpb24gPSB7fQ0KICAgICAgICBuZXdBbGxvY2F0aW9uLm5hbWUgPSB7fQ0KICAgICAgICBuZXdBbGxvY2F0aW9uLnJwX25hbWVfaWQgPSBhYUlEOw0KICAgICAgICBuZXdBbGxvY2F0aW9uLnBlcmNlbnRhZ2UgPSBldmVudC8xMDA7DQogICAgICAgIG5ld0FsbG9jYXRpb24uaW52ZXN0bWVudCA9IGludi5pZDsNCiAgICAgICAgbmV3QWxsb2NhdGlvbi5pZCA9IG51bGw7DQogICAgICAgIHRoaXMuaW52LmFhLnB1c2gobmV3QWxsb2NhdGlvbik7DQogICAgICB9DQogICAgfSwNCiAgICBnZXRBQVBlcmNlbnRhZ2UoYWFOYW1lLCBpbnYpIHsNCiAgICAgIGxldCBwZXJjZW50YWdlID0gMA0KICAgICAgaWYgKHRoaXMuaW52LmFhKSB7DQogICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGludi5hYS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgIGxldCBycCA9IG51bGw7DQogICAgICAgICAgY29uc3QgYWEgPSBOdW1iZXIoT2JqZWN0LmtleXMoYWFOYW1lKVswXSk7DQogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuaW52LmFhW2ldLm5hbWUpLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgcnAgPSB0aGlzLmludi5hYVtpXS5ycF9uYW1lX2lkOw0KICAgICAgICAgICAgaWYgKHJwID09IGFhKSB7DQogICAgICAgICAgICAgIHBlcmNlbnRhZ2UgKz0gTnVtYmVyKGludi5hYVtpXS5wZXJjZW50YWdlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcnAgPSB0aGlzLmludi5hYVtpXS5uYW1lLnJwX2FhbmFtZV9saW5rOw0KICAgICAgICAgICAgaWYgKHJwLmluY2x1ZGVzKGFhKSkgew0KICAgICAgICAgICAgICBwZXJjZW50YWdlICs9IE51bWJlcihpbnYuYWFbaV0ucGVyY2VudGFnZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9Ow0KICAgICAgcmV0dXJuICsocGVyY2VudGFnZSoxMDApLnRvRml4ZWQoMikNCiAgICB9LA0KICAgIGdldEFBRGF0YSgpIHsNCiAgICAgIGlmICh0aGlzLmN1c3RvbSA9PSBmYWxzZSkgew0KICAgICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9zY2VuYXJpb3MvJHt0aGlzLnNjZW5hcmlvSWR9L3BsYXRmb3Jtcy8ke3RoaXMucGxhdGZvcm1JZH0vaW52ZXN0bWVudHMvJHt0aGlzLmludi5pZH0vYWEvYDsNCiAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICB0aGlzLmludi5hYSA9IGRhdGEucmVzdWx0czsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBvblN1Ym1pdCgpIHsNCiAgICAgIGlmICh0aGlzLmN1c3RvbSA9PSB0cnVlKSB7DQogICAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuc2NlbmFyaW9JZH0vcGxhdGZvcm1zLyR7dGhpcy5wbGF0Zm9ybUlkfS9pbnZlc3RtZW50cy9gOw0KICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUE9TVCIsIHsNCiAgICAgICAgICBuYW1lX2lkOiBudWxsLA0KICAgICAgICAgIGN1c3RvbV9uYW1lOiB0aGlzLmludi5jdXN0b21fbmFtZSwNCiAgICAgICAgICBpbnZlc3RtZW50X2NsYXNzX2lkOiB0aGlzLmludi5pbnZlc3RtZW50X2NsYXNzLA0KICAgICAgICAgIHBsYXRmb3JtOiB0aGlzLnBsYXRmb3JtSWQsDQogICAgICAgICAgYW1vdW50OiB0aGlzLmludi5hbW91bnQsDQogICAgICAgICAgZWRpdGVkOiB0cnVlLA0KICAgICAgICAgIGludmVzdG1lbnRfZmVlOiB0aGlzLmludi5pbnZlc3RtZW50X2ZlZSwNCiAgICAgICAgICBidXlfc3ByZWFkOiB0aGlzLmludi5idXlfc3ByZWFkLA0KICAgICAgICAgIHNlbGxfc3ByZWFkOiB0aGlzLmludi5zZWxsX3NwcmVhZCwNCiAgICAgICAgICBjYXNoOiB0aGlzLmludi5jYXNoLA0KICAgICAgICAgIFREOiB0aGlzLmludi5URCwNCiAgICAgICAgfSkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICB0aGlzLmFkZEFBKGRhdGEuaWQpDQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmN1c3RvbSA9PSBmYWxzZSAmJiB0aGlzLnRlbXBsYXRlID09IGZhbHNlKSB7DQogICAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuc2NlbmFyaW9JZH0vcGxhdGZvcm1zLyR7dGhpcy5wbGF0Zm9ybUlkfS9pbnZlc3RtZW50cy8ke3RoaXMuaW52LmlkfS9gOw0KICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUEFUQ0giLCB0aGlzLmludikudGhlbihkYXRhID0+IHsNCiAgICAgICAgICB0aGlzLmFkZEFBKGRhdGEuaWQpDQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkQUEoaWQpIHsNCiAgICAgIGlmICh0aGlzLmludi5hYSkgew0KICAgICAgICBpZiAodGhpcy5jdXN0b20gPT0gdHJ1ZSB8fCB0aGlzLnRlbXBsYXRlID09IHRydWUpIHsNCiAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCB0aGlzLmludi5hYS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvc2NlbmFyaW9zLyR7dGhpcy5zY2VuYXJpb0lkfS9wbGF0Zm9ybXMvJHt0aGlzLnBsYXRmb3JtSWR9L2ludmVzdG1lbnRzLyR7aWR9L2FhL2A7DQogICAgICAgICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUE9TVCIsIHsNCiAgICAgICAgICAgICAgbmFtZV9pZDogbnVsbCwNCiAgICAgICAgICAgICAgcnBfbmFtZV9pZDogdGhpcy5pbnYuYWFbaV0ucnBfbmFtZV9pZCwNCiAgICAgICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5pbnYuYWFbaV0ucGVyY2VudGFnZSwNCiAgICAgICAgICAgICAgaW52ZXN0bWVudDogaWQNCiAgICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgICAgICB0aGlzLmdldEFBRGF0YSgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfTsNCiAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuJGVtaXQoImFkZC1pbnZlc3RtZW50Iix0aGlzLmludik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgdGhpcy5pbnYuYWEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGlmICh0aGlzLm5ld0FBKHRoaXMuaW52LmFhW2ldKSkgew0KICAgICAgICAgICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9zY2VuYXJpb3MvJHt0aGlzLnNjZW5hcmlvSWR9L3BsYXRmb3Jtcy8ke3RoaXMucGxhdGZvcm1JZH0vaW52ZXN0bWVudHMvJHt0aGlzLmludi5pZH0vYWEvJHt0aGlzLmludi5hYVtpXS5pZH0vYDsNCiAgICAgICAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBBVENIIiwgew0KICAgICAgICAgICAgICAgIG5hbWVfaWQ6IHRoaXMuaW52LmFhW2ldLm5hbWUuaWQsDQogICAgICAgICAgICAgICAgcnBfbmFtZV9pZDogdGhpcy5pbnYuYWFbaV0ucnBfbmFtZV9pZCwNCiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLmludi5hYVtpXS5wZXJjZW50YWdlLA0KICAgICAgICAgICAgICB9KS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0QUFEYXRhKCk7DQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBsZXQgZW5kcG9pbnQgPSBgL2FwaS9zY2VuYXJpb3MvJHt0aGlzLnNjZW5hcmlvSWR9L3BsYXRmb3Jtcy8ke3RoaXMucGxhdGZvcm1JZH0vaW52ZXN0bWVudHMvJHt0aGlzLmludi5pZH0vYWEvYDsNCiAgICAgICAgICAgICAgYXBpU2VydmljZShlbmRwb2ludCwgIlBPU1QiLCB7DQogICAgICAgICAgICAgICAgbmFtZV9pZDogbnVsbCwNCiAgICAgICAgICAgICAgICBycF9uYW1lX2lkOiB0aGlzLmludi5hYVtpXS5ycF9uYW1lX2lkLA0KICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMuaW52LmFhW2ldLnBlcmNlbnRhZ2UsDQogICAgICAgICAgICAgICAgaW52ZXN0bWVudDogaWQNCiAgICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgICAgICAgICAgICB0aGlzLmdldEFBRGF0YSgpOw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9Ow0KICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7DQogICAgICAgICAgdGhpcy4kZW1pdCgiYWRkLWludmVzdG1lbnQiLHRoaXMuaW52KTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgbmV3QUEoYWEpIHsNCiAgICAgIGlmIChhYS5uYW1lLnJwX2FhbmFtZV9saW5rKSB7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogICAgY3VzdG9tT3JGdWxsKCkgew0KICAgICAgaWYgKHRoaXMuaW52LmN1c3RvbV9uYW1lICE9ICIiKSB7DQogICAgICAgIHJldHVybiB0aGlzLmludi5jdXN0b21fbmFtZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuaW52Lm5hbWUubmFtZQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldEFBRGF0YSgpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["AddCustomInvestment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddCustomInvestment.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n  <v-dialog v-model=\"dialog\">\r\n    <template v-slot:activator=\"{ on }\">\r\n      <v-btn color=\"primary\" dark v-on=\"on\" v-if=\"custom == true\">\r\n        Create Custom Investment\r\n    </v-btn>\r\n    <v-btn color=\"primary\" dark v-on=\"on\" v-else>\r\n      <v-icon dark>\r\n        mdi-magnify\r\n      </v-icon>\r\n      </v-btn>\r\n  </template>\r\n  <v-form @submit.prevent=\"onSubmit\">\r\n    <v-container>\r\n      <v-row>\r\n        <v-col>\r\n          <v-card class=\"pa-4\">\r\n            <v-row>\r\n              <v-col v-if=\"template==true\">\r\n                <v-text-field\r\n                  v-model=\"inv.name.name\"\r\n                  dense\r\n                  label=\"Investment Name\"/>\r\n              </v-col>\r\n              <v-col v-if=\"template==false\">\r\n                <v-text-field\r\n                  :value=\"customOrFull()\"\r\n                  @input=\"inv.custom_name = $event\"\r\n                  dense\r\n                  label=\"Investment Name\"/>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <v-text-field\r\n                  label=\"Amount\"\r\n                  dense\r\n                  type=\"number\"\r\n                  v-model=\"inv.amount\" />\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox v-model=\"inv.cash\" label=\"Cash Account\"></v-checkbox>\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox v-model=\"inv.TD\" label=\"Term Deposit\"></v-checkbox>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row>\r\n              <v-col>\r\n                <v-autocomplete\r\n                    class=\"form-control\"\r\n                    v-model=\"inv.investment_class\"\r\n                    :items=\"investmentClassList\"\r\n                    item-text=\"name\"\r\n                    item-value=\"id\"\r\n                    dense\r\n                    label=\"Select an investment class\"/>\r\n                </v-col>\r\n              </v-row>\r\n              <v-row>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Investment fee\"\r\n                  dense\r\n                  type=\"number\"\r\n                  v-model=\"inv.investment_fee\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Buy spread\"\r\n                  dense\r\n                  type=\"number\"\r\n                  v-model=\"inv.buy_spread\" />\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  label=\"Sell spread\"\r\n                  dense\r\n                  type=\"number\"\r\n                  v-model=\"inv.sell_spread\" />\r\n                </v-col>\r\n              </v-row>\r\n\r\n            <v-btn type=\"submit\" color=\"primary\">Save</v-btn>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col>\r\n          <v-card class=\"pa-4\">\r\n            <v-card-title>Asset Allocation</v-card-title>\r\n              <v-row\r\n                v-for=\"aaName in nameSet\"\r\n                :key=\"Object.values(aaName)[0]\"\r\n                dense>\r\n                <v-col>\r\n                  <v-card-text>\r\n                    {{Object.values(aaName)[0]}}\r\n                  </v-card-text>\r\n                </v-col>\r\n                <v-col>\r\n                  <v-text-field\r\n                  dense outlined solo\r\n                  :value = \"getAAPercentage(aaName,inv)\"\r\n                  @input = \"setAAPercentage($event, aaName, inv)\" />\r\n                </v-col>\r\n              </v-row>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    </v-form>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nexport default {\r\n  name: \"AddCustomInvestment\",\r\n  inject: {\r\n    platformId: { default: null },\r\n    scenarioId: { default: null },\r\n  },\r\n  props: {\r\n    investment: {\r\n      type: Object,\r\n      required: false,\r\n      default: function() {\r\n        return {\r\n          custom_name: null,\r\n          investment_class: null,\r\n          amount: null,\r\n          investment_fee: null,\r\n          buy_spread: null,\r\n          sell_spread: null,\r\n          cash: false,\r\n          TD: false,\r\n          aa: [],\r\n        }\r\n      },\r\n    },\r\n    custom: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    template: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    nameList: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    investmentClassList: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // newInvestment: {\r\n\r\n      //   aa: {}\r\n      // },\r\n      error: null,\r\n      dialog: false,\r\n    };\r\n  },\r\n  computed: {\r\n    inv: {\r\n      get() {\r\n        return this.investment\r\n      },\r\n      set(newInvestment) {\r\n        return newInvestment\r\n      }\r\n    },\r\n    nameSet: function (){\r\n      let AANameList = [];\r\n      let checkList = []\r\n      for (let i = 0; i < this.nameList.length; i++) {\r\n        let found = false;\r\n        let aaName = this.nameList[i];\r\n          if (checkList.includes(aaName.custom_name)) {\r\n            found = true;\r\n          }\r\n          if (!found) {\r\n            let newAA = {};\r\n            newAA[aaName.id] = aaName.custom_name;\r\n            newAA.name = aaName.name;\r\n            AANameList.push(newAA);\r\n            found = false;\r\n            checkList.push(aaName.custom_name);\r\n          }\r\n      }\r\n      return (AANameList)\r\n    }\r\n  },\r\n  watch: {\r\n    investment: function () {\r\n      this.getAAData();\r\n    },\r\n  },\r\n  methods: {\r\n    setAAPercentage(event, aaName, inv) {\r\n      const aaID = Number(Object.keys(aaName)[0]);\r\n      let found = false;\r\n      for (let i=0; i < this.inv.aa.length; i++){\r\n        found = false;\r\n        let rp = null;\r\n        if (Object.keys(this.inv.aa[i].name).length === 0) {\r\n          rp = this.inv.aa[i].rp_name_id;\r\n          if (rp == aaID) {\r\n            this.inv.aa[i].percentage = event/100;\r\n            found = true;\r\n            break;\r\n          }\r\n        } else {\r\n          rp = this.inv.aa[i].name.rp_aaname_link;\r\n          if (rp.includes(aaID)) {\r\n            this.inv.aa[i].percentage = event/100;\r\n            found = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if (!found) {\r\n        let newAllocation = {}\r\n        newAllocation.name = {}\r\n        newAllocation.rp_name_id = aaID;\r\n        newAllocation.percentage = event/100;\r\n        newAllocation.investment = inv.id;\r\n        newAllocation.id = null;\r\n        this.inv.aa.push(newAllocation);\r\n      }\r\n    },\r\n    getAAPercentage(aaName, inv) {\r\n      let percentage = 0\r\n      if (this.inv.aa) {\r\n        for (let i=0; i < inv.aa.length; i++) {\r\n          let rp = null;\r\n          const aa = Number(Object.keys(aaName)[0]);\r\n          if (Object.keys(this.inv.aa[i].name).length === 0) {\r\n            rp = this.inv.aa[i].rp_name_id;\r\n            if (rp == aa) {\r\n              percentage += Number(inv.aa[i].percentage);\r\n            }\r\n          } else {\r\n            rp = this.inv.aa[i].name.rp_aaname_link;\r\n            if (rp.includes(aa)) {\r\n              percentage += Number(inv.aa[i].percentage);\r\n            }\r\n          }\r\n        }\r\n      };\r\n      return +(percentage*100).toFixed(2)\r\n    },\r\n    getAAData() {\r\n      if (this.custom == false) {\r\n        let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/aa/`;\r\n        apiService(endpoint).then(data => {\r\n          this.inv.aa = data.results;\r\n        });\r\n      }\r\n    },\r\n    onSubmit() {\r\n      if (this.custom == true) {\r\n        let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/`;\r\n        apiService(endpoint, \"POST\", {\r\n          name_id: null,\r\n          custom_name: this.inv.custom_name,\r\n          investment_class_id: this.inv.investment_class,\r\n          platform: this.platformId,\r\n          amount: this.inv.amount,\r\n          edited: true,\r\n          investment_fee: this.inv.investment_fee,\r\n          buy_spread: this.inv.buy_spread,\r\n          sell_spread: this.inv.sell_spread,\r\n          cash: this.inv.cash,\r\n          TD: this.inv.TD,\r\n        }).then(data => {\r\n          this.addAA(data.id)\r\n        });\r\n      } else if (this.custom == false && this.template == false) {\r\n        let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/`;\r\n        apiService(endpoint, \"PATCH\", this.inv).then(data => {\r\n          this.addAA(data.id)\r\n        });\r\n      }\r\n    },\r\n    addAA(id) {\r\n      if (this.inv.aa) {\r\n        if (this.custom == true || this.template == true) {\r\n          for (let i=0; i < this.inv.aa.length; i++) {\r\n            let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${id}/aa/`;\r\n            apiService(endpoint, \"POST\", {\r\n              name_id: null,\r\n              rp_name_id: this.inv.aa[i].rp_name_id,\r\n              percentage: this.inv.aa[i].percentage,\r\n              investment: id\r\n            }).then(data => {\r\n              console.log(data);\r\n              this.getAAData();\r\n            });\r\n          };\r\n          this.dialog = false;\r\n          this.$emit(\"add-investment\",this.inv);\r\n        } else {\r\n          for (let i=0; i < this.inv.aa.length; i++) {\r\n            if (this.newAA(this.inv.aa[i])) {\r\n              let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/aa/${this.inv.aa[i].id}/`;\r\n              apiService(endpoint, \"PATCH\", {\r\n                name_id: this.inv.aa[i].name.id,\r\n                rp_name_id: this.inv.aa[i].rp_name_id,\r\n                percentage: this.inv.aa[i].percentage,\r\n              }).then(data => {\r\n                console.log(data);\r\n                this.getAAData();\r\n              })\r\n            } else {\r\n              let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.platformId}/investments/${this.inv.id}/aa/`;\r\n              apiService(endpoint, \"POST\", {\r\n                name_id: null,\r\n                rp_name_id: this.inv.aa[i].rp_name_id,\r\n                percentage: this.inv.aa[i].percentage,\r\n                investment: id\r\n              }).then(data => {\r\n                console.log(data);\r\n                this.getAAData();\r\n              });\r\n            }\r\n          };\r\n          this.dialog = false;\r\n          this.$emit(\"add-investment\",this.inv);\r\n        }\r\n      }\r\n    },\r\n    newAA(aa) {\r\n      if (aa.name.rp_aaname_link) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    customOrFull() {\r\n      if (this.inv.custom_name != \"\") {\r\n        return this.inv.custom_name\r\n      } else {\r\n        return this.inv.name.name\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getAAData();\r\n  }\r\n};\r\n</script>\r\n"]}]}