{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Home.vue","mtime":1582086163636},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UiOwppbXBvcnQgRGVsZXRlT2JqIGZyb20gIkAvY29tcG9uZW50cy9EZWxldGVPYmoudnVlIjsKaW1wb3J0IEFkZFNjZW5hcmlvIGZyb20gIkAvY29tcG9uZW50cy9BZGRTY2VuYXJpby52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJob21lIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2NlbmFyaW9zOiBbXSwKICAgICAgbmV4dDogbnVsbCwKICAgICAgbG9hZGluZ1NjZW5hcmlvczogZmFsc2UsCiAgICAgIHJlcXVlc3RVc2VyOiBudWxsLAogICAgICBvYmplY3RUb0RlbGV0ZTogbnVsbAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIERlbGV0ZU9iaiwKICAgIEFkZFNjZW5hcmlvCiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRSZXF1ZXN0VXNlcigpIHsKICAgICAgdGhpcy5yZXF1ZXN0VXNlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW1haWwiKTsKICAgIH0sCiAgICBnZXRTY2VuYXJpb3MoKSB7CiAgICAgIC8vIG1ha2UgYSBHRVQgUmVxdWVzdCB0byB0aGUgcXVlc3Rpb25zIGxpc3QgZW5kcG9pbnQgYW5kIHBvcHVsYXRlIHRoZSBxdWVzdGlvbnMgYXJyYXkKICAgICAgbGV0IGVuZHBvaW50ID0gIi9hcGkvc2NlbmFyaW9zLyI7CiAgICAgIGlmICh0aGlzLm5leHQpIHsKICAgICAgICBlbmRwb2ludCA9IHRoaXMubmV4dDsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmdTY2VuYXJpb3MgPSB0cnVlOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGRhdGEgPT4gewogICAgICAgIHRoaXMuc2NlbmFyaW9zLnB1c2goLi4uZGF0YS5yZXN1bHRzKTsKICAgICAgICB0aGlzLmxvYWRpbmdTY2VuYXJpb3MgPSBmYWxzZTsKICAgICAgICBpZiAoZGF0YS5uZXh0KSB7CiAgICAgICAgICB0aGlzLm5leHQgPSBkYXRhLm5leHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZGRTY2VuYXJpbyhuZXdTY2VuYXJpbykgewogICAgICB0aGlzLnNjZW5hcmlvcy5wdXNoKG5ld1NjZW5hcmlvKTsKICAgIH0sCiAgICBkZWxldGVPYmoob2JqZWN0VG9EZWxldGUpIHsKICAgICAgdGhpcy4kZGVsZXRlKHRoaXMuc2NlbmFyaW9zLCB0aGlzLnNjZW5hcmlvcy5pbmRleE9mKG9iamVjdFRvRGVsZXRlKSk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zZXRSZXF1ZXN0VXNlcigpOwogICAgdGhpcy5nZXRTY2VuYXJpb3MoKTsKICAgIGRvY3VtZW50LnRpdGxlID0gIkZlZXoiOwogIH0KfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div>\n      <div v-for=\"scenario in scenarios\" :key=\"scenario.id\">\n        <router-link\n          :to=\"{ name: 'scenario', params: { id: scenario.id } }\"\n          class=\"scenario-link\"\n        >\n          <h2 class=\"display-2\">\n            <span> {{ scenario.client }}</span>\n          </h2>\n          <p>Created at: {{ scenario.created_at }}</p>\n          <p>Last modified: {{ scenario.updated_at }}</p>\n        </router-link>\n        <DeleteObj\n          :objectToDelete=\"scenario\"\n          :objectType=\"'scenario'\"\n          @delete-object=\"deleteObj\"\n        />\n        <hr />\n      </div>\n      <div>\n        <p v-show=\"loadingScenarios\">...loading...</p>\n        <button\n          v-show=\"next\"\n          @click=\"getScenarios\"\n          class=\"btn btn-sm btn-outline-success\"\n        >\n          Load more\n        </button>\n      </div>\n    </div>\n    <AddScenario :requestUser=\"requestUser\" @add-scenario=\"addScenario\" />\n    <hr />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { apiService } from \"@/common/api.service\";\nimport DeleteObj from \"@/components/DeleteObj.vue\";\nimport AddScenario from \"@/components/AddScenario.vue\";\n\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      scenarios: [],\n      next: null,\n      loadingScenarios: false,\n      requestUser: null,\n      objectToDelete: null\n    };\n  },\n  components: {\n    DeleteObj,\n    AddScenario\n  },\n  methods: {\n    setRequestUser() {\n      this.requestUser = window.localStorage.getItem(\"email\");\n    },\n    getScenarios() {\n      // make a GET Request to the questions list endpoint and populate the questions array\n      let endpoint = \"/api/scenarios/\";\n      if (this.next) {\n        endpoint = this.next;\n      }\n      this.loadingScenarios = true;\n      apiService(endpoint).then(data => {\n        this.scenarios.push(...data.results);\n        this.loadingScenarios = false;\n        if (data.next) {\n          this.next = data.next;\n        } else {\n          this.next = null;\n        }\n      });\n    },\n    addScenario(newScenario) {\n      this.scenarios.push(newScenario);\n    },\n    deleteObj(objectToDelete) {\n      this.$delete(this.scenarios, this.scenarios.indexOf(objectToDelete));\n    }\n  },\n  mounted() {\n    this.setRequestUser();\n    this.getScenarios();\n    document.title = \"Feez\";\n  }\n};\n</script>\n"]}]}