{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Platform.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Platform.vue","mtime":1586499549703},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KaW1wb3J0IFBsYXRmb3JtRGV0YWlsIGZyb20gIkAvY29tcG9uZW50cy9QbGF0Zm9ybURldGFpbC52dWUiOw0KaW1wb3J0IFBsYXRmb3JtRmVlU3VtbWFyeSBmcm9tICJAL2NvbXBvbmVudHMvUGxhdGZvcm1GZWVTdW1tYXJ5LnZ1ZSI7DQppbXBvcnQgSW52ZXN0bWVudFN1bW1hcnkgZnJvbSAiQC9jb21wb25lbnRzL0ludmVzdG1lbnRTdW1tYXJ5LnZ1ZSI7DQoNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiUGxhdGZvcm0iLA0KICBwcm92aWRlKCkgew0KICAgIHJldHVybiB7DQogICAgICBwbGF0Zm9ybUlkOiB0aGlzLmlkLA0KICAgICAgc2NlbmFyaW9JZDogdGhpcy5zY2VuYXJpb0lkDQogICAgfTsNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBzY2VuYXJpb0lkOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogICAgaWQ6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwbGF0Zm9ybToge30sDQogICAgICBwbGF0Zm9ybUZlZXM6IFtdLA0KICAgICAgZXJyb3I6IG51bGwsDQogICAgfTsNCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIFBsYXRmb3JtRmVlU3VtbWFyeSwNCiAgICBJbnZlc3RtZW50U3VtbWFyeSwNCiAgICBQbGF0Zm9ybURldGFpbCwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNldFBhZ2VUaXRsZSh0aXRsZSkgew0KICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZTsNCiAgICB9LA0KICAgIGdldFBsYXRmb3JtRGF0YSgpIHsNCiAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3NjZW5hcmlvcy8ke3RoaXMuc2NlbmFyaW9JZH0vcGxhdGZvcm1zLyR7dGhpcy5pZH0vYDsNCiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgIHRoaXMucGxhdGZvcm0gPSBkYXRhOw0KICAgICAgICBpZiAoZGF0YS5uYW1lICE9IG51bGwpIHsNCiAgICAgICAgICB0aGlzLnNldFBhZ2VUaXRsZShkYXRhLm5hbWUubmFtZSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5zZXRQYWdlVGl0bGUoZGF0YS5jdXN0b21fbmFtZSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0UGxhdGZvcm1GZWVEYXRhKCkgew0KICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvc2NlbmFyaW9zLyR7dGhpcy5zY2VuYXJpb0lkfS9wbGF0Zm9ybXMvJHt0aGlzLmlkfS9wbGF0Zm9ybWZlZXMvYDsNCiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgIHRoaXMucGxhdGZvcm1GZWVzID0gZGF0YS5yZXN1bHRzOw0KICAgICAgfSk7DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0UGxhdGZvcm1EYXRhKCk7DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRQbGF0Zm9ybUZlZURhdGEoKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Platform.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Platform.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <v-container v-if=\"platform\" >\r\n      <PlatformDetail\r\n        :platform=\"platform\"\r\n      />\r\n      <template\r\n        v-for=\"platformFee in platformFees\"\r\n        >\r\n        <PlatformFeeSummary\r\n          @modify-fees=\"getPlatformFeeData\"\r\n          :platformFee=\"platformFee\"\r\n          :key=\"platformFee.id\"\r\n        />\r\n      </template>\r\n      <InvestmentSummary\r\n        @add-investment=\"getPlatformData\"\r\n        @add-portfolio=\"getPlatformData\"\r\n        @delete-object=\"getPlatformData\"      />\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\nimport PlatformDetail from \"@/components/PlatformDetail.vue\";\r\nimport PlatformFeeSummary from \"@/components/PlatformFeeSummary.vue\";\r\nimport InvestmentSummary from \"@/components/InvestmentSummary.vue\";\r\n\r\n\r\nexport default {\r\n  name: \"Platform\",\r\n  provide() {\r\n    return {\r\n      platformId: this.id,\r\n      scenarioId: this.scenarioId\r\n    };\r\n  },\r\n  props: {\r\n    scenarioId: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    id: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      platform: {},\r\n      platformFees: [],\r\n      error: null,\r\n    };\r\n  },\r\n  components: {\r\n    PlatformFeeSummary,\r\n    InvestmentSummary,\r\n    PlatformDetail,\r\n  },\r\n  methods: {\r\n    setPageTitle(title) {\r\n      document.title = title;\r\n    },\r\n    getPlatformData() {\r\n      let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.id}/`;\r\n      apiService(endpoint).then(data => {\r\n        this.platform = data;\r\n        if (data.name != null) {\r\n          this.setPageTitle(data.name.name);\r\n        } else {\r\n          this.setPageTitle(data.custom_name);\r\n        }\r\n      });\r\n    },\r\n    getPlatformFeeData() {\r\n      let endpoint = `/api/scenarios/${this.scenarioId}/platforms/${this.id}/platformfees/`;\r\n      apiService(endpoint).then(data => {\r\n        this.platformFees = data.results;\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getPlatformData();\r\n  },\r\n  mounted() {\r\n    this.getPlatformFeeData();\r\n  }\r\n};\r\n</script>\r\n"]}]}