{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Templates.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\views\\Templates.vue","mtime":1607482729970},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UiOw0KDQppbXBvcnQgVGVtcGxhdGVTZWxlY3RvciBmcm9tICJAL2NvbXBvbmVudHMvdGVtcGxhdGVtZ210L1RlbXBsYXRlU2VsZWN0b3IudnVlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiVGVtcGxhdGVzIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcGxhdGZvcm1OYW1lczogW10sDQogICAgICBwb3J0Zm9saW9UZW1wbGF0ZXM6IFtdLA0KICAgICAgaW52ZXN0bWVudE5hbWVzOiBbXSwNCiAgICAgIGFhTmFtZXM6IFtdLA0KICAgICAgcmlza1Byb2ZpbGVHcm91cFRlbXBsYXRlczogW10sDQogICAgICBhZnNsczogW10sDQogICAgICB0aGVtZXM6IFtdLA0KICAgICAgdGVtcGxhdGVUeXBlczogWw0KICAgICAgICBbIlBsYXRmb3JtcyIsICJwbGF0Zm9ybU5hbWVzIl0sDQogICAgICAgIFsiUGxhdGZvcm0gTmFtZXMiLCJwbGF0Zm9ybU5hbWVzIl0sDQogICAgICAgIFsiUGxhdGZvcm0gRmVlcyIsInBsYXRmb3JtTmFtZXMiXSwNCiAgICAgICAgWyJQb3J0Zm9saW9zIiwicG9ydGZvbGlvVGVtcGxhdGVzIl0sDQogICAgICAgIFsiSW52ZXN0bWVudCBGZWVzIiwicGxhdGZvcm1OYW1lcyJdLA0KICAgICAgICBbIkludmVzdG1lbnRzIiwiaW52ZXN0bWVudE5hbWVzIl0sDQogICAgICAgIFsiSW52ZXN0bWVudCBOYW1lcyIsImludmVzdG1lbnROYW1lcyJdLA0KICAgICAgICBbIkFzc2V0IEFsbG9jYXRpb24iLCJpbnZlc3RtZW50TmFtZXMiXSwNCiAgICAgICAgWyJBc3NldCBBbGxvY2F0aW9uIE5hbWVzIiwiYWFOYW1lcyJdLA0KICAgICAgICBbIlJpc2sgUHJvZmlsZXMiLCJyaXNrUHJvZmlsZUdyb3VwVGVtcGxhdGVzIl0sDQogICAgICAgIFsiVGhlbWVzIiwidGhlbWVzIl0sDQogICAgICAgIFsiQUZTTHMiLCJhZnNscyJdLA0KICAgICAgXSwNCiAgICAgIGVuZHBvaW50czogWw0KICAgICAgICBbYC9hcGkvcGxhdGZvcm1uYW1lcy9gLCAicGxhdGZvcm1OYW1lcyJdLA0KICAgICAgICBbYC9hcGkvcG9ydGZvbGlvdGVtcGxhdGVzL2AsICJwb3J0Zm9saW9UZW1wbGF0ZXMiXSwNCiAgICAgICAgW2AvYXBpL2ludmVzdG1lbnRuYW1lL2AsICJpbnZlc3RtZW50TmFtZXMiXSwNCiAgICAgICAgW2AvYXBpL2FhbmFtZS9gLCAiYWFOYW1lcyJdLA0KICAgICAgICBbYC9hcGkvdGhlbWVzL2AsICJ0aGVtZXMiXSwNCiAgICAgICAgW2AvYXBpL3Jpc2twcm9maWxlZ3JvdXB0ZW1wbGF0ZXMvYCwgInJpc2tQcm9maWxlR3JvdXBUZW1wbGF0ZXMiXSwNCiAgICAgICAgW2AvYXBpL2Fmc2xzL2AsICJhZnNscyJdLA0KICAgICAgXSwNCiAgICB9Ow0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgVGVtcGxhdGVTZWxlY3RvciwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldE5hbWVMaXN0KHRlbXBsYXRlVHlwZSkgew0KICAgICAgcmV0dXJuIHRoaXNbdGVtcGxhdGVUeXBlWzFdXTsNCiAgICB9LA0KICAgIGN5Y2xlRW5kcG9pbnRzKCl7DQogICAgICBmb3IgKGxldCBlbmRwb2ludCBvZiB0aGlzLmVuZHBvaW50cykgew0KICAgICAgICB0aGlzLmdldE5hbWVEYXRhKGVuZHBvaW50KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldE5hbWVEYXRhKGVuZHBvaW50KSB7DQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzKTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKGVuZHBvaW50WzFdKTsNCiAgICAgIGxldCBkYXRhRmllbGQgPSBlbmRwb2ludFsxXTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXNbZGF0YUZpZWxkXSk7DQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzW2VuZHBvaW50WzFdXSk7DQogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50WzBdKS50aGVuKGRhdGEgPT4gew0KICAgICAgICB0aGlzW2RhdGFGaWVsZF0ucHVzaCguLi5kYXRhLnJlc3VsdHMpOw0KICAgICAgICBpZiAoZGF0YS5uZXh0KSB7DQogICAgICAgICAgdGhpcy5uZXh0ID0gZGF0YS5uZXh0Ow0KICAgICAgICAgIHRoaXMuZ2V0TmFtZURhdGEoW3RoaXMubmV4dCwgZW5kcG9pbnRbMV1dKQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuY3ljbGVFbmRwb2ludHMoKQ0KICB9DQp9Ow0K"},{"version":3,"sources":["Templates.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Templates.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-card>\r\n    <v-container fluid class=\"grey lighten 5\">\r\n      <v-card>\r\n        <v-card-title>\r\n          Template Management\r\n        </v-card-title>\r\n      </v-card>\r\n      <v-card\r\n        v-for=\"(templateType, index) in templateTypes\"\r\n        :key=\"index\"\r\n        class=\"pa-2\">\r\n        {{templateType[0]}}\r\n        <TemplateSelector\r\n          :nameList=\"getNameList(templateType)\"\r\n          :templateType=\"templateType[0]\"\r\n        />\r\n      </v-card>\r\n    </v-container>\r\n  </v-card >\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service\";\r\n\r\nimport TemplateSelector from \"@/components/templatemgmt/TemplateSelector.vue\";\r\n\r\nexport default {\r\n  name: \"Templates\",\r\n  data() {\r\n    return {\r\n      platformNames: [],\r\n      portfolioTemplates: [],\r\n      investmentNames: [],\r\n      aaNames: [],\r\n      riskProfileGroupTemplates: [],\r\n      afsls: [],\r\n      themes: [],\r\n      templateTypes: [\r\n        [\"Platforms\", \"platformNames\"],\r\n        [\"Platform Names\",\"platformNames\"],\r\n        [\"Platform Fees\",\"platformNames\"],\r\n        [\"Portfolios\",\"portfolioTemplates\"],\r\n        [\"Investment Fees\",\"platformNames\"],\r\n        [\"Investments\",\"investmentNames\"],\r\n        [\"Investment Names\",\"investmentNames\"],\r\n        [\"Asset Allocation\",\"investmentNames\"],\r\n        [\"Asset Allocation Names\",\"aaNames\"],\r\n        [\"Risk Profiles\",\"riskProfileGroupTemplates\"],\r\n        [\"Themes\",\"themes\"],\r\n        [\"AFSLs\",\"afsls\"],\r\n      ],\r\n      endpoints: [\r\n        [`/api/platformnames/`, \"platformNames\"],\r\n        [`/api/portfoliotemplates/`, \"portfolioTemplates\"],\r\n        [`/api/investmentname/`, \"investmentNames\"],\r\n        [`/api/aaname/`, \"aaNames\"],\r\n        [`/api/themes/`, \"themes\"],\r\n        [`/api/riskprofilegrouptemplates/`, \"riskProfileGroupTemplates\"],\r\n        [`/api/afsls/`, \"afsls\"],\r\n      ],\r\n    };\r\n  },\r\n  components: {\r\n    TemplateSelector,\r\n  },\r\n  methods: {\r\n    getNameList(templateType) {\r\n      return this[templateType[1]];\r\n    },\r\n    cycleEndpoints(){\r\n      for (let endpoint of this.endpoints) {\r\n        this.getNameData(endpoint);\r\n      }\r\n    },\r\n    getNameData(endpoint) {\r\n      // console.log(this);\r\n      // console.log(endpoint[1]);\r\n      let dataField = endpoint[1];\r\n      // console.log(this[dataField]);\r\n      // console.log(this[endpoint[1]]);\r\n      apiService(endpoint[0]).then(data => {\r\n        this[dataField].push(...data.results);\r\n        if (data.next) {\r\n          this.next = data.next;\r\n          this.getNameData([this.next, endpoint[1]])\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.cycleEndpoints()\r\n  }\r\n};\r\n</script>\r\n"]}]}