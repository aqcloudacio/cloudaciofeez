{"remainingRequest":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\ThemeStyler.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\src\\components\\ThemeStyler.vue","mtime":1593598833207},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\Feez\\feez\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhcGlTZXJ2aWNlIH0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UuanMiOw0KLy8gaW1wb3J0IERlbGV0ZVN0YWZmIGZyb20gIkAvY29tcG9uZW50cy9EZWxldGVTdGFmZi52dWUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJUaGVtZVN0eWxlciIsDQogIHByb3BzOiB7DQogICAgY2FuRWRpdDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgdGhlbWU6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNlbGVjdGVkRWxlbWVudDoge30sDQogICAgICBlbGVtZW50czogbnVsbCwNCiAgICAgIHN0eWxlOiBudWxsLA0KICAgICAgY29sb3JSdWxlczogWw0KICAgICAgICB2ID0+IC9eJHxeWzAtOUEtRl17Nn0kL2kudGVzdCh2KSB8fCAnTXVzdCBiZSBhIDYtZGlnaXQgaGV4YWRlY2ltYWwgY29kZScNCiAgICAgIF0sDQogICAgICBzaWRlczogWw0KICAgICAgICBbIlRvcCIsICJ0b3AiXSwNCiAgICAgICAgWyJCb3R0b20iLCAiYm90dG9tIl0sDQogICAgICAgIFsiTGVmdCIsICJzdGFydCJdLA0KICAgICAgICBbIlJpZ2h0IiwgImVuZCJdLA0KICAgICAgICBbIkluc2lkZSBWZXJ0aWNhbCIsICJpbnNpZGVWIl0sDQogICAgICAgIFsiSW5zaWRlIEhvcml6b250YWwiLCAiaW5zaWRlSCJdLA0KICAgICAgXSwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGxpc3RFbGVtZW50cygpIHsNCiAgICAgIGlmICh0aGlzLnN0eWxlICYmIHRoaXMuZWxlbWVudHMpIHsNCiAgICAgICAgbGV0IGxpc3RJdGVtcyA9IFtdOw0KICAgICAgICBsZXQgc3R5bGUgPSB0aGlzLnN0eWxlOw0KICAgICAgICBzdHlsZS5mcmllbmRseSA9ICJFbnRpcmUgVGFibGUiOw0KICAgICAgICBsaXN0SXRlbXMucHVzaChzdHlsZSk7DQogICAgICAgIGZvciAobGV0IGUgb2YgdGhpcy5lbGVtZW50cykgew0KICAgICAgICAgIGUuZnJpZW5kbHkgPSBlLnR5cGUucmVwbGFjZSgncm93JywnJykNCiAgICAgICAgICBsaXN0SXRlbXMucHVzaChlKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbGlzdEl0ZW1zDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gW10NCiAgICAgIH0NCiAgICB9LA0KICAgIGJvcmRlclNpZGVzKCl7DQogICAgICByZXR1cm4gdGhpcy5zaWRlcy5tYXAoZnVuY3Rpb24oeCkgew0KICAgICAgICAgIHJldHVybiB4WzBdOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBzZWxlY3RlZEJvcmRlclNpZGVzKCkgew0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50LmJvcmRlcl9zaWRlcykgew0KICAgICAgICBsZXQgYm9yZGVyU2lkZXMgPSBbXQ0KICAgICAgICBmb3IgKGxldCBzaWRlIG9mIHRoaXMuc2lkZXMpIHsNCiAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnQuYm9yZGVyX3NpZGVzLmluY2x1ZGVzKHNpZGVbMV0pKSB7DQogICAgICAgICAgICBib3JkZXJTaWRlcy5wdXNoKHNpZGVbMF0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gYm9yZGVyU2lkZXMNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBbXQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIC8vIERlbGV0ZVN0YWZmLA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgb25TdWJtaXQoKSB7DQogICAgICBsZXQgZW5kcG9pbnQgPSAnJw0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRFbGVtZW50LnN0eWxlKSB7DQogICAgICAgIGVuZHBvaW50ID0gYC9hcGkvdGhlbWVzLyR7dGhpcy50aGVtZS5pZH0vc3R5bGVzLyR7dGhpcy5zdHlsZS5pZH0vZWxlbWVudHMvJHt0aGlzLnNlbGVjdGVkRWxlbWVudC5pZH0vYDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGVuZHBvaW50ID0gYC9hcGkvdGhlbWVzLyR7dGhpcy50aGVtZS5pZH0vc3R5bGVzLyR7dGhpcy5zZWxlY3RlZEVsZW1lbnQuaWR9L2A7DQogICAgICB9DQogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50LCAiUEFUQ0giLCB0aGlzLnNlbGVjdGVkRWxlbWVudCkNCiAgICB9LA0KICAgIGdldFN0eWxlRGF0YSgpIHsNCiAgICAgIGxldCBlbmRwb2ludCA9IGAvYXBpL3RoZW1lcy8ke3RoaXMudGhlbWUuaWR9L3N0eWxlcy9gOw0KICAgICAgYXBpU2VydmljZShlbmRwb2ludCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgLy8gb25seSBvbmUgc3R5bGUgcGVyIHRoZW1lDQogICAgICAgIHRoaXMuc3R5bGUgPSBkYXRhLnJlc3VsdHNbMF07DQogICAgICAgIHRoaXMuZ2V0RWxlbWVudERhdGEoZGF0YS5yZXN1bHRzWzBdLmlkKTsNCiAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnQgPSB0aGlzLnN0eWxlOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRFbGVtZW50RGF0YShzdHlsZSkgew0KICAgICAgbGV0IGVuZHBvaW50ID0gYC9hcGkvdGhlbWVzLyR7dGhpcy50aGVtZS5pZH0vc3R5bGVzLyR7c3R5bGV9L2VsZW1lbnRzL2A7DQogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGRhdGEgPT4gew0KICAgICAgICB0aGlzLmVsZW1lbnRzID0gZGF0YS5yZXN1bHRzOw0KICAgICAgfSk7DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0U3R5bGVEYXRhKCk7DQogIH0NCn07DQo="},{"version":3,"sources":["ThemeStyler.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ThemeStyler.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n  <v-form  @submit.prevent=\"onSubmit\">\r\n    <v-card class=\"pa-4\">\r\n      <v-row>\r\n        <v-col :cols=\"10\">\r\n          <v-select\r\n            :items=\"listElements\"\r\n            item-text=\"friendly\"\r\n            return-object\r\n            v-model=\"selectedElement\"\r\n            label=\"Select element to style\"\r\n            outlined dense hide-details/>\r\n        </v-col>\r\n        <v-col :cols=\"2\">\r\n          <v-btn\r\n            v-if=\"canEdit\"\r\n            @click=\"onSubmit\"\r\n            color=\"primary\">\r\n            Save\r\n          </v-btn>\r\n        </v-col>\r\n      </v-row>\r\n      <v-divider class=\"mt-5\"/>\r\n        <v-row dense>\r\n          <v-col>\r\n            <v-row dense>\r\n              <v-col>\r\n                <v-card-title class=\"pa-2\">\r\n                  Font Options\r\n                </v-card-title>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row dense>\r\n              <v-col>\r\n                <v-text-field\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Font Name\"\r\n                  v-model=\"selectedElement.font_name\"\r\n                  dense outlined\r\n                  hide-details/>\r\n              </v-col>\r\n              <v-col>\r\n                <v-text-field\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Font Colour\"\r\n                  v-model=\"selectedElement.font_color\"\r\n                  :rules=\"colorRules\"\r\n                  dense outlined\r\n                  hide-details=\"auto\">\r\n                  <template v-slot:prepend-inner>\r\n                    <v-icon>#</v-icon>\r\n                  </template>\r\n                </v-text-field>\r\n              </v-col>\r\n              <v-col>\r\n                <v-text-field\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Font Size\"\r\n                  v-model=\"selectedElement.font_size\"\r\n                  type=\"number\"\r\n                  dense outlined\r\n                  hide-details>\r\n                  <template v-slot:append>\r\n                    <v-card-text class=\"pa-0\">\r\n                      pt\r\n                    </v-card-text>\r\n                  </template>\r\n                </v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row dense>\r\n              <v-col >\r\n                <v-checkbox\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Bold\"\r\n                  class='mt-2'\r\n                  v-model=\"selectedElement.font_bold\"\r\n                  dense outlined\r\n                  hide-details/>\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Italics\" class='mt-2'\r\n                  v-model=\"selectedElement.font_italic\"\r\n                  dense outlined\r\n                  hide-details/>\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Underline\" class='mt-2'\r\n                  v-model=\"selectedElement.font_underline\"\r\n                  dense outlined\r\n                  hide-details/>\r\n              </v-col>\r\n\r\n              <v-col>\r\n                <v-checkbox\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Small Caps\" class='mt-2'\r\n                  v-model=\"selectedElement.font_small_caps\"\r\n                  dense outlined\r\n                  hide-details/>\r\n              </v-col>\r\n              <v-col>\r\n                <v-checkbox\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Bullets\" class='mt-2'\r\n                  v-model=\"selectedElement.font_bullet_items\"\r\n                  dense outlined\r\n                  hide-details/>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row dense>\r\n              <v-col>\r\n                <v-card-title  class=\"pa-2\">\r\n                  Border and Fill Options\r\n                </v-card-title>\r\n              </v-col>\r\n            </v-row>\r\n            <v-row dense>\r\n              <v-col>\r\n                <v-text-field\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Border Colour\"\r\n                  v-model=\"selectedElement.border_color\"\r\n                  :rules=\"colorRules\"\r\n                  hide-details=\"auto\"\r\n                  dense outlined>\r\n                  <template v-slot:prepend-inner>\r\n                    <v-icon>#</v-icon>\r\n                  </template>\r\n                </v-text-field>\r\n              </v-col>\r\n              <v-col>\r\n                <v-text-field\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Border Width\"\r\n                  v-model=\"selectedElement.border_width\"\r\n                  dense outlined\r\n                  type=\"number\"\r\n                  hide-details>\r\n                  <template v-slot:append>\r\n                    <v-card-text class=\"pa-0\">\r\n                      pt\r\n                    </v-card-text>\r\n                  </template>\r\n                </v-text-field>\r\n              </v-col>\r\n              <v-col>\r\n                <v-select\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Border Sides\"\r\n                  :items=\"borderSides\"\r\n                  :value=\"selectedBorderSides\"\r\n                  multiple\r\n                  dense outlined hide-details\r\n                />\r\n              </v-col>\r\n            </v-row>\r\n            <v-row dense v-if=\"selectedElement.style\">\r\n              <v-col :cols='4' >\r\n                <v-text-field\r\n                  :disabled=\"!canEdit\"\r\n                  label=\"Fill Colour\"\r\n                  v-model=\"selectedElement.background_color\"\r\n                  :rules=\"colorRules\"\r\n                  hide-details=\"auto\"\r\n                  dense outlined\r\n                >\r\n                <template v-slot:prepend-inner>\r\n                  <v-icon>#</v-icon>\r\n                </template>\r\n              </v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-col>\r\n        </v-row>\r\n    </v-card>\r\n  </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { apiService } from \"@/common/api.service.js\";\r\n// import DeleteStaff from \"@/components/DeleteStaff.vue\";\r\n\r\nexport default {\r\n  name: \"ThemeStyler\",\r\n  props: {\r\n    canEdit: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    theme: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      selectedElement: {},\r\n      elements: null,\r\n      style: null,\r\n      colorRules: [\r\n        v => /^$|^[0-9A-F]{6}$/i.test(v) || 'Must be a 6-digit hexadecimal code'\r\n      ],\r\n      sides: [\r\n        [\"Top\", \"top\"],\r\n        [\"Bottom\", \"bottom\"],\r\n        [\"Left\", \"start\"],\r\n        [\"Right\", \"end\"],\r\n        [\"Inside Vertical\", \"insideV\"],\r\n        [\"Inside Horizontal\", \"insideH\"],\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    listElements() {\r\n      if (this.style && this.elements) {\r\n        let listItems = [];\r\n        let style = this.style;\r\n        style.friendly = \"Entire Table\";\r\n        listItems.push(style);\r\n        for (let e of this.elements) {\r\n          e.friendly = e.type.replace('row','')\r\n          listItems.push(e);\r\n        }\r\n        return listItems\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    borderSides(){\r\n      return this.sides.map(function(x) {\r\n          return x[0];\r\n      });\r\n    },\r\n    selectedBorderSides() {\r\n      if (this.selectedElement.border_sides) {\r\n        let borderSides = []\r\n        for (let side of this.sides) {\r\n          if (this.selectedElement.border_sides.includes(side[1])) {\r\n            borderSides.push(side[0]);\r\n          }\r\n        }\r\n        return borderSides\r\n      } else {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    // DeleteStaff,\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      let endpoint = ''\r\n      if (this.selectedElement.style) {\r\n        endpoint = `/api/themes/${this.theme.id}/styles/${this.style.id}/elements/${this.selectedElement.id}/`;\r\n      } else {\r\n        endpoint = `/api/themes/${this.theme.id}/styles/${this.selectedElement.id}/`;\r\n      }\r\n      apiService(endpoint, \"PATCH\", this.selectedElement)\r\n    },\r\n    getStyleData() {\r\n      let endpoint = `/api/themes/${this.theme.id}/styles/`;\r\n      apiService(endpoint).then(data => {\r\n        // only one style per theme\r\n        this.style = data.results[0];\r\n        this.getElementData(data.results[0].id);\r\n        this.selectedElement = this.style;\r\n      });\r\n    },\r\n    getElementData(style) {\r\n      let endpoint = `/api/themes/${this.theme.id}/styles/${style}/elements/`;\r\n      apiService(endpoint).then(data => {\r\n        this.elements = data.results;\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getStyleData();\r\n  }\r\n};\r\n</script>\r\n"]}]}